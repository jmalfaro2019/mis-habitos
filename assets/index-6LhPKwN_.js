(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function W0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Jd={exports:{}},Dl={};var hv;function oS(){if(hv)return Dl;hv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Dl.Fragment=t,Dl.jsx=i,Dl.jsxs=i,Dl}var fv;function lS(){return fv||(fv=1,Jd.exports=oS()),Jd.exports}var A=lS(),Wd={exports:{}},Tt={};var dv;function uS(){if(dv)return Tt;dv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),C=Symbol.iterator;function B(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,Q={};function et(M,J,st){this.props=M,this.context=J,this.refs=Q,this.updater=st||H}et.prototype.isReactComponent={},et.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},et.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function tt(){}tt.prototype=et.prototype;function at(M,J,st){this.props=M,this.context=J,this.refs=Q,this.updater=st||H}var pt=at.prototype=new tt;pt.constructor=at,G(pt,et.prototype),pt.isPureReactComponent=!0;var wt=Array.isArray;function Ct(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function w(M,J,st){var lt=st.ref;return{$$typeof:s,type:M,key:J,ref:lt!==void 0?lt:null,props:st}}function V(M,J){return w(M.type,J,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function U(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(st){return J[st]})}var I=/\/+/g;function qt(M,J){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):J.toString(36)}function re(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ct,Ct):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,J,st,lt,vt){var Rt=typeof M;(Rt==="undefined"||Rt==="boolean")&&(M=null);var Lt=!1;if(M===null)Lt=!0;else switch(Rt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(M.$$typeof){case s:case t:Lt=!0;break;case T:return Lt=M._init,K(Lt(M._payload),J,st,lt,vt)}}if(Lt)return vt=vt(M),Lt=lt===""?"."+qt(M,0):lt,wt(vt)?(st="",Lt!=null&&(st=Lt.replace(I,"$&/")+"/"),K(vt,J,st,"",function(_r){return _r})):vt!=null&&(D(vt)&&(vt=V(vt,st+(vt.key==null||M&&M.key===vt.key?"":(""+vt.key).replace(I,"$&/")+"/")+Lt)),J.push(vt)),1;Lt=0;var Ve=lt===""?".":lt+":";if(wt(M))for(var ae=0;ae<M.length;ae++)lt=M[ae],Rt=Ve+qt(lt,ae),Lt+=K(lt,J,st,Rt,vt);else if(ae=B(M),typeof ae=="function")for(M=ae.call(M),ae=0;!(lt=M.next()).done;)lt=lt.value,Rt=Ve+qt(lt,ae++),Lt+=K(lt,J,st,Rt,vt);else if(Rt==="object"){if(typeof M.then=="function")return K(re(M),J,st,lt,vt);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function it(M,J,st){if(M==null)return M;var lt=[],vt=0;return K(M,lt,"","",function(Rt){return J.call(st,Rt,vt++)}),lt}function mt(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(st){(M._status===0||M._status===-1)&&(M._status=1,M._result=st)},function(st){(M._status===0||M._status===-1)&&(M._status=2,M._result=st)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var jt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Qt={map:it,forEach:function(M,J,st){it(M,function(){J.apply(this,arguments)},st)},count:function(M){var J=0;return it(M,function(){J++}),J},toArray:function(M){return it(M,function(J){return J})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Tt.Activity=b,Tt.Children=Qt,Tt.Component=et,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=at,Tt.StrictMode=r,Tt.Suspense=g,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Tt.cache=function(M){return function(){return M.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(M,J,st){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var lt=G({},M.props),vt=M.key;if(J!=null)for(Rt in J.key!==void 0&&(vt=""+J.key),J)!R.call(J,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&J.ref===void 0||(lt[Rt]=J[Rt]);var Rt=arguments.length-2;if(Rt===1)lt.children=st;else if(1<Rt){for(var Lt=Array(Rt),Ve=0;Ve<Rt;Ve++)Lt[Ve]=arguments[Ve+2];lt.children=Lt}return w(M.type,vt,lt)},Tt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Tt.createElement=function(M,J,st){var lt,vt={},Rt=null;if(J!=null)for(lt in J.key!==void 0&&(Rt=""+J.key),J)R.call(J,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(vt[lt]=J[lt]);var Lt=arguments.length-2;if(Lt===1)vt.children=st;else if(1<Lt){for(var Ve=Array(Lt),ae=0;ae<Lt;ae++)Ve[ae]=arguments[ae+2];vt.children=Ve}if(M&&M.defaultProps)for(lt in Lt=M.defaultProps,Lt)vt[lt]===void 0&&(vt[lt]=Lt[lt]);return w(M,Rt,vt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(M){return{$$typeof:p,render:M}},Tt.isValidElement=D,Tt.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:mt}},Tt.memo=function(M,J){return{$$typeof:y,type:M,compare:J===void 0?null:J}},Tt.startTransition=function(M){var J=N.T,st={};N.T=st;try{var lt=M(),vt=N.S;vt!==null&&vt(st,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Ct,jt)}catch(Rt){jt(Rt)}finally{J!==null&&st.types!==null&&(J.types=st.types),N.T=J}},Tt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Tt.use=function(M){return N.H.use(M)},Tt.useActionState=function(M,J,st){return N.H.useActionState(M,J,st)},Tt.useCallback=function(M,J){return N.H.useCallback(M,J)},Tt.useContext=function(M){return N.H.useContext(M)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(M,J){return N.H.useDeferredValue(M,J)},Tt.useEffect=function(M,J){return N.H.useEffect(M,J)},Tt.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Tt.useId=function(){return N.H.useId()},Tt.useImperativeHandle=function(M,J,st){return N.H.useImperativeHandle(M,J,st)},Tt.useInsertionEffect=function(M,J){return N.H.useInsertionEffect(M,J)},Tt.useLayoutEffect=function(M,J){return N.H.useLayoutEffect(M,J)},Tt.useMemo=function(M,J){return N.H.useMemo(M,J)},Tt.useOptimistic=function(M,J){return N.H.useOptimistic(M,J)},Tt.useReducer=function(M,J,st){return N.H.useReducer(M,J,st)},Tt.useRef=function(M){return N.H.useRef(M)},Tt.useState=function(M){return N.H.useState(M)},Tt.useSyncExternalStore=function(M,J,st){return N.H.useSyncExternalStore(M,J,st)},Tt.useTransition=function(){return N.H.useTransition()},Tt.version="19.2.0",Tt}var mv;function Gm(){return mv||(mv=1,Wd.exports=uS()),Wd.exports}var ct=Gm();const cS=W0(ct);var tm={exports:{}},Ol={},em={exports:{}},nm={};var pv;function hS(){return pv||(pv=1,(function(s){function t(K,it){var mt=K.length;K.push(it);t:for(;0<mt;){var jt=mt-1>>>1,Qt=K[jt];if(0<l(Qt,it))K[jt]=it,K[mt]=Qt,mt=jt;else break t}}function i(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var it=K[0],mt=K.pop();if(mt!==it){K[0]=mt;t:for(var jt=0,Qt=K.length,M=Qt>>>1;jt<M;){var J=2*(jt+1)-1,st=K[J],lt=J+1,vt=K[lt];if(0>l(st,mt))lt<Qt&&0>l(vt,st)?(K[jt]=vt,K[lt]=mt,jt=lt):(K[jt]=st,K[J]=mt,jt=J);else if(lt<Qt&&0>l(vt,mt))K[jt]=vt,K[lt]=mt,jt=lt;else break t}}return it}function l(K,it){var mt=K.sortIndex-it.sortIndex;return mt!==0?mt:K.id-it.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],T=1,b=null,C=3,B=!1,H=!1,G=!1,Q=!1,et=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function pt(K){for(var it=i(y);it!==null;){if(it.callback===null)r(y);else if(it.startTime<=K)r(y),it.sortIndex=it.expirationTime,t(g,it);else break;it=i(y)}}function wt(K){if(G=!1,pt(K),!H)if(i(g)!==null)H=!0,Ct||(Ct=!0,U());else{var it=i(y);it!==null&&re(wt,it.startTime-K)}}var Ct=!1,N=-1,R=5,w=-1;function V(){return Q?!0:!(s.unstable_now()-w<R)}function D(){if(Q=!1,Ct){var K=s.unstable_now();w=K;var it=!0;try{t:{H=!1,G&&(G=!1,tt(N),N=-1),B=!0;var mt=C;try{e:{for(pt(K),b=i(g);b!==null&&!(b.expirationTime>K&&V());){var jt=b.callback;if(typeof jt=="function"){b.callback=null,C=b.priorityLevel;var Qt=jt(b.expirationTime<=K);if(K=s.unstable_now(),typeof Qt=="function"){b.callback=Qt,pt(K),it=!0;break e}b===i(g)&&r(g),pt(K)}else r(g);b=i(g)}if(b!==null)it=!0;else{var M=i(y);M!==null&&re(wt,M.startTime-K),it=!1}}break t}finally{b=null,C=mt,B=!1}it=void 0}}finally{it?U():Ct=!1}}}var U;if(typeof at=="function")U=function(){at(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,qt=I.port2;I.port1.onmessage=D,U=function(){qt.postMessage(null)}}else U=function(){et(D,0)};function re(K,it){N=et(function(){K(s.unstable_now())},it)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(K){switch(C){case 1:case 2:case 3:var it=3;break;default:it=C}var mt=C;C=it;try{return K()}finally{C=mt}},s.unstable_requestPaint=function(){Q=!0},s.unstable_runWithPriority=function(K,it){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var mt=C;C=K;try{return it()}finally{C=mt}},s.unstable_scheduleCallback=function(K,it,mt){var jt=s.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?jt+mt:jt):mt=jt,K){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=mt+Qt,K={id:T++,callback:it,priorityLevel:K,startTime:mt,expirationTime:Qt,sortIndex:-1},mt>jt?(K.sortIndex=mt,t(y,K),i(g)===null&&K===i(y)&&(G?(tt(N),N=-1):G=!0,re(wt,mt-jt))):(K.sortIndex=Qt,t(g,K),H||B||(H=!0,Ct||(Ct=!0,U()))),K},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(K){var it=C;return function(){var mt=C;C=it;try{return K.apply(this,arguments)}finally{C=mt}}}})(nm)),nm}var gv;function fS(){return gv||(gv=1,em.exports=hS()),em.exports}var im={exports:{}},Ze={};var yv;function dS(){if(yv)return Ze;yv=1;var s=Gm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ze.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,T)},Ze.flushSync=function(g){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=T,r.d.f()}},Ze.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Ze.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Ze.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,b=p(T,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:B}):T==="script"&&r.d.X(g,{crossOrigin:b,integrity:C,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ze.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Ze.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=p(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ze.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Ze.requestFormReset=function(g){r.d.r(g)},Ze.unstable_batchedUpdates=function(g,y){return g(y)},Ze.useFormState=function(g,y,T){return d.H.useFormState(g,y,T)},Ze.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ze.version="19.2.0",Ze}var _v;function mS(){if(_v)return im.exports;_v=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),im.exports=dS(),im.exports}var vv;function pS(){if(vv)return Ol;vv=1;var s=fS(),t=Gm(),i=mS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=f;break}if(E===o){_=!0,o=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=h;break}if(E===o){_=!0,o=f,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,C=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),at=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),wt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function qt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case et:return"Profiler";case Q:return"StrictMode";case wt:return"Suspense";case Ct:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case at:return e.displayName||"Context";case tt:return(e._context.displayName||"Context")+".Consumer";case pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:qt(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return qt(e(n))}catch{}}return null}var re=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},jt=[],Qt=-1;function M(e){return{current:e}}function J(e){0>Qt||(e.current=jt[Qt],jt[Qt]=null,Qt--)}function st(e,n){Qt++,jt[Qt]=e.current,e.current=n}var lt=M(null),vt=M(null),Rt=M(null),Lt=M(null);function Ve(e,n){switch(st(Rt,n),st(vt,e),st(lt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?V_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=V_(n),e=k_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(lt),st(lt,e)}function ae(){J(lt),J(vt),J(Rt)}function _r(e){e.memoizedState!==null&&st(Lt,e);var n=lt.current,a=k_(n,e.type);n!==a&&(st(vt,e),st(lt,a))}function ua(e){vt.current===e&&(J(lt),J(vt)),Lt.current===e&&(J(Lt),Il._currentValue=mt)}var ca,ha;function ai(e){if(ca===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ca=n&&n[1]||"",ha=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ca+e+ha}var Io=!1;function vr(e,n){if(!e||Io)return"";Io=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var z=F}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(F){z=F}e.call(Z.prototype)}}else{try{throw Error()}catch(F){z=F}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&z&&typeof F.stack=="string")return[F.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var x=_.split(`
`),j=E.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===j.length)for(o=x.length-1,h=j.length-1;1<=o&&0<=h&&x[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==j[h]){var Y=`
`+x[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=h);break}}}finally{Io=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ai(a):""}function Co(e,n){switch(e.tag){case 26:case 27:case 5:return ai(e.type);case 16:return ai("Lazy");case 13:return e.child!==n&&n!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return vr(e.type,!1);case 11:return vr(e.type.render,!1);case 1:return vr(e.type,!0);case 31:return ai("Activity");default:return""}}function xo(e){try{var n="",a=null;do n+=Co(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ae=Object.prototype.hasOwnProperty,ke=s.unstable_scheduleCallback,ps=s.unstable_cancelCallback,Wh=s.unstable_shouldYield,gu=s.unstable_requestPaint,nn=s.unstable_now,Er=s.unstable_getCurrentPriorityLevel,No=s.unstable_ImmediatePriority,Do=s.unstable_UserBlockingPriority,gs=s.unstable_NormalPriority,tf=s.unstable_LowPriority,yu=s.unstable_IdlePriority,_u=s.log,vu=s.unstable_setDisableYieldValue,Fn=null,qe=null;function Cn(e){if(typeof _u=="function"&&vu(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Fn,e)}catch{}}var pe=Math.clz32?Math.clz32:Tu,Eu=Math.log,fa=Math.LN2;function Tu(e){return e>>>=0,e===0?32:31-(Eu(e)/fa|0)|0}var oi=256,Tr=262144,Se=4194304;function li(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ui(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=li(o):(_&=E,_!==0?h=li(_):a||(a=E&~e,a!==0&&(h=li(a))))):(E=o&~f,E!==0?h=li(E):_!==0?h=li(_):a||(a=o&~e,a!==0&&(h=li(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Gn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ef(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Au(){var e=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),e}function ci(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Ar(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nf(e,n,a,o,h,f){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,x=e.expirationTimes,j=e.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-pe(a),Z=1<<Y;E[Y]=0,x[Y]=-1;var z=j[Y];if(z!==null)for(j[Y]=null,Y=0;Y<z.length;Y++){var F=z[Y];F!==null&&(F.lane&=-536870913)}a&=~Z}o!==0&&Sr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function Sr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-pe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Oo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-pe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Mo(e,n){var a=n&-n;return a=(a&42)!==0?1:br(a),(a&(e.suspendedLanes|n))!==0?0:a}function br(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Su(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:sv(e.type))}function Qn(e,n){var a=it.p;try{return it.p=e,n()}finally{it.p=a}}var Kn=Math.random().toString(36).slice(2),be="__reactFiber$"+Kn,Pe="__reactProps$"+Kn,hi="__reactContainer$"+Kn,da="__reactEvents$"+Kn,sf="__reactListeners$"+Kn,bu="__reactHandles$"+Kn,wu="__reactResources$"+Kn,fi="__reactMarker$"+Kn;function ma(e){delete e[be],delete e[Pe],delete e[da],delete e[sf],delete e[bu]}function di(e){var n=e[be];if(n)return n;for(var a=e.parentNode;a;){if(n=a[hi]||a[be]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=q_(e);e!==null;){if(a=e[be])return a;e=q_(e)}return n}e=a,a=e.parentNode}return null}function xn(e){if(e=e[be]||e[hi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function _n(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function mi(e){var n=e[wu];return n||(n=e[wu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function we(e){e[fi]=!0}var Vo=new Set,ko={};function pi(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(ko[e]=n,e=0;e<n.length;e++)Vo.add(n[e])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},Po={};function Ru(e){return Ae.call(Po,e)?!0:Ae.call(Lo,e)?!1:Uo.test(e)?Po[e]=!0:(Lo[e]=!0,!1)}function pa(e,n,a){if(Ru(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function vn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Re(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ys(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=ys(e)?"checked":"value";e._valueTracker=jo(e,n,""+e[n])}}function wr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=ys(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rr=/[\n"\\]/g;function un(e){return e.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ga(e,n,a,o,h,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+je(n)):e.value!==""+je(n)&&(e.value=""+je(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?zo(e,_,je(n)):a!=null?zo(e,_,je(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+je(E):e.removeAttribute("name")}function Iu(e,n,a,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}a=a!=null?""+je(a):"",n=n!=null?""+je(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Kt(e)}function zo(e,n,a){n==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function _s(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+je(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Cu(e,n,a){if(n!=null&&(n=""+je(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+je(a):""}function vs(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(re(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=je(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Kt(e)}function cn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||xu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function qo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Bo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Bo(e,f,n[f])}function ya(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(e){return Es.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var Ho=null;function Nn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ts=null,_i=null;function Ir(e){var n=xn(e);if(n&&(e=n.stateNode)){var a=e[Pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ga(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Pe]||null;if(!h)throw Error(r(90));ga(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&wr(o)}break t;case"textarea":Cu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&_s(e,!!a.multiple,n,!1)}}}var va=!1;function As(e,n,a){if(va)return e(n,a);va=!0;try{var o=e(n);return o}finally{if(va=!1,(Ts!==null||_i!==null)&&(Sc(),Ts&&(n=Ts,e=_i,_i=Ts=null,Ir(n),e)))for(n=0;n<e.length;n++)Ir(e[n])}}function Xn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Pe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Dn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Cr=!1}var vi=null,Fo=null,xr=null;function Go(){if(xr)return xr;var e,n=Fo,a=n.length,o,h="value"in vi?vi.value:vi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var _=a-e;for(o=1;o<=_&&n[a-o]===h[f-o];o++);return xr=h.slice(e,1<o?1-o:void 0)}function Nr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function $n(){return!1}function He(e){function n(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pi:$n,this.isPropagationStopped=$n,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=He(ji),Ss=b({},ji,{view:0,detail:0}),Qo=He(Ss),bs,Ea,Ti,Ta=b({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(bs=e.screenX-Ti.screenX,Ea=e.screenY-Ti.screenY):Ea=bs=0,Ti=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:Ea}}),Ko=He(Ta),Dr=b({},Ta,{dataTransfer:0}),Du=He(Dr),Ou=b({},Ss,{relatedTarget:0}),Or=He(Ou),Yo=b({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Mu=He(Yo),Aa=b({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vu=He(Aa),ku=b({},ji,{data:0}),Ai=He(ku),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Pu[e])?!!n[e]:!1}function ws(){return ju}var sn=b({},Ss,{key:function(e){if(e.key){var n=Uu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Nr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(e){return e.type==="keypress"?Nr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zu=He(sn),Bu=b({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=He(Bu),c=b({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),m=He(c),v=b({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=He(v),L=b({},Ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=He(L),nt=b({},ji,{newState:0,oldState:0}),St=He(nt),ge=[9,13,27,32],Ht=Dn&&"CompositionEvent"in window,oe=null;Dn&&"documentMode"in document&&(oe=document.documentMode);var On=Dn&&"TextEvent"in window&&!oe,Si=Dn&&(!Ht||oe&&8<oe&&11>=oe),Zn=" ",Jn=!1;function Mr(e,n){switch(e){case"keyup":return ge.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ba=!1;function D1(e,n){switch(e){case"compositionend":return Sa(n);case"keypress":return n.which!==32?null:(Jn=!0,Zn);case"textInput":return e=n.data,e===Zn&&Jn?null:e;default:return null}}function O1(e,n){if(ba)return e==="compositionend"||!Ht&&Mr(e,n)?(e=Go(),xr=Fo=vi=null,ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var M1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!M1[e.type]:n==="textarea"}function Qp(e,n,a,o){Ts?_i?_i.push(o):_i=[o]:Ts=o,n=Nc(n,"onChange"),0<n.length&&(a=new Ei("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Xo=null,$o=null;function V1(e){C_(e,0)}function qu(e){var n=_n(e);if(wr(n))return e}function Kp(e,n){if(e==="change")return n}var Yp=!1;if(Dn){var rf;if(Dn){var af="oninput"in document;if(!af){var Xp=document.createElement("div");Xp.setAttribute("oninput","return;"),af=typeof Xp.oninput=="function"}rf=af}else rf=!1;Yp=rf&&(!document.documentMode||9<document.documentMode)}function $p(){Xo&&(Xo.detachEvent("onpropertychange",Zp),$o=Xo=null)}function Zp(e){if(e.propertyName==="value"&&qu($o)){var n=[];Qp(n,$o,e,Nn(e)),As(V1,n)}}function k1(e,n,a){e==="focusin"?($p(),Xo=n,$o=a,Xo.attachEvent("onpropertychange",Zp)):e==="focusout"&&$p()}function U1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qu($o)}function L1(e,n){if(e==="click")return qu(n)}function P1(e,n){if(e==="input"||e==="change")return qu(n)}function j1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var En=typeof Object.is=="function"?Object.is:j1;function Zo(e,n){if(En(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Ae.call(n,h)||!En(e[h],n[h]))return!1}return!0}function Jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wp(e,n){var a=Jp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Jp(a)}}function tg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?tg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function eg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=yi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=yi(e.document)}return n}function of(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var z1=Dn&&"documentMode"in document&&11>=document.documentMode,wa=null,lf=null,Jo=null,uf=!1;function ng(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uf||wa==null||wa!==yi(o)||(o=wa,"selectionStart"in o&&of(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Jo&&Zo(Jo,o)||(Jo=o,o=Nc(lf,"onSelect"),0<o.length&&(n=new Ei("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=wa)))}function Vr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ra={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},cf={},ig={};Dn&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function kr(e){if(cf[e])return cf[e];if(!Ra[e])return e;var n=Ra[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in ig)return cf[e]=n[a];return e}var sg=kr("animationend"),rg=kr("animationiteration"),ag=kr("animationstart"),B1=kr("transitionrun"),q1=kr("transitionstart"),H1=kr("transitioncancel"),og=kr("transitionend"),lg=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hf.push("scrollEnd");function Wn(e,n){lg.set(e,n),pi(n,[e])}var Hu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],Ia=0,ff=0;function Fu(){for(var e=Ia,n=ff=Ia=0;n<e;){var a=Mn[n];Mn[n++]=null;var o=Mn[n];Mn[n++]=null;var h=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&ug(a,h,f)}}function Gu(e,n,a,o){Mn[Ia++]=e,Mn[Ia++]=n,Mn[Ia++]=a,Mn[Ia++]=o,ff|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function df(e,n,a,o){return Gu(e,n,a,o),Qu(e)}function Ur(e,n){return Gu(e,null,null,n),Qu(e)}function ug(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-pe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Qu(e){if(50<El)throw El=0,Ad=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ca={};function F1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,n,a,o){return new F1(e,n,a,o)}function mf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bi(e,n){var a=e.alternate;return a===null?(a=Tn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function cg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ku(e,n,a,o,h,f){var _=0;if(o=e,typeof e=="function")mf(e)&&(_=1);else if(typeof e=="string")_=XA(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=Tn(31,a,n,h),e.elementType=w,e.lanes=f,e;case G:return Lr(a.children,h,f,n);case Q:_=8,h|=24;break;case et:return e=Tn(12,a,n,h|2),e.elementType=et,e.lanes=f,e;case wt:return e=Tn(13,a,n,h),e.elementType=wt,e.lanes=f,e;case Ct:return e=Tn(19,a,n,h),e.elementType=Ct,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case at:_=10;break t;case tt:_=9;break t;case pt:_=11;break t;case N:_=14;break t;case R:_=16,o=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=Tn(_,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Lr(e,n,a,o){return e=Tn(7,e,o,n),e.lanes=a,e}function pf(e,n,a){return e=Tn(6,e,null,n),e.lanes=a,e}function hg(e){var n=Tn(18,null,null,0);return n.stateNode=e,n}function gf(e,n,a){return n=Tn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var fg=new WeakMap;function Vn(e,n){if(typeof e=="object"&&e!==null){var a=fg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:xo(n)},fg.set(e,n),n)}return{value:e,source:n,stack:xo(n)}}var xa=[],Na=0,Yu=null,Wo=0,kn=[],Un=0,Rs=null,bi=1,wi="";function qi(e,n){xa[Na++]=Wo,xa[Na++]=Yu,Yu=e,Wo=n}function dg(e,n,a){kn[Un++]=bi,kn[Un++]=wi,kn[Un++]=Rs,Rs=e;var o=bi;e=wi;var h=32-pe(o)-1;o&=~(1<<h),a+=1;var f=32-pe(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,bi=1<<32-pe(n)+h|a<<h|o,wi=f+e}else bi=1<<f|a<<h|o,wi=e}function yf(e){e.return!==null&&(qi(e,1),dg(e,1,0))}function _f(e){for(;e===Yu;)Yu=xa[--Na],xa[Na]=null,Wo=xa[--Na],xa[Na]=null;for(;e===Rs;)Rs=kn[--Un],kn[Un]=null,wi=kn[--Un],kn[Un]=null,bi=kn[--Un],kn[Un]=null}function mg(e,n){kn[Un++]=bi,kn[Un++]=wi,kn[Un++]=Rs,bi=n.id,wi=n.overflow,Rs=e}var Fe=null,ne=null,Ut=!1,Is=null,Ln=!1,vf=Error(r(519));function Cs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Vn(n,e)),vf}function pg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[be]=e,n[Pe]=o,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<Al.length;a++)Nt(Al[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Iu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),vs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||O_(n.textContent,a)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=Yn),n=!0):n=!1,n||Cs(e,!0)}function gg(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Fe=Fe.return}}function Da(e){if(e!==Fe)return!1;if(!Ut)return gg(e),Ut=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ld(e.type,e.memoizedProps)),a=!a),a&&ne&&Cs(e),gg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=B_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=B_(e)}else n===27?(n=ne,qs(e.type)?(e=qd,qd=null,ne=e):ne=n):ne=Fe?jn(e.stateNode.nextSibling):null;return!0}function Pr(){ne=Fe=null,Ut=!1}function Ef(){var e=Is;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),Is=null),e}function tl(e){Is===null?Is=[e]:Is.push(e)}var Tf=M(null),jr=null,Hi=null;function xs(e,n,a){st(Tf,n._currentValue),n._currentValue=a}function Fi(e){e._currentValue=Tf.current,J(Tf)}function Af(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Sf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Af(f.return,a,e),o||(_=null);break t}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),Af(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Oa(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;En(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Il):e=[Il])}h=h.return}e!==null&&Sf(n,e,a,o),n.flags|=262144}function Xu(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zr(e){jr=e,Hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return yg(jr,e)}function $u(e,n){return jr===null&&zr(e),yg(e,n)}function yg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Hi===null){if(e===null)throw Error(r(308));Hi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Hi=Hi.next=n;return a}var G1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},Q1=s.unstable_scheduleCallback,K1=s.unstable_NormalPriority,Ie={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bf(){return{controller:new G1,data:new Map,refCount:0}}function el(e){e.refCount--,e.refCount===0&&Q1(K1,function(){e.controller.abort()})}var nl=null,wf=0,Ma=0,Va=null;function Y1(e,n){if(nl===null){var a=nl=[];wf=0,Ma=Cd(),Va={status:"pending",value:void 0,then:function(o){a.push(o)}}}return wf++,n.then(_g,_g),n}function _g(){if(--wf===0&&nl!==null){Va!==null&&(Va.status="fulfilled");var e=nl;nl=null,Ma=0,Va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function X1(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var vg=K.S;K.S=function(e,n){n_=nn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Y1(e,n),vg!==null&&vg(e,n)};var Br=M(null);function Rf(){var e=Br.current;return e!==null?e:te.pooledCache}function Zu(e,n){n===null?st(Br,Br.current):st(Br,n.pool)}function Eg(){var e=Rf();return e===null?null:{parent:Ie._currentValue,pool:e}}var ka=Error(r(460)),If=Error(r(474)),Ju=Error(r(542)),Wu={then:function(){}};function Tg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ag(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Yn,Yn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,bg(e),e;default:if(typeof n.status=="string")n.then(Yn,Yn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,bg(e),e}throw Hr=n,ka}}function qr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hr=a,ka):a}}var Hr=null;function Sg(){if(Hr===null)throw Error(r(459));var e=Hr;return Hr=null,e}function bg(e){if(e===ka||e===Ju)throw Error(r(483))}var Ua=null,il=0;function tc(e){var n=il;return il+=1,Ua===null&&(Ua=[]),Ag(Ua,e,n)}function sl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ec(e,n){throw n.$$typeof===C?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function wg(e){function n(k,O){if(e){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function a(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Bi(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,P,X){return O===null||O.tag!==6?(O=pf(P,k.mode,X),O.return=k,O):(O=h(O,P),O.return=k,O)}function x(k,O,P,X){var ft=P.type;return ft===G?Y(k,O,P.props.children,X,P.key):O!==null&&(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===R&&qr(ft)===O.type)?(O=h(O,P.props),sl(O,P),O.return=k,O):(O=Ku(P.type,P.key,P.props,null,k.mode,X),sl(O,P),O.return=k,O)}function j(k,O,P,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=gf(P,k.mode,X),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function Y(k,O,P,X,ft){return O===null||O.tag!==7?(O=Lr(P,k.mode,X,ft),O.return=k,O):(O=h(O,P),O.return=k,O)}function Z(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=pf(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case B:return P=Ku(O.type,O.key,O.props,null,k.mode,P),sl(P,O),P.return=k,P;case H:return O=gf(O,k.mode,P),O.return=k,O;case R:return O=qr(O),Z(k,O,P)}if(re(O)||U(O))return O=Lr(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return Z(k,tc(O),P);if(O.$$typeof===at)return Z(k,$u(k,O),P);ec(k,O)}return null}function z(k,O,P,X){var ft=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(k,O,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return P.key===ft?x(k,O,P,X):null;case H:return P.key===ft?j(k,O,P,X):null;case R:return P=qr(P),z(k,O,P,X)}if(re(P)||U(P))return ft!==null?null:Y(k,O,P,X,null);if(typeof P.then=="function")return z(k,O,tc(P),X);if(P.$$typeof===at)return z(k,O,$u(k,P),X);ec(k,P)}return null}function F(k,O,P,X,ft){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(P)||null,E(O,k,""+X,ft);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case B:return k=k.get(X.key===null?P:X.key)||null,x(O,k,X,ft);case H:return k=k.get(X.key===null?P:X.key)||null,j(O,k,X,ft);case R:return X=qr(X),F(k,O,P,X,ft)}if(re(X)||U(X))return k=k.get(P)||null,Y(O,k,X,ft,null);if(typeof X.then=="function")return F(k,O,P,tc(X),ft);if(X.$$typeof===at)return F(k,O,P,$u(O,X),ft);ec(O,X)}return null}function ut(k,O,P,X){for(var ft=null,zt=null,ht=O,It=O=0,Ot=null;ht!==null&&It<P.length;It++){ht.index>It?(Ot=ht,ht=null):Ot=ht.sibling;var Bt=z(k,ht,P[It],X);if(Bt===null){ht===null&&(ht=Ot);break}e&&ht&&Bt.alternate===null&&n(k,ht),O=f(Bt,O,It),zt===null?ft=Bt:zt.sibling=Bt,zt=Bt,ht=Ot}if(It===P.length)return a(k,ht),Ut&&qi(k,It),ft;if(ht===null){for(;It<P.length;It++)ht=Z(k,P[It],X),ht!==null&&(O=f(ht,O,It),zt===null?ft=ht:zt.sibling=ht,zt=ht);return Ut&&qi(k,It),ft}for(ht=o(ht);It<P.length;It++)Ot=F(ht,k,It,P[It],X),Ot!==null&&(e&&Ot.alternate!==null&&ht.delete(Ot.key===null?It:Ot.key),O=f(Ot,O,It),zt===null?ft=Ot:zt.sibling=Ot,zt=Ot);return e&&ht.forEach(function(Ks){return n(k,Ks)}),Ut&&qi(k,It),ft}function gt(k,O,P,X){if(P==null)throw Error(r(151));for(var ft=null,zt=null,ht=O,It=O=0,Ot=null,Bt=P.next();ht!==null&&!Bt.done;It++,Bt=P.next()){ht.index>It?(Ot=ht,ht=null):Ot=ht.sibling;var Ks=z(k,ht,Bt.value,X);if(Ks===null){ht===null&&(ht=Ot);break}e&&ht&&Ks.alternate===null&&n(k,ht),O=f(Ks,O,It),zt===null?ft=Ks:zt.sibling=Ks,zt=Ks,ht=Ot}if(Bt.done)return a(k,ht),Ut&&qi(k,It),ft;if(ht===null){for(;!Bt.done;It++,Bt=P.next())Bt=Z(k,Bt.value,X),Bt!==null&&(O=f(Bt,O,It),zt===null?ft=Bt:zt.sibling=Bt,zt=Bt);return Ut&&qi(k,It),ft}for(ht=o(ht);!Bt.done;It++,Bt=P.next())Bt=F(ht,k,It,Bt.value,X),Bt!==null&&(e&&Bt.alternate!==null&&ht.delete(Bt.key===null?It:Bt.key),O=f(Bt,O,It),zt===null?ft=Bt:zt.sibling=Bt,zt=Bt);return e&&ht.forEach(function(aS){return n(k,aS)}),Ut&&qi(k,It),ft}function Wt(k,O,P,X){if(typeof P=="object"&&P!==null&&P.type===G&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case B:t:{for(var ft=P.key;O!==null;){if(O.key===ft){if(ft=P.type,ft===G){if(O.tag===7){a(k,O.sibling),X=h(O,P.props.children),X.return=k,k=X;break t}}else if(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===R&&qr(ft)===O.type){a(k,O.sibling),X=h(O,P.props),sl(X,P),X.return=k,k=X;break t}a(k,O);break}else n(k,O);O=O.sibling}P.type===G?(X=Lr(P.props.children,k.mode,X,P.key),X.return=k,k=X):(X=Ku(P.type,P.key,P.props,null,k.mode,X),sl(X,P),X.return=k,k=X)}return _(k);case H:t:{for(ft=P.key;O!==null;){if(O.key===ft)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(k,O.sibling),X=h(O,P.children||[]),X.return=k,k=X;break t}else{a(k,O);break}else n(k,O);O=O.sibling}X=gf(P,k.mode,X),X.return=k,k=X}return _(k);case R:return P=qr(P),Wt(k,O,P,X)}if(re(P))return ut(k,O,P,X);if(U(P)){if(ft=U(P),typeof ft!="function")throw Error(r(150));return P=ft.call(P),gt(k,O,P,X)}if(typeof P.then=="function")return Wt(k,O,tc(P),X);if(P.$$typeof===at)return Wt(k,O,$u(k,P),X);ec(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(k,O.sibling),X=h(O,P),X.return=k,k=X):(a(k,O),X=pf(P,k.mode,X),X.return=k,k=X),_(k)):a(k,O)}return function(k,O,P,X){try{il=0;var ft=Wt(k,O,P,X);return Ua=null,ft}catch(ht){if(ht===ka||ht===Ju)throw ht;var zt=Tn(29,ht,null,k.mode);return zt.lanes=X,zt.return=k,zt}finally{}}}var Fr=wg(!0),Rg=wg(!1),Ns=!1;function Cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ds(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Os(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Qu(e),ug(e,null,a),n}return Gu(e,o,n,a),Qu(e)}function rl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Oo(e,a)}}function Nf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Df=!1;function al(){if(Df){var e=Va;if(e!==null)throw e}}function ol(e,n,a,o){Df=!1;var h=e.updateQueue;Ns=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,j=x.next;x.next=null,_===null?f=j:_.next=j,_=x;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==_&&(E===null?Y.firstBaseUpdate=j:E.next=j,Y.lastBaseUpdate=x))}if(f!==null){var Z=h.baseState;_=0,Y=j=x=null,E=f;do{var z=E.lane&-536870913,F=z!==E.lane;if(F?(Dt&z)===z:(o&z)===z){z!==0&&z===Ma&&(Df=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=e,gt=E;z=n;var Wt=a;switch(gt.tag){case 1:if(ut=gt.payload,typeof ut=="function"){Z=ut.call(Wt,Z,z);break t}Z=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=gt.payload,z=typeof ut=="function"?ut.call(Wt,Z,z):ut,z==null)break t;Z=b({},Z,z);break t;case 2:Ns=!0}}z=E.callback,z!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[z]:F.push(z))}else F={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(j=Y=F,x=Z):Y=Y.next=F,_|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(x=Z),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),Ls|=_,e.lanes=_,e.memoizedState=Z}}function Ig(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Cg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ig(a[e],n)}var La=M(null),nc=M(0);function xg(e,n){e=Wi,st(nc,e),st(La,n),Wi=e|n.baseLanes}function Of(){st(nc,Wi),st(La,La.current)}function Mf(){Wi=nc.current,J(La),J(nc)}var An=M(null),Pn=null;function Ms(e){var n=e.alternate;st(ye,ye.current&1),st(An,e),Pn===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(Pn=e)}function Vf(e){st(ye,ye.current),st(An,e),Pn===null&&(Pn=e)}function Ng(e){e.tag===22?(st(ye,ye.current),st(An,e),Pn===null&&(Pn=e)):Vs()}function Vs(){st(ye,ye.current),st(An,An.current)}function Sn(e){J(An),Pn===e&&(Pn=null),J(ye)}var ye=M(0);function ic(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||zd(a)||Bd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Gi=0,bt=null,Zt=null,Ce=null,sc=!1,Pa=!1,Gr=!1,rc=0,ll=0,ja=null,$1=0;function he(){throw Error(r(321))}function kf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!En(e[a],n[a]))return!1;return!0}function Uf(e,n,a,o,h,f){return Gi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=e===null||e.memoizedState===null?dy:Zf,Gr=!1,f=a(o,h),Gr=!1,Pa&&(f=Og(n,a,o,h)),Dg(e),f}function Dg(e){K.H=hl;var n=Zt!==null&&Zt.next!==null;if(Gi=0,Ce=Zt=bt=null,sc=!1,ll=0,ja=null,n)throw Error(r(300));e===null||xe||(e=e.dependencies,e!==null&&Xu(e)&&(xe=!0))}function Og(e,n,a,o){bt=e;var h=0;do{if(Pa&&(ja=null),ll=0,Pa=!1,25<=h)throw Error(r(301));if(h+=1,Ce=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=my,f=n(a,o)}while(Pa);return f}function Z1(){var e=K.H,n=e.useState()[0];return n=typeof n.then=="function"?ul(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(bt.flags|=1024),n}function Lf(){var e=rc!==0;return rc=0,e}function Pf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function jf(e){if(sc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}sc=!1}Gi=0,Ce=Zt=bt=null,Pa=!1,ll=rc=0,ja=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?bt.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function _e(){if(Zt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Ce===null?bt.memoizedState:Ce.next;if(n!==null)Ce=n,Zt=e;else{if(e===null)throw bt.alternate===null?Error(r(467)):Error(r(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ce===null?bt.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(e){var n=ll;return ll+=1,ja===null&&(ja=[]),e=Ag(ja,e,n),n=bt,(Ce===null?n.memoizedState:Ce.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?dy:Zf),e}function oc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ul(e);if(e.$$typeof===at)return Ge(e)}throw Error(r(438,String(e)))}function zf(e){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ac(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function Qi(e,n){return typeof n=="function"?n(e):n}function lc(e){var n=_e();return Bf(n,Zt,e)}function Bf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=_=null,x=null,j=n,Y=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(Dt&Z)===Z:(Gi&Z)===Z){var z=j.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===Ma&&(Y=!0);else if((Gi&z)===z){j=j.next,z===Ma&&(Y=!0);continue}else Z={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=Z,_=f):x=x.next=Z,bt.lanes|=z,Ls|=z;Z=j.action,Gr&&a(f,Z),f=j.hasEagerState?j.eagerState:a(f,Z)}else z={lane:Z,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=z,_=f):x=x.next=z,bt.lanes|=Z,Ls|=Z;j=j.next}while(j!==null&&j!==n);if(x===null?_=f:x.next=E,!En(f,e.memoizedState)&&(xe=!0,Y&&(a=Va,a!==null)))throw a;e.memoizedState=f,e.baseState=_,e.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function qf(e){var n=_e(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);En(f,n.memoizedState)||(xe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Mg(e,n,a){var o=bt,h=_e(),f=Ut;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var _=!En((Zt||h).memoizedState,a);if(_&&(h.memoizedState=a,xe=!0),h=h.queue,Gf(Ug.bind(null,o,h,e),[e]),h.getSnapshot!==n||_||Ce!==null&&Ce.memoizedState.tag&1){if(o.flags|=2048,za(9,{destroy:void 0},kg.bind(null,o,h,a,n),null),te===null)throw Error(r(349));f||(Gi&127)!==0||Vg(o,n,a)}return a}function Vg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=ac(),bt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function kg(e,n,a,o){n.value=a,n.getSnapshot=o,Lg(n)&&Pg(e)}function Ug(e,n,a){return a(function(){Lg(n)&&Pg(e)})}function Lg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!En(e,a)}catch{return!0}}function Pg(e){var n=Ur(e,2);n!==null&&pn(n,e,2)}function Hf(e){var n=rn();if(typeof e=="function"){var a=e;if(e=a(),Gr){Cn(!0);try{a()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},n}function jg(e,n,a,o){return e.baseState=a,Bf(e,Zt,typeof o=="function"?o:Qi)}function J1(e,n,a,o,h){if(hc(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};K.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,zg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function zg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=K.T,_={};K.T=_;try{var E=a(h,o),x=K.S;x!==null&&x(_,E),Bg(e,n,E)}catch(j){Ff(e,n,j)}finally{f!==null&&_.types!==null&&(f.types=_.types),K.T=f}}else try{f=a(h,o),Bg(e,n,f)}catch(j){Ff(e,n,j)}}function Bg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){qg(e,n,o)},function(o){return Ff(e,n,o)}):qg(e,n,a)}function qg(e,n,a){n.status="fulfilled",n.value=a,Hg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,zg(e,a)))}function Ff(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Hg(n),n=n.next;while(n!==o)}e.action=null}function Hg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Fg(e,n){return n}function Gg(e,n){if(Ut){var a=te.formState;if(a!==null){t:{var o=bt;if(Ut){if(ne){e:{for(var h=ne,f=Ln;h.nodeType!==8;){if(!f){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=jn(h.nextSibling),o=h.data==="F!";break t}}Cs(o)}o=!1}o&&(n=a[0])}}return a=rn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fg,lastRenderedState:n},a.queue=o,a=cy.bind(null,bt,o),o.dispatch=a,o=Hf(!1),f=$f.bind(null,bt,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=J1.bind(null,bt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Qg(e){var n=_e();return Kg(n,Zt,e)}function Kg(e,n,a){if(n=Bf(e,n,Fg)[0],e=lc(Qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ul(n)}catch(_){throw _===ka?Ju:_}else o=n;n=_e();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,za(9,{destroy:void 0},W1.bind(null,h,a),null)),[o,f,e]}function W1(e,n){e.action=n}function Yg(e){var n=_e(),a=Zt;if(a!==null)return Kg(n,a,e);_e(),n=n.memoizedState,a=_e();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function za(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=ac(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Xg(){return _e().memoizedState}function uc(e,n,a,o){var h=rn();bt.flags|=e,h.memoizedState=za(1|n,{destroy:void 0},a,o===void 0?null:o)}function cc(e,n,a,o){var h=_e();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&kf(o,Zt.memoizedState.deps)?h.memoizedState=za(n,f,a,o):(bt.flags|=e,h.memoizedState=za(1|n,f,a,o))}function $g(e,n){uc(8390656,8,e,n)}function Gf(e,n){cc(2048,8,e,n)}function tA(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=ac(),bt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Zg(e){var n=_e().memoizedState;return tA({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Jg(e,n){return cc(4,2,e,n)}function Wg(e,n){return cc(4,4,e,n)}function ty(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ey(e,n,a){a=a!=null?a.concat([e]):null,cc(4,4,ty.bind(null,n,e),a)}function Qf(){}function ny(e,n){var a=_e();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&kf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function iy(e,n){var a=_e();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&kf(n,o[1]))return o[0];if(o=e(),Gr){Cn(!0);try{e()}finally{Cn(!1)}}return a.memoizedState=[o,n],o}function Kf(e,n,a){return a===void 0||(Gi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=s_(),bt.lanes|=e,Ls|=e,a)}function sy(e,n,a,o){return En(a,n)?a:La.current!==null?(e=Kf(e,a,o),En(e,n)||(xe=!0),e):(Gi&42)===0||(Gi&1073741824)!==0&&(Dt&261930)===0?(xe=!0,e.memoizedState=a):(e=s_(),bt.lanes|=e,Ls|=e,n)}function ry(e,n,a,o,h){var f=it.p;it.p=f!==0&&8>f?f:8;var _=K.T,E={};K.T=E,$f(e,!1,n,a);try{var x=h(),j=K.S;if(j!==null&&j(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Y=X1(x,o);cl(e,n,Y,Rn(e))}else cl(e,n,o,Rn(e))}catch(Z){cl(e,n,{then:function(){},status:"rejected",reason:Z},Rn())}finally{it.p=f,_!==null&&E.types!==null&&(_.types=E.types),K.T=_}}function eA(){}function Yf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=ay(e).queue;ry(e,h,n,mt,a===null?eA:function(){return oy(e),a(o)})}function ay(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:mt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function oy(e){var n=ay(e);n.next===null&&(n=e.alternate.memoizedState),cl(e,n.next.queue,{},Rn())}function Xf(){return Ge(Il)}function ly(){return _e().memoizedState}function uy(){return _e().memoizedState}function nA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Rn();e=Ds(a);var o=Os(n,e,a);o!==null&&(pn(o,n,a),rl(o,n,a)),n={cache:bf()},e.payload=n;return}n=n.return}}function iA(e,n,a){var o=Rn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hc(e)?hy(n,a):(a=df(e,n,a,o),a!==null&&(pn(a,e,o),fy(a,n,o)))}function cy(e,n,a){var o=Rn();cl(e,n,a,o)}function cl(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(hc(e))hy(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,En(E,_))return Gu(e,n,h,0),te===null&&Fu(),!1}catch{}finally{}if(a=df(e,n,h,o),a!==null)return pn(a,e,o),fy(a,n,o),!0}return!1}function $f(e,n,a,o){if(o={lane:2,revertLane:Cd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},hc(e)){if(n)throw Error(r(479))}else n=df(e,a,o,2),n!==null&&pn(n,e,2)}function hc(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function hy(e,n){Pa=sc=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function fy(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Oo(e,a)}}var hl={readContext:Ge,use:oc,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};hl.useEffectEvent=he;var dy={readContext:Ge,use:oc,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:Ge,useEffect:$g,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,uc(4194308,4,ty.bind(null,n,e),a)},useLayoutEffect:function(e,n){return uc(4194308,4,e,n)},useInsertionEffect:function(e,n){uc(4,2,e,n)},useMemo:function(e,n){var a=rn();n=n===void 0?null:n;var o=e();if(Gr){Cn(!0);try{e()}finally{Cn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=rn();if(a!==void 0){var h=a(n);if(Gr){Cn(!0);try{a(n)}finally{Cn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=iA.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=Hf(e);var n=e.queue,a=cy.bind(null,bt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Qf,useDeferredValue:function(e,n){var a=rn();return Kf(a,e,n)},useTransition:function(){var e=Hf(!1);return e=ry.bind(null,bt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=bt,h=rn();if(Ut){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),te===null)throw Error(r(349));(Dt&127)!==0||Vg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,$g(Ug.bind(null,o,f,e),[e]),o.flags|=2048,za(9,{destroy:void 0},kg.bind(null,o,f,a,n),null),a},useId:function(){var e=rn(),n=te.identifierPrefix;if(Ut){var a=wi,o=bi;a=(o&~(1<<32-pe(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=rc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=$1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Xf,useFormState:Gg,useActionState:Gg,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=$f.bind(null,bt,!0,a),a.dispatch=n,[e,n]},useMemoCache:zf,useCacheRefresh:function(){return rn().memoizedState=nA.bind(null,bt)},useEffectEvent:function(e){var n=rn(),a={impl:e};return n.memoizedState=a,function(){if((Ft&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Zf={readContext:Ge,use:oc,useCallback:ny,useContext:Ge,useEffect:Gf,useImperativeHandle:ey,useInsertionEffect:Jg,useLayoutEffect:Wg,useMemo:iy,useReducer:lc,useRef:Xg,useState:function(){return lc(Qi)},useDebugValue:Qf,useDeferredValue:function(e,n){var a=_e();return sy(a,Zt.memoizedState,e,n)},useTransition:function(){var e=lc(Qi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:ul(e),n]},useSyncExternalStore:Mg,useId:ly,useHostTransitionStatus:Xf,useFormState:Qg,useActionState:Qg,useOptimistic:function(e,n){var a=_e();return jg(a,Zt,e,n)},useMemoCache:zf,useCacheRefresh:uy};Zf.useEffectEvent=Zg;var my={readContext:Ge,use:oc,useCallback:ny,useContext:Ge,useEffect:Gf,useImperativeHandle:ey,useInsertionEffect:Jg,useLayoutEffect:Wg,useMemo:iy,useReducer:qf,useRef:Xg,useState:function(){return qf(Qi)},useDebugValue:Qf,useDeferredValue:function(e,n){var a=_e();return Zt===null?Kf(a,e,n):sy(a,Zt.memoizedState,e,n)},useTransition:function(){var e=qf(Qi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:ul(e),n]},useSyncExternalStore:Mg,useId:ly,useHostTransitionStatus:Xf,useFormState:Yg,useActionState:Yg,useOptimistic:function(e,n){var a=_e();return Zt!==null?jg(a,Zt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:zf,useCacheRefresh:uy};my.useEffectEvent=Zg;function Jf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:b({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Wf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Rn(),h=Ds(o);h.payload=n,a!=null&&(h.callback=a),n=Os(e,h,o),n!==null&&(pn(n,e,o),rl(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Rn(),h=Ds(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Os(e,h,o),n!==null&&(pn(n,e,o),rl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Rn(),o=Ds(a);o.tag=2,n!=null&&(o.callback=n),n=Os(e,o,a),n!==null&&(pn(n,e,a),rl(n,e,a))}};function py(e,n,a,o,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!Zo(a,o)||!Zo(h,f):!0}function gy(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Wf.enqueueReplaceState(n,n.state,null)}function Qr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function yy(e){Hu(e)}function _y(e){console.error(e)}function vy(e){Hu(e)}function fc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Ey(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function td(e,n,a){return a=Ds(a),a.tag=3,a.payload={element:null},a.callback=function(){fc(e,n)},a}function Ty(e){return e=Ds(e),e.tag=3,e}function Ay(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Ey(n,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Ey(n,a,o),typeof h!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function sA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Oa(n,a,h,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?bc():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Wu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),wd(e,o,h)),!1;case 22:return a.flags|=65536,o===Wu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),wd(e,o,h)),!1}throw Error(r(435,a.tag))}return wd(e,o,h),bc(),!1}if(Ut)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==vf&&(e=Error(r(422),{cause:o}),tl(Vn(e,a)))):(o!==vf&&(n=Error(r(423),{cause:o}),tl(Vn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Vn(o,a),h=td(e.stateNode,o,h),Nf(e,h),fe!==4&&(fe=2)),!1;var f=Error(r(520),{cause:o});if(f=Vn(f,a),vl===null?vl=[f]:vl.push(f),fe!==4&&(fe=2),n===null)return!0;o=Vn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=td(a.stateNode,o,e),Nf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ps===null||!Ps.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ty(h),Ay(h,e,a,o),Nf(a,h),!1}a=a.return}while(a!==null);return!1}var ed=Error(r(461)),xe=!1;function Qe(e,n,a,o){n.child=e===null?Rg(n,null,a,o):Fr(n,e.child,a,o)}function Sy(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return zr(n),o=Uf(e,n,a,_,f,h),E=Lf(),e!==null&&!xe?(Pf(e,n,h),Ki(e,n,h)):(Ut&&E&&yf(n),n.flags|=1,Qe(e,n,o,h),n.child)}function by(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!mf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,wy(e,n,f,o,h)):(e=Ku(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!ud(e,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(_,o)&&e.ref===n.ref)return Ki(e,n,h)}return n.flags|=1,e=Bi(f,o),e.ref=n.ref,e.return=n,n.child=e}function wy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Zo(f,o)&&e.ref===n.ref)if(xe=!1,n.pendingProps=o=f,ud(e,h))(e.flags&131072)!==0&&(xe=!0);else return n.lanes=e.lanes,Ki(e,n,h)}return nd(e,n,a,o,h)}function Ry(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Iy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zu(n,f!==null?f.cachePool:null),f!==null?xg(n,f):Of(),Ng(n);else return o=n.lanes=536870912,Iy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Zu(n,f.cachePool),xg(n,f),Vs(),n.memoizedState=null):(e!==null&&Zu(n,null),Of(),Vs());return Qe(e,n,h,a),n.child}function fl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Iy(e,n,a,o,h){var f=Rf();return f=f===null?null:{parent:Ie._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Zu(n,null),Of(),Ng(n),e!==null&&Oa(e,n,o,!0),n.childLanes=h,null}function dc(e,n){return n=pc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Cy(e,n,a){return Fr(n,e.child,null,a),e=dc(n,n.pendingProps),e.flags|=2,Sn(n),n.memoizedState=null,e}function rA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=dc(n,o),n.lanes=536870912,fl(null,e);if(Vf(n),(e=ne)?(e=z_(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rs!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=hg(e),a.return=n,n.child=a,Fe=n,ne=null)):e=null,e===null)throw Cs(n);return n.lanes=536870912,null}return dc(n,o)}var f=e.memoizedState;if(f!==null){var _=f.dehydrated;if(Vf(n),h)if(n.flags&256)n.flags&=-257,n=Cy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(xe||Oa(e,n,a,!1),h=(a&e.childLanes)!==0,xe||h){if(o=te,o!==null&&(_=Mo(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Ur(e,_),pn(o,e,_),ed;bc(),n=Cy(e,n,a)}else e=f.treeContext,ne=jn(_.nextSibling),Fe=n,Ut=!0,Is=null,Ln=!1,e!==null&&mg(n,e),n=dc(n,o),n.flags|=4096;return n}return e=Bi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function mc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function nd(e,n,a,o,h){return zr(n),a=Uf(e,n,a,o,void 0,h),o=Lf(),e!==null&&!xe?(Pf(e,n,h),Ki(e,n,h)):(Ut&&o&&yf(n),n.flags|=1,Qe(e,n,a,h),n.child)}function xy(e,n,a,o,h,f){return zr(n),n.updateQueue=null,a=Og(n,o,a,h),Dg(e),o=Lf(),e!==null&&!xe?(Pf(e,n,f),Ki(e,n,f)):(Ut&&o&&yf(n),n.flags|=1,Qe(e,n,a,f),n.child)}function Ny(e,n,a,o,h){if(zr(n),n.stateNode===null){var f=Ca,_=a.contextType;typeof _=="object"&&_!==null&&(f=Ge(_)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Wf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Cf(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?Ge(_):Ca,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Jf(n,a,_,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Wf.enqueueReplaceState(f,f.state,null),ol(n,o,f,h),al(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,x=Qr(a,E);f.props=x;var j=f.context,Y=a.contextType;_=Ca,typeof Y=="object"&&Y!==null&&(_=Ge(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==_)&&gy(n,f,o,_),Ns=!1;var z=n.memoizedState;f.state=z,ol(n,o,f,h),al(),j=n.memoizedState,E||z!==j||Ns?(typeof Z=="function"&&(Jf(n,a,Z,o),j=n.memoizedState),(x=Ns||py(n,a,x,o,z,j,_))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=_,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,xf(e,n),_=n.memoizedProps,Y=Qr(a,_),f.props=Y,Z=n.pendingProps,z=f.context,j=a.contextType,x=Ca,typeof j=="object"&&j!==null&&(x=Ge(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Z||z!==x)&&gy(n,f,o,x),Ns=!1,z=n.memoizedState,f.state=z,ol(n,o,f,h),al();var F=n.memoizedState;_!==Z||z!==F||Ns||e!==null&&e.dependencies!==null&&Xu(e.dependencies)?(typeof E=="function"&&(Jf(n,a,E,o),F=n.memoizedState),(Y=Ns||py(n,a,Y,o,z,F,x)||e!==null&&e.dependencies!==null&&Xu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=x,o=Y):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,mc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Fr(n,e.child,null,h),n.child=Fr(n,null,a,h)):Qe(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Ki(e,n,h),e}function Dy(e,n,a,o){return Pr(),n.flags|=256,Qe(e,n,a,o),n.child}var id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sd(e){return{baseLanes:e,cachePool:Eg()}}function rd(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=wn),e}function Oy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Ms(n):Vs(),(e=ne)?(e=z_(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rs!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=hg(e),a.return=n,n.child=a,Fe=n,ne=null)):e=null,e===null)throw Cs(n);return Bd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Vs(),h=n.mode,E=pc({mode:"hidden",children:E},h),o=Lr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=sd(a),o.childLanes=rd(e,_,a),n.memoizedState=id,fl(null,o)):(Ms(n),ad(n,E))}var x=e.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Ms(n),n.flags&=-257,n=od(e,n,a)):n.memoizedState!==null?(Vs(),n.child=e.child,n.flags|=128,n=null):(Vs(),E=o.fallback,h=n.mode,o=pc({mode:"visible",children:o.children},h),E=Lr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Fr(n,e.child,null,a),o=n.child,o.memoizedState=sd(a),o.childLanes=rd(e,_,a),n.memoizedState=id,n=fl(null,o));else if(Ms(n),Bd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var j=_.dgst;_=j,o=Error(r(419)),o.stack="",o.digest=_,tl({value:o,source:null,stack:null}),n=od(e,n,a)}else if(xe||Oa(e,n,a,!1),_=(a&e.childLanes)!==0,xe||_){if(_=te,_!==null&&(o=Mo(_,a),o!==0&&o!==x.retryLane))throw x.retryLane=o,Ur(e,o),pn(_,e,o),ed;zd(E)||bc(),n=od(e,n,a)}else zd(E)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,ne=jn(E.nextSibling),Fe=n,Ut=!0,Is=null,Ln=!1,e!==null&&mg(n,e),n=ad(n,o.children),n.flags|=4096);return n}return h?(Vs(),E=o.fallback,h=n.mode,x=e.child,j=x.sibling,o=Bi(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,j!==null?E=Bi(j,E):(E=Lr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,fl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=sd(a):(h=E.cachePool,h!==null?(x=Ie._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Eg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=rd(e,_,a),n.memoizedState=id,fl(e.child,o)):(Ms(n),a=e.child,e=a.sibling,a=Bi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=a,n.memoizedState=null,a)}function ad(e,n){return n=pc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function pc(e,n){return e=Tn(22,e,null,n),e.lanes=0,e}function od(e,n,a){return Fr(n,e.child,null,a),e=ad(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function My(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Af(e.return,n,a)}function ld(e,n,a,o,h,f){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function Vy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=ye.current,E=(_&2)!==0;if(E?(_=_&1|2,n.flags|=128):_&=1,st(ye,_),Qe(e,n,o,a),o=Ut?Wo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&My(e,a,n);else if(e.tag===19)My(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&ic(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),ld(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ic(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}ld(n,!0,a,null,f,o);break;case"together":ld(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ki(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ls|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Oa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Bi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Bi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function ud(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Xu(e)))}function aA(e,n,a){switch(n.tag){case 3:Ve(n,n.stateNode.containerInfo),xs(n,Ie,e.memoizedState.cache),Pr();break;case 27:case 5:_r(n);break;case 4:Ve(n,n.stateNode.containerInfo);break;case 10:xs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Vf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ms(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Oy(e,n,a):(Ms(n),e=Ki(e,n,a),e!==null?e.sibling:null);Ms(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Oa(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Vy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(ye,ye.current),o)break;return null;case 22:return n.lanes=0,Ry(e,n,a,n.pendingProps);case 24:xs(n,Ie,e.memoizedState.cache)}return Ki(e,n,a)}function ky(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)xe=!0;else{if(!ud(e,a)&&(n.flags&128)===0)return xe=!1,aA(e,n,a);xe=(e.flags&131072)!==0}else xe=!1,Ut&&(n.flags&1048576)!==0&&dg(n,Wo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=qr(n.elementType),n.type=e,typeof e=="function")mf(e)?(o=Qr(e,o),n.tag=1,n=Ny(null,n,e,o,a)):(n.tag=0,n=nd(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===pt){n.tag=11,n=Sy(null,n,e,o,a);break t}else if(h===N){n.tag=14,n=by(null,n,e,o,a);break t}}throw n=qt(e)||e,Error(r(306,n,""))}}return n;case 0:return nd(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Qr(o,n.pendingProps),Ny(e,n,o,h,a);case 3:t:{if(Ve(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,xf(e,n),ol(n,o,null,a);var _=n.memoizedState;if(o=_.cache,xs(n,Ie,o),o!==f.cache&&Sf(n,[Ie],a,!0),al(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Dy(e,n,o,a);break t}else if(o!==h){h=Vn(Error(r(424)),n),tl(h),n=Dy(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=jn(e.firstChild),Fe=n,Ut=!0,Is=null,Ln=!0,a=Rg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Pr(),o===h){n=Ki(e,n,a);break t}Qe(e,n,o,a)}n=n.child}return n;case 26:return mc(e,n),e===null?(a=Q_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ut||(a=n.type,e=n.pendingProps,o=Dc(Rt.current).createElement(a),o[be]=n,o[Pe]=e,Ke(o,a,e),we(o),n.stateNode=o):n.memoizedState=Q_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return _r(n),e===null&&Ut&&(o=n.stateNode=H_(n.type,n.pendingProps,Rt.current),Fe=n,Ln=!0,h=ne,qs(n.type)?(qd=h,ne=jn(o.firstChild)):ne=h),Qe(e,n,n.pendingProps.children,a),mc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=ne)&&(o=UA(o,n.type,n.pendingProps,Ln),o!==null?(n.stateNode=o,Fe=n,ne=jn(o.firstChild),Ln=!1,h=!0):h=!1),h||Cs(n)),_r(n),h=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,Ld(h,f)?o=null:_!==null&&Ld(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Uf(e,n,Z1,null,null,a),Il._currentValue=h),mc(e,n),Qe(e,n,o,a),n.child;case 6:return e===null&&Ut&&((e=a=ne)&&(a=LA(a,n.pendingProps,Ln),a!==null?(n.stateNode=a,Fe=n,ne=null,e=!0):e=!1),e||Cs(n)),null;case 13:return Oy(e,n,a);case 4:return Ve(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Fr(n,null,o,a):Qe(e,n,o,a),n.child;case 11:return Sy(e,n,n.type,n.pendingProps,a);case 7:return Qe(e,n,n.pendingProps,a),n.child;case 8:return Qe(e,n,n.pendingProps.children,a),n.child;case 12:return Qe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,xs(n,n.type,o.value),Qe(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,zr(n),h=Ge(h),o=o(h),n.flags|=1,Qe(e,n,o,a),n.child;case 14:return by(e,n,n.type,n.pendingProps,a);case 15:return wy(e,n,n.type,n.pendingProps,a);case 19:return Vy(e,n,a);case 31:return rA(e,n,a);case 22:return Ry(e,n,a,n.pendingProps);case 24:return zr(n),o=Ge(Ie),e===null?(h=Rf(),h===null&&(h=te,f=bf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},Cf(n),xs(n,Ie,h)):((e.lanes&a)!==0&&(xf(e,n),ol(n,null,null,a),al()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),xs(n,Ie,o)):(o=f.cache,xs(n,Ie,o),o!==h.cache&&Sf(n,[Ie],a,!0))),Qe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Yi(e){e.flags|=4}function cd(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(l_())e.flags|=8192;else throw Hr=Wu,If}else e.flags&=-16777217}function Uy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Z_(n))if(l_())e.flags|=8192;else throw Hr=Wu,If}function gc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Au():536870912,e.lanes|=n,Fa|=n)}function dl(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function oA(e,n,a){var o=n.pendingProps;switch(_f(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Fi(Ie),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Da(n)?Yi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ef())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Yi(n),f!==null?(ie(n),Uy(n,f)):(ie(n),cd(n,h,null,o,a))):f?f!==e.memoizedState?(Yi(n),ie(n),Uy(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Yi(n),ie(n),cd(n,h,e,o,a)),null;case 27:if(ua(n),a=Rt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Yi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ie(n),null}e=lt.current,Da(n)?pg(n):(e=H_(h,o,a),n.stateNode=e,Yi(n))}return ie(n),null;case 5:if(ua(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Yi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ie(n),null}if(f=lt.current,Da(n))pg(n);else{var _=Dc(Rt.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[be]=n,f[Pe]=o;t:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break t;for(;_.sibling===null;){if(_.return===null||_.return===n)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;t:switch(Ke(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Yi(n)}}return ie(n),cd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Yi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=Rt.current,Da(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Fe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[be]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||O_(e.nodeValue,a)),e||Cs(n,!0)}else e=Dc(e).createTextNode(o),e[be]=n,n.stateNode=e}return ie(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Da(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[be]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else a=Ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Sn(n),n):(Sn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Da(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[be]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Sn(n),n):(Sn(n),null)}return Sn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),gc(n,n.updateQueue),ie(n),null);case 4:return ae(),e===null&&Od(n.stateNode.containerInfo),ie(n),null;case 10:return Fi(n.type),ie(n),null;case 19:if(J(ye),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)dl(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ic(e),f!==null){for(n.flags|=128,dl(o,!1),e=f.updateQueue,n.updateQueue=e,gc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)cg(a,e),a=a.sibling;return st(ye,ye.current&1|2),Ut&&qi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&nn()>Tc&&(n.flags|=128,h=!0,dl(o,!1),n.lanes=4194304)}else{if(!h)if(e=ic(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,gc(n,e),dl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ie(n),null}else 2*nn()-o.renderingStartTime>Tc&&a!==536870912&&(n.flags|=128,h=!0,dl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=nn(),e.sibling=null,a=ye.current,st(ye,h?a&1|2:a&1),Ut&&qi(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return Sn(n),Mf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&gc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&J(Br),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Fi(Ie),ie(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function lA(e,n){switch(_f(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fi(Ie),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ua(n),null;case 31:if(n.memoizedState!==null){if(Sn(n),n.alternate===null)throw Error(r(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Sn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return J(ye),null;case 4:return ae(),null;case 10:return Fi(n.type),null;case 22:case 23:return Sn(n),Mf(),e!==null&&J(Br),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Fi(Ie),null;case 25:return null;default:return null}}function Ly(e,n){switch(_f(n),n.tag){case 3:Fi(Ie),ae();break;case 26:case 27:case 5:ua(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&Sn(n);break;case 13:Sn(n);break;case 19:J(ye);break;case 10:Fi(n.type);break;case 22:case 23:Sn(n),Mf(),e!==null&&J(Br);break;case 24:Fi(Ie)}}function ml(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){Xt(n,n.return,E)}}function ks(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=n;var x=a,j=E;try{j()}catch(Y){Xt(h,x,Y)}}}o=o.next}while(o!==f)}}catch(Y){Xt(n,n.return,Y)}}function Py(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Cg(n,a)}catch(o){Xt(e,e.return,o)}}}function jy(e,n,a){a.props=Qr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Xt(e,n,o)}}function pl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Xt(e,n,h)}}function Ri(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xt(e,n,h)}else a.current=null}function zy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Xt(e,e.return,h)}}function hd(e,n,a){try{var o=e.stateNode;NA(o,e.type,a,n),o[Pe]=n}catch(h){Xt(e,e.return,h)}}function By(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qs(e.type)||e.tag===4}function fd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||By(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dd(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Yn));else if(o!==4&&(o===27&&qs(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(dd(e,n,a),e=e.sibling;e!==null;)dd(e,n,a),e=e.sibling}function yc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&qs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(yc(e,n,a),e=e.sibling;e!==null;)yc(e,n,a),e=e.sibling}function qy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ke(n,o,a),n[be]=e,n[Pe]=a}catch(f){Xt(e,e.return,f)}}var Xi=!1,Ne=!1,md=!1,Hy=typeof WeakSet=="function"?WeakSet:Set,ze=null;function uA(e,n){if(e=e.containerInfo,kd=Pc,e=eg(e),of(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,E=-1,x=-1,j=0,Y=0,Z=e,z=null;e:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(E=_+h),Z!==f||o!==0&&Z.nodeType!==3||(x=_+o),Z.nodeType===3&&(_+=Z.nodeValue.length),(F=Z.firstChild)!==null;)z=Z,Z=F;for(;;){if(Z===e)break e;if(z===a&&++j===h&&(E=_),z===f&&++Y===o&&(x=_),(F=Z.nextSibling)!==null)break;Z=z,z=Z.parentNode}Z=F}a=E===-1||x===-1?null:{start:E,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ud={focusedElem:e,selectionRange:a},Pc=!1,ze=n;ze!==null;)if(n=ze,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ze=e;else for(;ze!==null;){switch(n=ze,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ut=Qr(a.type,h);e=o.getSnapshotBeforeUpdate(ut,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Xt(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)jd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,ze=e;break}ze=n.return}}function Fy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(e,a),o&4&&ml(5,a);break;case 1:if(Zi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(_){Xt(a,a.return,_)}else{var h=Qr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Xt(a,a.return,_)}}o&64&&Py(a),o&512&&pl(a,a.return);break;case 3:if(Zi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Cg(e,n)}catch(_){Xt(a,a.return,_)}}break;case 27:n===null&&o&4&&qy(a);case 26:case 5:Zi(e,a),n===null&&o&4&&zy(a),o&512&&pl(a,a.return);break;case 12:Zi(e,a);break;case 31:Zi(e,a),o&4&&Ky(e,a);break;case 13:Zi(e,a),o&4&&Yy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=_A.bind(null,a),PA(e,a))));break;case 22:if(o=a.memoizedState!==null||Xi,!o){n=n!==null&&n.memoizedState!==null||Ne,h=Xi;var f=Ne;Xi=o,(Ne=n)&&!f?Ji(e,a,(a.subtreeFlags&8772)!==0):Zi(e,a),Xi=h,Ne=f}break;case 30:break;default:Zi(e,a)}}function Gy(e){var n=e.alternate;n!==null&&(e.alternate=null,Gy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ma(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,hn=!1;function $i(e,n,a){for(a=a.child;a!==null;)Qy(e,n,a),a=a.sibling}function Qy(e,n,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:Ne||Ri(a,n),$i(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ne||Ri(a,n);var o=le,h=hn;qs(a.type)&&(le=a.stateNode,hn=!1),$i(e,n,a),bl(a.stateNode),le=o,hn=h;break;case 5:Ne||Ri(a,n);case 6:if(o=le,h=hn,le=null,$i(e,n,a),le=o,hn=h,le!==null)if(hn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Xt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Xt(a,n,f)}break;case 18:le!==null&&(hn?(e=le,P_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ja(e)):P_(le,a.stateNode));break;case 4:o=le,h=hn,le=a.stateNode.containerInfo,hn=!0,$i(e,n,a),le=o,hn=h;break;case 0:case 11:case 14:case 15:ks(2,a,n),Ne||ks(4,a,n),$i(e,n,a);break;case 1:Ne||(Ri(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&jy(a,n,o)),$i(e,n,a);break;case 21:$i(e,n,a);break;case 22:Ne=(o=Ne)||a.memoizedState!==null,$i(e,n,a),Ne=o;break;default:$i(e,n,a)}}function Ky(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ja(e)}catch(a){Xt(n,n.return,a)}}}function Yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ja(e)}catch(a){Xt(n,n.return,a)}}function cA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Hy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Hy),n;default:throw Error(r(435,e.tag))}}function _c(e,n){var a=cA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=vA.bind(null,e,o);o.then(h,h)}})}function fn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,_=n,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(qs(E.type)){le=E.stateNode,hn=!1;break t}break;case 5:le=E.stateNode,hn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,hn=!0;break t}E=E.return}if(le===null)throw Error(r(160));Qy(f,_,h),le=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Xy(n,e),n=n.sibling}var ti=null;function Xy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(n,e),dn(e),o&4&&(ks(3,e,e.return),ml(3,e),ks(5,e,e.return));break;case 1:fn(n,e),dn(e),o&512&&(Ne||a===null||Ri(a,a.return)),o&64&&Xi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ti;if(fn(n,e),dn(e),o&512&&(Ne||a===null||Ri(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fi]||f[be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ke(f,o,a),f[be]=e,we(f),o=f;break t;case"link":var _=X_("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}f=h.createElement(o),Ke(f,o,a),h.head.appendChild(f);break;case"meta":if(_=X_("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}f=h.createElement(o),Ke(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[be]=e,we(f),o=f}e.stateNode=o}else $_(h,e.type,e.stateNode);else e.stateNode=Y_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?$_(h,e.type,e.stateNode):Y_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&hd(e,e.memoizedProps,a.memoizedProps)}break;case 27:fn(n,e),dn(e),o&512&&(Ne||a===null||Ri(a,a.return)),a!==null&&o&4&&hd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(fn(n,e),dn(e),o&512&&(Ne||a===null||Ri(a,a.return)),e.flags&32){h=e.stateNode;try{cn(h,"")}catch(ut){Xt(e,e.return,ut)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,hd(e,h,a!==null?a.memoizedProps:h)),o&1024&&(md=!0);break;case 6:if(fn(n,e),dn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ut){Xt(e,e.return,ut)}}break;case 3:if(Vc=null,h=ti,ti=Oc(n.containerInfo),fn(n,e),ti=h,dn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ja(n.containerInfo)}catch(ut){Xt(e,e.return,ut)}md&&(md=!1,$y(e));break;case 4:o=ti,ti=Oc(e.stateNode.containerInfo),fn(n,e),dn(e),ti=o;break;case 12:fn(n,e),dn(e);break;case 31:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,_c(e,o)));break;case 13:fn(n,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ec=nn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,_c(e,o)));break;case 22:h=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,j=Xi,Y=Ne;if(Xi=j||h,Ne=Y||x,fn(n,e),Ne=Y,Xi=j,dn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||x||Xi||Ne||Kr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){x=a=n;try{if(f=x.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=x.stateNode;var Z=x.memoizedProps.style,z=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ut){Xt(x,x.return,ut)}}}else if(n.tag===6){if(a===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(ut){Xt(x,x.return,ut)}}}else if(n.tag===18){if(a===null){x=n;try{var F=x.stateNode;h?j_(F,!0):j_(x.stateNode,!1)}catch(ut){Xt(x,x.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,_c(e,a))));break;case 19:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,_c(e,o)));break;case 30:break;case 21:break;default:fn(n,e),dn(e)}}function dn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(By(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=fd(e);yc(e,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var E=fd(e);yc(e,E,_);break;case 3:case 4:var x=a.stateNode.containerInfo,j=fd(e);dd(e,j,x);break;default:throw Error(r(161))}}catch(Y){Xt(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;$y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Zi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Fy(e,n.alternate,n),n=n.sibling}function Kr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ks(4,n,n.return),Kr(n);break;case 1:Ri(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&jy(n,n.return,a),Kr(n);break;case 27:bl(n.stateNode);case 26:case 5:Ri(n,n.return),Kr(n);break;case 22:n.memoizedState===null&&Kr(n);break;case 30:Kr(n);break;default:Kr(n)}e=e.sibling}}function Ji(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(h,f,a),ml(4,f);break;case 1:if(Ji(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Xt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Ig(x[h],E)}catch(j){Xt(o,o.return,j)}}a&&_&64&&Py(f),pl(f,f.return);break;case 27:qy(f);case 26:case 5:Ji(h,f,a),a&&o===null&&_&4&&zy(f),pl(f,f.return);break;case 12:Ji(h,f,a);break;case 31:Ji(h,f,a),a&&_&4&&Ky(h,f);break;case 13:Ji(h,f,a),a&&_&4&&Yy(h,f);break;case 22:f.memoizedState===null&&Ji(h,f,a),pl(f,f.return);break;case 30:break;default:Ji(h,f,a)}n=n.sibling}}function pd(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&el(a))}function gd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&el(e))}function ei(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zy(e,n,a,o),n=n.sibling}function Zy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ei(e,n,a,o),h&2048&&ml(9,n);break;case 1:ei(e,n,a,o);break;case 3:ei(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&el(e)));break;case 12:if(h&2048){ei(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Xt(n,n.return,x)}}else ei(e,n,a,o);break;case 31:ei(e,n,a,o);break;case 13:ei(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?ei(e,n,a,o):gl(e,n):f._visibility&2?ei(e,n,a,o):(f._visibility|=2,Ba(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&pd(_,n);break;case 24:ei(e,n,a,o),h&2048&&gd(n.alternate,n);break;default:ei(e,n,a,o)}}function Ba(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,_=n,E=a,x=o,j=_.flags;switch(_.tag){case 0:case 11:case 15:Ba(f,_,E,x,h),ml(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?Ba(f,_,E,x,h):gl(f,_):(Y._visibility|=2,Ba(f,_,E,x,h)),h&&j&2048&&pd(_.alternate,_);break;case 24:Ba(f,_,E,x,h),h&&j&2048&&gd(_.alternate,_);break;default:Ba(f,_,E,x,h)}n=n.sibling}}function gl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:gl(a,o),h&2048&&pd(o.alternate,o);break;case 24:gl(a,o),h&2048&&gd(o.alternate,o);break;default:gl(a,o)}n=n.sibling}}var yl=8192;function qa(e,n,a){if(e.subtreeFlags&yl)for(e=e.child;e!==null;)Jy(e,n,a),e=e.sibling}function Jy(e,n,a){switch(e.tag){case 26:qa(e,n,a),e.flags&yl&&e.memoizedState!==null&&$A(a,ti,e.memoizedState,e.memoizedProps);break;case 5:qa(e,n,a);break;case 3:case 4:var o=ti;ti=Oc(e.stateNode.containerInfo),qa(e,n,a),ti=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=yl,yl=16777216,qa(e,n,a),yl=o):qa(e,n,a));break;default:qa(e,n,a)}}function Wy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function _l(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];ze=o,e_(o,e)}Wy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)t_(e),e=e.sibling}function t_(e){switch(e.tag){case 0:case 11:case 15:_l(e),e.flags&2048&&ks(9,e,e.return);break;case 3:_l(e);break;case 12:_l(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,vc(e)):_l(e);break;default:_l(e)}}function vc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];ze=o,e_(o,e)}Wy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ks(8,n,n.return),vc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,vc(n));break;default:vc(n)}e=e.sibling}}function e_(e,n){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:ks(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:el(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ze=o;else t:for(a=e;ze!==null;){o=ze;var h=o.sibling,f=o.return;if(Gy(o),o===a){ze=null;break t}if(h!==null){h.return=f,ze=h;break t}ze=f}}}var hA={getCacheForType:function(e){var n=Ge(Ie),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Ge(Ie).controller.signal}},fA=typeof WeakMap=="function"?WeakMap:Map,Ft=0,te=null,xt=null,Dt=0,Yt=0,bn=null,Us=!1,Ha=!1,yd=!1,Wi=0,fe=0,Ls=0,Yr=0,_d=0,wn=0,Fa=0,vl=null,mn=null,vd=!1,Ec=0,n_=0,Tc=1/0,Ac=null,Ps=null,Ue=0,js=null,Ga=null,ts=0,Ed=0,Td=null,i_=null,El=0,Ad=null;function Rn(){return(Ft&2)!==0&&Dt!==0?Dt&-Dt:K.T!==null?Cd():Su()}function s_(){if(wn===0)if((Dt&536870912)===0||Ut){var e=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),wn=e}else wn=536870912;return e=An.current,e!==null&&(e.flags|=32),wn}function pn(e,n,a){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),zs(e,Dt,wn,!1)),Ar(e,a),((Ft&2)===0||e!==te)&&(e===te&&((Ft&2)===0&&(Yr|=a),fe===4&&zs(e,Dt,wn,!1)),Ii(e))}function r_(e,n,a){if((Ft&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Gn(e,n),h=o?pA(e,n):bd(e,n,!0),f=o;do{if(h===0){Ha&&!o&&zs(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!dA(a)){h=bd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var E=e;h=vl;var x=E.current.memoizedState.isDehydrated;if(x&&(Qa(E,_).flags|=256),_=bd(E,_,!1),_!==2){if(yd&&!x){E.errorRecoveryDisabledLanes|=f,Yr|=f,h=4;break t}f=mn,mn=h,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Qa(e,0),zs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:zs(o,n,wn,!Us);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Ec+300-nn(),10<h)){if(zs(o,n,wn,!Us),ui(o,0,!0)!==0)break t;ts=n,o.timeoutHandle=U_(a_.bind(null,o,a,mn,Ac,vd,n,wn,Yr,Fa,Us,f,"Throttled",-0,0),h);break t}a_(o,a,mn,Ac,vd,n,wn,Yr,Fa,Us,f,null,-0,0)}}break}while(!0);Ii(e)}function a_(e,n,a,o,h,f,_,E,x,j,Y,Z,z,F){if(e.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},Jy(n,f,Z);var ut=(f&62914560)===f?Ec-nn():(f&4194048)===f?n_-nn():0;if(ut=ZA(Z,ut),ut!==null){ts=f,e.cancelPendingCommit=ut(m_.bind(null,e,n,f,a,o,h,_,E,x,Y,Z,null,z,F)),zs(e,f,_,!j);return}}m_(e,n,f,a,o,h,_,E,x)}function dA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!En(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zs(e,n,a,o){n&=~_d,n&=~Yr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-pe(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&Sr(e,a,n)}function Sc(){return(Ft&6)===0?(Tl(0),!1):!0}function Sd(){if(xt!==null){if(Yt===0)var e=xt.return;else e=xt,Hi=jr=null,jf(e),Ua=null,il=0,e=xt;for(;e!==null;)Ly(e.alternate,e),e=e.return;xt=null}}function Qa(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,MA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ts=0,Sd(),te=e,xt=a=Bi(e.current,null),Dt=n,Yt=0,bn=null,Us=!1,Ha=Gn(e,n),yd=!1,Fa=wn=_d=Yr=Ls=fe=0,mn=vl=null,vd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-pe(o),f=1<<h;n|=e[h],o&=~f}return Wi=n,Fu(),a}function o_(e,n){bt=null,K.H=hl,n===ka||n===Ju?(n=Sg(),Yt=3):n===If?(n=Sg(),Yt=4):Yt=n===ed?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,bn=n,xt===null&&(fe=1,fc(e,Vn(n,e.current)))}function l_(){var e=An.current;return e===null?!0:(Dt&4194048)===Dt?Pn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Pn:!1}function u_(){var e=K.H;return K.H=hl,e===null?hl:e}function c_(){var e=K.A;return K.A=hA,e}function bc(){fe=4,Us||(Dt&4194048)!==Dt&&An.current!==null||(Ha=!0),(Ls&134217727)===0&&(Yr&134217727)===0||te===null||zs(te,Dt,wn,!1)}function bd(e,n,a){var o=Ft;Ft|=2;var h=u_(),f=c_();(te!==e||Dt!==n)&&(Ac=null,Qa(e,n)),n=!1;var _=fe;t:do try{if(Yt!==0&&xt!==null){var E=xt,x=bn;switch(Yt){case 8:Sd(),_=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var j=Yt;if(Yt=0,bn=null,Ka(e,E,x,j),a&&Ha){_=0;break t}break;default:j=Yt,Yt=0,bn=null,Ka(e,E,x,j)}}mA(),_=fe;break}catch(Y){o_(e,Y)}while(!0);return n&&e.shellSuspendCounter++,Hi=jr=null,Ft=o,K.H=h,K.A=f,xt===null&&(te=null,Dt=0,Fu()),_}function mA(){for(;xt!==null;)h_(xt)}function pA(e,n){var a=Ft;Ft|=2;var o=u_(),h=c_();te!==e||Dt!==n?(Ac=null,Tc=nn()+500,Qa(e,n)):Ha=Gn(e,n);t:do try{if(Yt!==0&&xt!==null){n=xt;var f=bn;e:switch(Yt){case 1:Yt=0,bn=null,Ka(e,n,f,1);break;case 2:case 9:if(Tg(f)){Yt=0,bn=null,f_(n);break}n=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),Ii(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Tg(f)?(Yt=0,bn=null,f_(n)):(Yt=0,bn=null,Ka(e,n,f,7));break;case 5:var _=null;switch(xt.tag){case 26:_=xt.memoizedState;case 5:case 27:var E=xt;if(_?Z_(_):E.stateNode.complete){Yt=0,bn=null;var x=E.sibling;if(x!==null)xt=x;else{var j=E.return;j!==null?(xt=j,wc(j)):xt=null}break e}}Yt=0,bn=null,Ka(e,n,f,5);break;case 6:Yt=0,bn=null,Ka(e,n,f,6);break;case 8:Sd(),fe=6;break t;default:throw Error(r(462))}}gA();break}catch(Y){o_(e,Y)}while(!0);return Hi=jr=null,K.H=o,K.A=h,Ft=a,xt!==null?0:(te=null,Dt=0,Fu(),fe)}function gA(){for(;xt!==null&&!Wh();)h_(xt)}function h_(e){var n=ky(e.alternate,e,Wi);e.memoizedProps=e.pendingProps,n===null?wc(e):xt=n}function f_(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=xy(a,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=xy(a,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:jf(n);default:Ly(a,n),n=xt=cg(n,Wi),n=ky(a,n,Wi)}e.memoizedProps=e.pendingProps,n===null?wc(e):xt=n}function Ka(e,n,a,o){Hi=jr=null,jf(n),Ua=null,il=0;var h=n.return;try{if(sA(e,h,n,a,Dt)){fe=1,fc(e,Vn(a,e.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;fe=1,fc(e,Vn(a,e.current)),xt=null;return}n.flags&32768?(Ut||o===1?e=!0:Ha||(Dt&536870912)!==0?e=!1:(Us=e=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),d_(n,e)):wc(n)}function wc(e){var n=e;do{if((n.flags&32768)!==0){d_(n,Us);return}e=n.return;var a=oA(n.alternate,n,Wi);if(a!==null){xt=a;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);fe===0&&(fe=5)}function d_(e,n){do{var a=lA(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);fe=6,xt=null}function m_(e,n,a,o,h,f,_,E,x){e.cancelPendingCommit=null;do Rc();while(Ue!==0);if((Ft&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=ff,nf(e,a,f,_,E,x),e===te&&(xt=te=null,Dt=0),Ga=n,js=e,ts=a,Ed=f,Td=h,i_=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,EA(gs,function(){return v_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=it.p,it.p=2,_=Ft,Ft|=4;try{uA(e,n,a)}finally{Ft=_,it.p=h,K.T=o}}Ue=1,p_(),g_(),y_()}}function p_(){if(Ue===1){Ue=0;var e=js,n=Ga,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var o=it.p;it.p=2;var h=Ft;Ft|=4;try{Xy(n,e);var f=Ud,_=eg(e.containerInfo),E=f.focusedElem,x=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&tg(E.ownerDocument.documentElement,E)){if(x!==null&&of(E)){var j=x.start,Y=x.end;if(Y===void 0&&(Y=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Y,E.value.length);else{var Z=E.ownerDocument||document,z=Z&&Z.defaultView||window;if(z.getSelection){var F=z.getSelection(),ut=E.textContent.length,gt=Math.min(x.start,ut),Wt=x.end===void 0?gt:Math.min(x.end,ut);!F.extend&&gt>Wt&&(_=Wt,Wt=gt,gt=_);var k=Wp(E,gt),O=Wp(E,Wt);if(k&&O&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var P=Z.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),gt>Wt?(F.addRange(P),F.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),F.addRange(P))}}}}for(Z=[],F=E;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var X=Z[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Pc=!!kd,Ud=kd=null}finally{Ft=h,it.p=o,K.T=a}}e.current=n,Ue=2}}function g_(){if(Ue===2){Ue=0;var e=js,n=Ga,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var o=it.p;it.p=2;var h=Ft;Ft|=4;try{Fy(e,n.alternate,n)}finally{Ft=h,it.p=o,K.T=a}}Ue=3}}function y_(){if(Ue===4||Ue===3){Ue=0,gu();var e=js,n=Ga,a=ts,o=i_;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Ga=js=null,__(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ps=null),Li(a),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Fn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=K.T,h=it.p,it.p=2,K.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{K.T=n,it.p=h}}(ts&3)!==0&&Rc(),Ii(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Ad?El++:(El=0,Ad=e):El=0,Tl(0)}}function __(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,el(n)))}function Rc(){return p_(),g_(),y_(),v_()}function v_(){if(Ue!==5)return!1;var e=js,n=Ed;Ed=0;var a=Li(ts),o=K.T,h=it.p;try{it.p=32>a?32:a,K.T=null,a=Td,Td=null;var f=js,_=ts;if(Ue=0,Ga=js=null,ts=0,(Ft&6)!==0)throw Error(r(331));var E=Ft;if(Ft|=4,t_(f.current),Zy(f,f.current,_,a),Ft=E,Tl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Fn,f)}catch{}return!0}finally{it.p=h,K.T=o,__(e,n)}}function E_(e,n,a){n=Vn(a,n),n=td(e.stateNode,n,2),e=Os(e,n,2),e!==null&&(Ar(e,2),Ii(e))}function Xt(e,n,a){if(e.tag===3)E_(e,e,a);else for(;n!==null;){if(n.tag===3){E_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ps===null||!Ps.has(o))){e=Vn(a,e),a=Ty(2),o=Os(n,a,2),o!==null&&(Ay(a,o,n,e),Ar(o,2),Ii(o));break}}n=n.return}}function wd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new fA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(yd=!0,h.add(a),e=yA.bind(null,e,n,a),n.then(e,e))}function yA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Dt&a)===a&&(fe===4||fe===3&&(Dt&62914560)===Dt&&300>nn()-Ec?(Ft&2)===0&&Qa(e,0):_d|=a,Fa===Dt&&(Fa=0)),Ii(e)}function T_(e,n){n===0&&(n=Au()),e=Ur(e,n),e!==null&&(Ar(e,n),Ii(e))}function _A(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),T_(e,a)}function vA(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),T_(e,a)}function EA(e,n){return ke(e,n)}var Ic=null,Ya=null,Rd=!1,Cc=!1,Id=!1,Bs=0;function Ii(e){e!==Ya&&e.next===null&&(Ya===null?Ic=Ya=e:Ya=Ya.next=e),Cc=!0,Rd||(Rd=!0,AA())}function Tl(e,n){if(!Id&&Cc){Id=!0;do for(var a=!1,o=Ic;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-pe(42|e)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,w_(o,f))}else f=Dt,f=ui(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Gn(o,f)||(a=!0,w_(o,f));o=o.next}while(a);Id=!1}}function TA(){A_()}function A_(){Cc=Rd=!1;var e=0;Bs!==0&&OA()&&(e=Bs);for(var n=nn(),a=null,o=Ic;o!==null;){var h=o.next,f=S_(o,n);f===0?(o.next=null,a===null?Ic=h:a.next=h,h===null&&(Ya=a)):(a=o,(e!==0||(f&3)!==0)&&(Cc=!0)),o=h}Ue!==0&&Ue!==5||Tl(e),Bs!==0&&(Bs=0)}function S_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-pe(f),E=1<<_,x=h[_];x===-1?((E&a)===0||(E&o)!==0)&&(h[_]=ef(E,n)):x<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,a=Dt,a=ui(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ps(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Gn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&ps(o),Li(a)){case 2:case 8:a=Do;break;case 32:a=gs;break;case 268435456:a=yu;break;default:a=gs}return o=b_.bind(null,e),a=ke(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&ps(o),e.callbackPriority=2,e.callbackNode=null,2}function b_(e,n){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Rc()&&e.callbackNode!==a)return null;var o=Dt;return o=ui(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(r_(e,o,n),S_(e,nn()),e.callbackNode!=null&&e.callbackNode===a?b_.bind(null,e):null)}function w_(e,n){if(Rc())return null;r_(e,n,!0)}function AA(){VA(function(){(Ft&6)!==0?ke(No,TA):A_()})}function Cd(){if(Bs===0){var e=Ma;e===0&&(e=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Bs=e}return Bs}function R_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_a(""+e)}function I_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function SA(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=R_((h[Pe]||null).action),_=o.submitter;_&&(n=(n=_[Pe]||null)?R_(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new Ei("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Bs!==0){var x=_?I_(h,_):new FormData(h);Yf(a,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=_?I_(h,_):new FormData(h),Yf(a,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var xd=0;xd<hf.length;xd++){var Nd=hf[xd],bA=Nd.toLowerCase(),wA=Nd[0].toUpperCase()+Nd.slice(1);Wn(bA,"on"+wA)}Wn(sg,"onAnimationEnd"),Wn(rg,"onAnimationIteration"),Wn(ag,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(B1,"onTransitionRun"),Wn(q1,"onTransitionStart"),Wn(H1,"onTransitionCancel"),Wn(og,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function C_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var E=o[_],x=E.instance,j=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Y){Hu(Y)}h.currentTarget=null,f=x}else for(_=0;_<o.length;_++){if(E=o[_],x=E.instance,j=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Y){Hu(Y)}h.currentTarget=null,f=x}}}}function Nt(e,n){var a=n[da];a===void 0&&(a=n[da]=new Set);var o=e+"__bubble";a.has(o)||(x_(n,e,2,!1),a.add(o))}function Dd(e,n,a){var o=0;n&&(o|=4),x_(a,e,o,n)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Od(e){if(!e[xc]){e[xc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(RA.has(a)||Dd(a,!1,e),Dd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[xc]||(n[xc]=!0,Dd("selectionchange",!1,n))}}function x_(e,n,a,o){switch(sv(n)){case 2:var h=tS;break;case 8:h=eS;break;default:h=Kd}a=h.bind(null,n,a,e),h=void 0,!Cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Md(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=di(E),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){o=f=_;continue t}E=E.parentNode}}o=o.return}As(function(){var j=f,Y=Nn(a),Z=[];t:{var z=lg.get(e);if(z!==void 0){var F=Ei,ut=e;switch(e){case"keypress":if(Nr(a)===0)break t;case"keydown":case"keyup":F=zu;break;case"focusin":ut="focus",F=Or;break;case"focusout":ut="blur",F=Or;break;case"beforeblur":case"afterblur":F=Or;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case sg:case rg:case ag:F=Mu;break;case og:F=S;break;case"scroll":case"scrollend":F=Qo;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=Vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=zi;break;case"toggle":case"beforetoggle":F=St}var gt=(n&4)!==0,Wt=!gt&&(e==="scroll"||e==="scrollend"),k=gt?z!==null?z+"Capture":null:z;gt=[];for(var O=j,P;O!==null;){var X=O;if(P=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||P===null||k===null||(X=Xn(O,k),X!=null&&gt.push(Sl(O,X,P))),Wt)break;O=O.return}0<gt.length&&(z=new F(z,ut,null,a,Y),Z.push({event:z,listeners:gt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",z&&a!==Ho&&(ut=a.relatedTarget||a.fromElement)&&(di(ut)||ut[hi]))break t;if((F||z)&&(z=Y.window===Y?Y:(z=Y.ownerDocument)?z.defaultView||z.parentWindow:window,F?(ut=a.relatedTarget||a.toElement,F=j,ut=ut?di(ut):null,ut!==null&&(Wt=u(ut),gt=ut.tag,ut!==Wt||gt!==5&&gt!==27&&gt!==6)&&(ut=null)):(F=null,ut=j),F!==ut)){if(gt=Ko,X="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(gt=zi,X="onPointerLeave",k="onPointerEnter",O="pointer"),Wt=F==null?z:_n(F),P=ut==null?z:_n(ut),z=new gt(X,O+"leave",F,a,Y),z.target=Wt,z.relatedTarget=P,X=null,di(Y)===j&&(gt=new gt(k,O+"enter",ut,a,Y),gt.target=P,gt.relatedTarget=Wt,X=gt),Wt=X,F&&ut)e:{for(gt=IA,k=F,O=ut,P=0,X=k;X;X=gt(X))P++;X=0;for(var ft=O;ft;ft=gt(ft))X++;for(;0<P-X;)k=gt(k),P--;for(;0<X-P;)O=gt(O),X--;for(;P--;){if(k===O||O!==null&&k===O.alternate){gt=k;break e}k=gt(k),O=gt(O)}gt=null}else gt=null;F!==null&&N_(Z,z,F,gt,!1),ut!==null&&Wt!==null&&N_(Z,Wt,ut,gt,!0)}}t:{if(z=j?_n(j):window,F=z.nodeName&&z.nodeName.toLowerCase(),F==="select"||F==="input"&&z.type==="file")var zt=Kp;else if(Gp(z))if(Yp)zt=P1;else{zt=U1;var ht=k1}else F=z.nodeName,!F||F.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ya(j.elementType)&&(zt=Kp):zt=L1;if(zt&&(zt=zt(e,j))){Qp(Z,zt,a,Y);break t}ht&&ht(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&zo(z,"number",z.value)}switch(ht=j?_n(j):window,e){case"focusin":(Gp(ht)||ht.contentEditable==="true")&&(wa=ht,lf=j,Jo=null);break;case"focusout":Jo=lf=wa=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,ng(Z,a,Y);break;case"selectionchange":if(z1)break;case"keydown":case"keyup":ng(Z,a,Y)}var It;if(Ht)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ba?Mr(e,a)&&(Ot="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(Si&&a.locale!=="ko"&&(ba||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ba&&(It=Go()):(vi=Y,Fo="value"in vi?vi.value:vi.textContent,ba=!0)),ht=Nc(j,Ot),0<ht.length&&(Ot=new Ai(Ot,e,null,a,Y),Z.push({event:Ot,listeners:ht}),It?Ot.data=It:(It=Sa(a),It!==null&&(Ot.data=It)))),(It=On?D1(e,a):O1(e,a))&&(Ot=Nc(j,"onBeforeInput"),0<Ot.length&&(ht=new Ai("onBeforeInput","beforeinput",null,a,Y),Z.push({event:ht,listeners:Ot}),ht.data=It)),SA(Z,e,j,a,Y)}C_(Z,n)})}function Sl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Nc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xn(e,a),h!=null&&o.unshift(Sl(e,h,f)),h=Xn(e,n),h!=null&&o.push(Sl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function IA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function N_(e,n,a,o,h){for(var f=n._reactName,_=[];a!==null&&a!==o;){var E=a,x=E.alternate,j=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||j===null||(x=j,h?(j=Xn(a,f),j!=null&&_.unshift(Sl(a,j,x))):h||(j=Xn(a,f),j!=null&&_.push(Sl(a,j,x)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var CA=/\r\n?/g,xA=/\u0000|\uFFFD/g;function D_(e){return(typeof e=="string"?e:""+e).replace(CA,`
`).replace(xA,"")}function O_(e,n){return n=D_(n),D_(e)===n}function Jt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||cn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&cn(e,""+o);break;case"className":vn(e,"class",o);break;case"tabIndex":vn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(e,a,o);break;case"style":qo(e,o,f);break;case"data":if(n!=="object"){vn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=_a(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=_a(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=_a(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),pa(e,"popover",o);break;case"xlinkActuate":Re(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Re(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Re(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Re(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Re(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Re(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Re(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Re(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Re(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":pa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nu.get(a)||a,pa(e,a,o))}}function Vd(e,n,a,o,h,f){switch(a){case"style":qo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?cn(e,o):(typeof o=="number"||typeof o=="bigint")&&cn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Pe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):pa(e,a,o)}}}function Ke(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,f,_,a,null)}}h&&Jt(e,n,"srcSet",a.srcSet,a,null),o&&Jt(e,n,"src",a.src,a,null);return;case"input":Nt("invalid",e);var E=f=_=h=null,x=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var Y=a[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":_=Y;break;case"checked":x=Y;break;case"defaultChecked":j=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:Jt(e,n,o,Y,a,null)}}Iu(e,f,E,x,j,_,h,!1);return;case"select":Nt("invalid",e),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Jt(e,n,h,E,a,null)}n=f,a=_,e.multiple=!!o,n!=null?_s(e,!!o,n,!1):a!=null&&_s(e,!!o,a,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Jt(e,n,_,E,a,null)}vs(e,o,h,f);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(o=a[x],o!=null))switch(x){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(e,n,x,o,a,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<Al.length;o++)Nt(Al[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,j,o,a,null)}return;default:if(ya(n)){for(Y in a)a.hasOwnProperty(Y)&&(o=a[Y],o!==void 0&&Vd(e,n,Y,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Jt(e,n,E,o,a,null))}function NA(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,x=null,j=null,Y=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":x=Z;default:o.hasOwnProperty(F)||Jt(e,n,F,null,o,Z)}}for(var z in o){var F=o[z];if(Z=a[z],o.hasOwnProperty(z)&&(F!=null||Z!=null))switch(z){case"type":f=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":Y=F;break;case"value":_=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==Z&&Jt(e,n,z,F,o,Z)}}ga(e,_,E,x,j,Y,f,h);return;case"select":F=_=E=z=null;for(f in a)if(x=a[f],a.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":F=x;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,x)}for(h in o)if(f=o[h],x=a[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==x&&Jt(e,n,h,f,o,x)}n=E,a=_,o=F,z!=null?_s(e,!!a,z,!1):!!o!=!!a&&(n!=null?_s(e,!!a,n,!0):_s(e,!!a,a?[]:"",!1));return;case"textarea":F=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":z=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Jt(e,n,_,h,o,f)}Cu(e,z,F);return;case"option":for(var ut in a)if(z=a[ut],a.hasOwnProperty(ut)&&z!=null&&!o.hasOwnProperty(ut))switch(ut){case"selected":e.selected=!1;break;default:Jt(e,n,ut,null,o,z)}for(x in o)if(z=o[x],F=a[x],o.hasOwnProperty(x)&&z!==F&&(z!=null||F!=null))switch(x){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Jt(e,n,x,z,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)z=a[gt],a.hasOwnProperty(gt)&&z!=null&&!o.hasOwnProperty(gt)&&Jt(e,n,gt,null,o,z);for(j in o)if(z=o[j],F=a[j],o.hasOwnProperty(j)&&z!==F&&(z!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Jt(e,n,j,z,o,F)}return;default:if(ya(n)){for(var Wt in a)z=a[Wt],a.hasOwnProperty(Wt)&&z!==void 0&&!o.hasOwnProperty(Wt)&&Vd(e,n,Wt,void 0,o,z);for(Y in o)z=o[Y],F=a[Y],!o.hasOwnProperty(Y)||z===F||z===void 0&&F===void 0||Vd(e,n,Y,z,o,F);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&Jt(e,n,k,null,o,z);for(Z in o)z=o[Z],F=a[Z],!o.hasOwnProperty(Z)||z===F||z==null&&F==null||Jt(e,n,Z,z,o,F)}function M_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&M_(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var x=a[o],j=x.startTime;if(j>E)break;var Y=x.transferSize,Z=x.initiatorType;Y&&M_(Z)&&(x=x.responseEnd,_+=Y*(x<E?1:(E-j)/(x-j)))}if(--o,n+=8*(f+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var kd=null,Ud=null;function Dc(e){return e.nodeType===9?e:e.ownerDocument}function V_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ld(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pd=null;function OA(){var e=window.event;return e&&e.type==="popstate"?e===Pd?!1:(Pd=e,!0):(Pd=null,!1)}var U_=typeof setTimeout=="function"?setTimeout:void 0,MA=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,VA=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(e){return L_.resolve(null).then(e).catch(kA)}:U_;function kA(e){setTimeout(function(){throw e})}function qs(e){return e==="head"}function P_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ja(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")bl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,bl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[fi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&bl(e.ownerDocument.body);a=h}while(a);Ja(n)}function j_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function jd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jd(a),ma(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function UA(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[fi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function LA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function z_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jn(e.nextSibling),e===null))return null;return e}function zd(e){return e.data==="$?"||e.data==="$~"}function Bd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function PA(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var qd=null;function B_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return jn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function q_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function H_(e,n,a){switch(n=Dc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function bl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ma(e)}var zn=new Map,F_=new Set;function Oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var es=it.d;it.d={f:jA,r:zA,D:BA,C:qA,L:HA,m:FA,X:QA,S:GA,M:KA};function jA(){var e=es.f(),n=Sc();return e||n}function zA(e){var n=xn(e);n!==null&&n.tag===5&&n.type==="form"?oy(n):es.r(e)}var Xa=typeof document>"u"?null:document;function G_(e,n,a){var o=Xa;if(o&&typeof n=="string"&&n){var h=un(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),F_.has(h)||(F_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ke(n,"link",e),we(n),o.head.appendChild(n)))}}function BA(e){es.D(e),G_("dns-prefetch",e,null)}function qA(e,n){es.C(e,n),G_("preconnect",e,n)}function HA(e,n,a){es.L(e,n,a);var o=Xa;if(o&&e&&n){var h='link[rel="preload"][as="'+un(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+un(a.imageSizes)+'"]')):h+='[href="'+un(e)+'"]';var f=h;switch(n){case"style":f=$a(e);break;case"script":f=Za(e)}zn.has(f)||(e=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),zn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(wl(f))||n==="script"&&o.querySelector(Rl(f))||(n=o.createElement("link"),Ke(n,"link",e),we(n),o.head.appendChild(n)))}}function FA(e,n){es.m(e,n);var a=Xa;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+un(o)+'"][href="'+un(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Za(e)}if(!zn.has(f)&&(e=b({rel:"modulepreload",href:e},n),zn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(f)))return}o=a.createElement("link"),Ke(o,"link",e),we(o),a.head.appendChild(o)}}}function GA(e,n,a){es.S(e,n,a);var o=Xa;if(o&&e){var h=mi(o).hoistableStyles,f=$a(e);n=n||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(wl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},a),(a=zn.get(f))&&Hd(e,a);var x=_=o.createElement("link");we(x),Ke(x,"link",e),x._p=new Promise(function(j,Y){x.onload=j,x.onerror=Y}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Mc(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function QA(e,n){es.X(e,n);var a=Xa;if(a&&e){var o=mi(a).hoistableScripts,h=Za(e),f=o.get(h);f||(f=a.querySelector(Rl(h)),f||(e=b({src:e,async:!0},n),(n=zn.get(h))&&Fd(e,n),f=a.createElement("script"),we(f),Ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function KA(e,n){es.M(e,n);var a=Xa;if(a&&e){var o=mi(a).hoistableScripts,h=Za(e),f=o.get(h);f||(f=a.querySelector(Rl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=zn.get(h))&&Fd(e,n),f=a.createElement("script"),we(f),Ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Q_(e,n,a,o){var h=(h=Rt.current)?Oc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=$a(a.href),a=mi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=$a(a.href);var f=mi(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(wl(e)))&&!f._p&&(_.instance=f,_.state.loading=5),zn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(e,a),f||YA(h,e,a,_.state))),n&&o===null)throw Error(r(528,""));return _}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Za(a),a=mi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function $a(e){return'href="'+un(e)+'"'}function wl(e){return'link[rel="stylesheet"]['+e+"]"}function K_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function YA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ke(n,"link",a),we(n),e.head.appendChild(n))}function Za(e){return'[src="'+un(e)+'"]'}function Rl(e){return"script[async]"+e}function Y_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+un(a.href)+'"]');if(o)return n.instance=o,we(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),we(o),Ke(o,"style",h),Mc(o,a.precedence,e),n.instance=o;case"stylesheet":h=$a(a.href);var f=e.querySelector(wl(h));if(f)return n.state.loading|=4,n.instance=f,we(f),f;o=K_(a),(h=zn.get(h))&&Hd(o,h),f=(e.ownerDocument||e).createElement("link"),we(f);var _=f;return _._p=new Promise(function(E,x){_.onload=E,_.onerror=x}),Ke(f,"link",o),n.state.loading|=4,Mc(f,a.precedence,e),n.instance=f;case"script":return f=Za(a.src),(h=e.querySelector(Rl(f)))?(n.instance=h,we(h),h):(o=a,(h=zn.get(f))&&(o=b({},a),Fd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),we(h),Ke(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Mc(o,a.precedence,e));return n.instance}function Mc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Fd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Vc=null;function X_(e,n,a){if(Vc===null){var o=new Map,h=Vc=new Map;h.set(a,o)}else h=Vc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[fi]||f[be]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function $_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function XA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Z_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $A(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=$a(o.href),f=n.querySelector(wl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=kc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,we(f);return}f=n.ownerDocument||n,o=K_(o),(h=zn.get(h))&&Hd(o,h),f=f.createElement("link"),we(f);var _=f;_._p=new Promise(function(E,x){_.onload=E,_.onerror=x}),Ke(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=kc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Gd=0;function ZA(e,n){return e.stylesheets&&e.count===0&&Lc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Lc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Gd===0&&(Gd=62500*DA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Lc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Gd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Uc=null;function Lc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Uc=new Map,n.forEach(JA,e),Uc=null,kc.call(e))}function JA(e,n){if(!(n.state.loading&4)){var a=Uc.get(e);if(a)var o=a.get(null);else{a=new Map,Uc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=kc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Il={$$typeof:at,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function WA(e,n,a,o,h,f,_,E,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function J_(e,n,a,o,h,f,_,E,x,j,Y,Z){return e=new WA(e,n,a,_,x,j,Y,Z,E),n=1,f===!0&&(n|=24),f=Tn(3,null,null,n),e.current=f,f.stateNode=e,n=bf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},Cf(f),e}function W_(e){return e?(e=Ca,e):Ca}function tv(e,n,a,o,h,f){h=W_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ds(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Os(e,o,n),a!==null&&(pn(a,e,n),rl(a,e,n))}function ev(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Qd(e,n){ev(e,n),(e=e.alternate)&&ev(e,n)}function nv(e){if(e.tag===13||e.tag===31){var n=Ur(e,67108864);n!==null&&pn(n,e,67108864),Qd(e,67108864)}}function iv(e){if(e.tag===13||e.tag===31){var n=Rn();n=br(n);var a=Ur(e,n);a!==null&&pn(a,e,n),Qd(e,n)}}var Pc=!0;function tS(e,n,a,o){var h=K.T;K.T=null;var f=it.p;try{it.p=2,Kd(e,n,a,o)}finally{it.p=f,K.T=h}}function eS(e,n,a,o){var h=K.T;K.T=null;var f=it.p;try{it.p=8,Kd(e,n,a,o)}finally{it.p=f,K.T=h}}function Kd(e,n,a,o){if(Pc){var h=Yd(o);if(h===null)Md(e,n,o,jc,a),rv(e,o);else if(iS(h,e,n,a,o))o.stopPropagation();else if(rv(e,o),n&4&&-1<nS.indexOf(e)){for(;h!==null;){var f=xn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=li(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var x=1<<31-pe(_);E.entanglements[1]|=x,_&=~x}Ii(f),(Ft&6)===0&&(Tc=nn()+500,Tl(0))}}break;case 31:case 13:E=Ur(f,2),E!==null&&pn(E,f,2),Sc(),Qd(f,2)}if(f=Yd(o),f===null&&Md(e,n,o,jc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Md(e,n,o,null,a)}}function Yd(e){return e=Nn(e),Xd(e)}var jc=null;function Xd(e){if(jc=null,e=di(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return jc=e,null}function sv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case No:return 2;case Do:return 8;case gs:case tf:return 32;case yu:return 268435456;default:return 32}default:return 32}}var $d=!1,Hs=null,Fs=null,Gs=null,Cl=new Map,xl=new Map,Qs=[],nS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rv(e,n){switch(e){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":Cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(n.pointerId)}}function Nl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=xn(n),n!==null&&nv(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function iS(e,n,a,o,h){switch(n){case"focusin":return Hs=Nl(Hs,e,n,a,o,h),!0;case"dragenter":return Fs=Nl(Fs,e,n,a,o,h),!0;case"mouseover":return Gs=Nl(Gs,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Cl.set(f,Nl(Cl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,xl.set(f,Nl(xl.get(f)||null,e,n,a,o,h)),!0}return!1}function av(e){var n=di(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Qn(e.priority,function(){iv(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Qn(e.priority,function(){iv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Yd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ho=o,a.target.dispatchEvent(o),Ho=null}else return n=xn(a),n!==null&&nv(n),e.blockedOn=a,!1;n.shift()}return!0}function ov(e,n,a){zc(e)&&a.delete(n)}function sS(){$d=!1,Hs!==null&&zc(Hs)&&(Hs=null),Fs!==null&&zc(Fs)&&(Fs=null),Gs!==null&&zc(Gs)&&(Gs=null),Cl.forEach(ov),xl.forEach(ov)}function Bc(e,n){e.blockedOn===n&&(e.blockedOn=null,$d||($d=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,sS)))}var qc=null;function lv(e){qc!==e&&(qc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){qc===e&&(qc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Xd(o||a)===null)continue;break}var f=xn(a);f!==null&&(e.splice(n,3),n-=3,Yf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ja(e){function n(x){return Bc(x,e)}Hs!==null&&Bc(Hs,e),Fs!==null&&Bc(Fs,e),Gs!==null&&Bc(Gs,e),Cl.forEach(n),xl.forEach(n);for(var a=0;a<Qs.length;a++){var o=Qs[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Qs.length&&(a=Qs[0],a.blockedOn===null);)av(a),a.blockedOn===null&&Qs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Pe]||null;if(typeof f=="function")_||lv(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Pe]||null)E=_.formAction;else if(Xd(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),lv(a)}}}function uv(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Zd(e){this._internalRoot=e}Hc.prototype.render=Zd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Rn();tv(a,o,e,n,null,null)},Hc.prototype.unmount=Zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;tv(e.current,2,null,e,null,null),Sc(),n[hi]=null}};function Hc(e){this._internalRoot=e}Hc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Su();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Qs.length&&n!==0&&n<Qs[a].priority;a++);Qs.splice(a,0,e),a===0&&av(e)}};var cv=t.version;if(cv!=="19.2.0")throw Error(r(527,cv,"19.2.0"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var rS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{Fn=Fc.inject(rS),qe=Fc}catch{}}return Ol.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=yy,f=_y,_=vy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=J_(e,1,!1,null,null,a,o,null,h,f,_,uv),e[hi]=n.current,Od(e),new Zd(n)},Ol.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=yy,_=_y,E=vy,x=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),n=J_(e,1,!0,n,a??null,o,h,x,f,_,E,uv),n.context=W_(null),a=n.current,o=Rn(),o=br(o),h=Ds(o),h.callback=null,Os(a,h,o),a=o,n.current.lanes=a,Ar(n,a),Ii(n),e[hi]=n.current,Od(e),new Hc(n)},Ol.version="19.2.0",Ol}var Ev;function gS(){if(Ev)return tm.exports;Ev=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),tm.exports=pS(),tm.exports}var yS=gS();const _S=W0(yS),vS=()=>{};var Tv={};const tE=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},ES=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];t[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],d=s[i++],p=s[i++],g=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},eE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,T=u>>2,b=(u&3)<<4|p>>4;let C=(p&15)<<2|y>>6,B=y&63;g||(B=64,d||(C=64)),r.push(i[T],i[b],i[C],i[B])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(tE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):ES(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||p==null||y==null||b==null)throw new TS;const C=u<<2|p>>4;if(r.push(C),y!==64){const B=p<<4&240|y>>2;if(r.push(B),b!==64){const H=y<<6&192|b;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class TS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AS=function(s){const t=tE(s);return eE.encodeByteArray(t,!0)},uh=function(s){return AS(s).replace(/\./g,"")},nE=function(s){try{return eE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function SS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bS=()=>SS().__FIREBASE_DEFAULTS__,wS=()=>{if(typeof process>"u"||typeof Tv>"u")return;const s=Tv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},RS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&nE(s[1]);return t&&JSON.parse(t)},xh=()=>{try{return vS()||bS()||wS()||RS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},iE=s=>xh()?.emulatorHosts?.[s],IS=s=>{const t=iE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},sE=()=>xh()?.config,rE=s=>xh()?.[`_${s}`];class CS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function _o(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aE(s){return(await fetch(s,{credentials:"include"})).ok}function xS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[uh(JSON.stringify(i)),uh(JSON.stringify(d)),""].join(".")}const jl={};function NS(){const s={prod:[],emulator:[]};for(const t of Object.keys(jl))jl[t]?s.emulator.push(t):s.prod.push(t);return s}function DS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let Av=!1;function oE(s,t){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||jl[s]===t||jl[s]||Av)return;jl[s]=t;function i(C){return`__firebase__banner__${C}`}const r="__firebase__banner",u=NS().prod.length>0;function d(){const C=document.getElementById(r);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function g(C,B){C.setAttribute("width","24"),C.setAttribute("id",B),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Av=!0,d()},C}function T(C,B){C.setAttribute("id",B),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function b(){const C=DS(r),B=i("text"),H=document.getElementById(B)||document.createElement("span"),G=i("learnmore"),Q=document.getElementById(G)||document.createElement("a"),et=i("preprendIcon"),tt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const at=C.element;p(at),T(Q,G);const pt=y();g(tt,et),at.append(tt,H,Q,pt),document.body.appendChild(at)}u?(H.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function MS(){const s=xh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function US(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LS(){const s=en();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function PS(){return!MS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jS(){try{return typeof indexedDB=="object"}catch{return!1}}function zS(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const BS="FirebaseError";class ms extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=BS,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?qS(u,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ms(l,p,r)}}function qS(s,t){return s.replace(HS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const HS=/\{\$([^}]+)}/g;function FS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function os(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const u=s[l],d=t[l];if(Sv(u)&&Sv(d)){if(!os(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function Sv(s){return s!==null&&typeof s=="object"}function nu(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ml(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function Vl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function GS(s,t){const i=new QS(s,t);return i.subscribe.bind(i)}class QS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");KS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=sm),l.error===void 0&&(l.error=sm),l.complete===void 0&&(l.complete=sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function sm(){}function Te(s){return s&&s._delegate?s._delegate:s}class Wr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Xr="[DEFAULT]";class YS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new CS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($S(t))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(t=Xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xr){return this.instances.has(t)}getOptions(t=Xr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&t(u,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Xr){return this.component?this.component.multipleInstances?t:Xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XS(s){return s===Xr?void 0:s}function $S(s){return s.instantiationMode==="EAGER"}class ZS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new YS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const JS={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},WS=Mt.INFO,tb={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},eb=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=tb[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qm{constructor(t){this.name=t,this._logLevel=WS,this._logHandler=eb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?JS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const nb=(s,t)=>t.some(i=>s instanceof i);let bv,wv;function ib(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sb(){return wv||(wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lE=new WeakMap,ym=new WeakMap,uE=new WeakMap,rm=new WeakMap,Km=new WeakMap;function rb(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(er(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&lE.set(i,s)}).catch(()=>{}),Km.set(t,s),t}function ab(s){if(ym.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});ym.set(s,t)}let _m={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return ym.get(s);if(t==="objectStoreNames")return s.objectStoreNames||uE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return er(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function ob(s){_m=s(_m)}function lb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(am(this),t,...i);return uE.set(r,t.sort?t.sort():[t]),er(r)}:sb().includes(s)?function(...t){return s.apply(am(this),t),er(lE.get(this))}:function(...t){return er(s.apply(am(this),t))}}function ub(s){return typeof s=="function"?lb(s):(s instanceof IDBTransaction&&ab(s),nb(s,ib())?new Proxy(s,_m):s)}function er(s){if(s instanceof IDBRequest)return rb(s);if(rm.has(s))return rm.get(s);const t=ub(s);return t!==s&&(rm.set(s,t),Km.set(t,s)),t}const am=s=>Km.get(s);function cb(s,t,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,t),p=er(d);return r&&d.addEventListener("upgradeneeded",g=>{r(er(d.result),g.oldVersion,g.newVersion,er(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const hb=["get","getKey","getAll","getAllKeys","count"],fb=["put","add","delete","clear"],om=new Map;function Rv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(om.get(t))return om.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=fb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||hb.includes(i)))return;const u=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&g.done]))[0]};return om.set(t,u),u}ob(s=>({...s,get:(t,i,r)=>Rv(t,i)||s.get(t,i,r),has:(t,i)=>!!Rv(t,i)||s.has(t,i)}));class db{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(mb(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function mb(s){return s.getComponent()?.type==="VERSION"}const vm="@firebase/app",Iv="0.14.6";const ls=new Qm("@firebase/app"),pb="@firebase/app-compat",gb="@firebase/analytics-compat",yb="@firebase/analytics",_b="@firebase/app-check-compat",vb="@firebase/app-check",Eb="@firebase/auth",Tb="@firebase/auth-compat",Ab="@firebase/database",Sb="@firebase/data-connect",bb="@firebase/database-compat",wb="@firebase/functions",Rb="@firebase/functions-compat",Ib="@firebase/installations",Cb="@firebase/installations-compat",xb="@firebase/messaging",Nb="@firebase/messaging-compat",Db="@firebase/performance",Ob="@firebase/performance-compat",Mb="@firebase/remote-config",Vb="@firebase/remote-config-compat",kb="@firebase/storage",Ub="@firebase/storage-compat",Lb="@firebase/firestore",Pb="@firebase/ai",jb="@firebase/firestore-compat",zb="firebase",Bb="12.6.0";const Em="[DEFAULT]",qb={[vm]:"fire-core",[pb]:"fire-core-compat",[yb]:"fire-analytics",[gb]:"fire-analytics-compat",[vb]:"fire-app-check",[_b]:"fire-app-check-compat",[Eb]:"fire-auth",[Tb]:"fire-auth-compat",[Ab]:"fire-rtdb",[Sb]:"fire-data-connect",[bb]:"fire-rtdb-compat",[wb]:"fire-fn",[Rb]:"fire-fn-compat",[Ib]:"fire-iid",[Cb]:"fire-iid-compat",[xb]:"fire-fcm",[Nb]:"fire-fcm-compat",[Db]:"fire-perf",[Ob]:"fire-perf-compat",[Mb]:"fire-rc",[Vb]:"fire-rc-compat",[kb]:"fire-gcs",[Ub]:"fire-gcs-compat",[Lb]:"fire-fst",[jb]:"fire-fst-compat",[Pb]:"fire-vertex","fire-js":"fire-js",[zb]:"fire-js-all"};const ch=new Map,Hb=new Map,Tm=new Map;function Cv(s,t){try{s.container.addComponent(t)}catch(i){ls.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function lo(s){const t=s.name;if(Tm.has(t))return ls.debug(`There were multiple attempts to register component ${t}.`),!1;Tm.set(t,s);for(const i of ch.values())Cv(i,s);for(const i of Hb.values())Cv(i,s);return!0}function Ym(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Bn(s){return s==null?!1:s.settings!==void 0}const Fb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nr=new eu("app","Firebase",Fb);class Gb{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const vo=Bb;function cE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:Em,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw nr.create("bad-app-name",{appName:String(l)});if(i||(i=sE()),!i)throw nr.create("no-options");const u=ch.get(l);if(u){if(os(i,u.options)&&os(r,u.config))return u;throw nr.create("duplicate-app",{appName:l})}const d=new ZS(l);for(const g of Tm.values())d.addComponent(g);const p=new Gb(i,r,d);return ch.set(l,p),p}function hE(s=Em){const t=ch.get(s);if(!t&&s===Em&&sE())return cE();if(!t)throw nr.create("no-app",{appName:s});return t}function ir(s,t,i){let r=qb[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ls.warn(d.join(" "));return}lo(new Wr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Qb="firebase-heartbeat-database",Kb=1,Gl="firebase-heartbeat-store";let lm=null;function fE(){return lm||(lm=cb(Qb,Kb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Gl)}catch(i){console.warn(i)}}}}).catch(s=>{throw nr.create("idb-open",{originalErrorMessage:s.message})})),lm}async function Yb(s){try{const i=(await fE()).transaction(Gl),r=await i.objectStore(Gl).get(dE(s));return await i.done,r}catch(t){if(t instanceof ms)ls.warn(t.message);else{const i=nr.create("idb-get",{originalErrorMessage:t?.message});ls.warn(i.message)}}}async function xv(s,t){try{const r=(await fE()).transaction(Gl,"readwrite");await r.objectStore(Gl).put(t,dE(s)),await r.done}catch(i){if(i instanceof ms)ls.warn(i.message);else{const r=nr.create("idb-set",{originalErrorMessage:i?.message});ls.warn(r.message)}}}function dE(s){return`${s.name}!${s.options.appId}`}const Xb=1024,$b=30;class Zb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Wb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Nv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>$b){const l=tw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ls.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Nv(),{heartbeatsToSend:i,unsentEntries:r}=Jb(this._heartbeatsCache.heartbeats),l=uh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ls.warn(t),""}}}function Nv(){return new Date().toISOString().substring(0,10)}function Jb(s,t=Xb){const i=[];let r=s.slice();for(const l of s){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),Dv(i)>t){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Dv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Wb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jS()?zS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Yb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return xv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return xv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Dv(s){return uh(JSON.stringify({version:2,heartbeats:s})).length}function tw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function ew(s){lo(new Wr("platform-logger",t=>new db(t),"PRIVATE")),lo(new Wr("heartbeat",t=>new Zb(t),"PRIVATE")),ir(vm,Iv,s),ir(vm,Iv,"esm2020"),ir("fire-js","")}ew("");var nw="firebase",iw="12.6.0";ir(nw,iw,"app");function mE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sw=mE,pE=new eu("auth","Firebase",mE());const hh=new Qm("@firebase/auth");function rw(s,...t){hh.logLevel<=Mt.WARN&&hh.warn(`Auth (${vo}): ${s}`,...t)}function Wc(s,...t){hh.logLevel<=Mt.ERROR&&hh.error(`Auth (${vo}): ${s}`,...t)}function si(s,...t){throw Xm(s,...t)}function xi(s,...t){return Xm(s,...t)}function gE(s,t,i){const r={...sw(),[t]:i};return new eu("auth","Firebase",r).create(t,{appName:s.name})}function ss(s){return gE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return pE.create(s,...t)}function yt(s,t,...i){if(!s)throw Xm(t,...i)}function ns(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Wc(t),new Error(t)}function us(s,t){s||ns(t)}function Am(){return typeof self<"u"&&self.location?.href||""}function aw(){return Ov()==="http:"||Ov()==="https:"}function Ov(){return typeof self<"u"&&self.location?.protocol||null}function ow(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aw()||kS()||"connection"in navigator)?navigator.onLine:!0}function lw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class iu{constructor(t,i){this.shortDelay=t,this.longDelay=i,us(i>t,"Short delay should be less than long delay!"),this.isMobile=OS()||US()}get(){return ow()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $m(s,t){us(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class yE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const cw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hw=new iu(3e4,6e4);function dr(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function mr(s,t,i,r,l={}){return _E(s,l,async()=>{let u={},d={};r&&(t==="GET"?d=r:u={body:JSON.stringify(r)});const p=nu({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:g,...u};return VS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&_o(s.emulatorConfig.host)&&(y.credentials="include"),yE.fetch()(await vE(s,s.config.apiHost,i,p),y)})}async function _E(s,t,i){s._canInitEmulator=!1;const r={...uw,...t};try{const l=new dw(s),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Gc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Gc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Gc(s,"user-disabled",d);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw gE(s,T,y);si(s,T)}}catch(l){if(l instanceof ms)throw l;si(s,"network-request-failed",{message:String(l)})}}async function su(s,t,i,r,l={}){const u=await mr(s,t,i,r,l);return"mfaPendingCredential"in u&&si(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function vE(s,t,i,r){const l=`${t}${i}?${r}`,u=s,d=u.config.emulator?$m(s.config,l):`${s.config.apiScheme}://${l}`;return cw.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function fw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),hw.get())})}}function Gc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=xi(s,t,r);return l.customData._tokenResponse=i,l}function Mv(s){return s!==void 0&&s.enterprise!==void 0}class mw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return fw(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pw(s,t){return mr(s,"GET","/v2/recaptchaConfig",dr(s,t))}async function gw(s,t){return mr(s,"POST","/v1/accounts:delete",t)}async function fh(s,t){return mr(s,"POST","/v1/accounts:lookup",t)}function zl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yw(s,t=!1){const i=Te(s),r=await i.getIdToken(t),l=Zm(r);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:zl(um(l.auth_time)),issuedAtTime:zl(um(l.iat)),expirationTime:zl(um(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function um(s){return Number(s)*1e3}function Zm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const l=nE(i);return l?JSON.parse(l):(Wc("Failed to decode base64 JWT payload"),null)}catch(l){return Wc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Vv(s){const t=Zm(s);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ql(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof ms&&_w(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function _w({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class vw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function dh(s){const t=s.auth,i=await s.getIdToken(),r=await Ql(s,fh(t,{idToken:i}));yt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?EE(l.providerUserInfo):[],d=Tw(s.providerData,u),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,y=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function Ew(s){const t=Te(s);await dh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Tw(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function EE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Aw(s,t){const i=await _E(s,{},async()=>{const r=nu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await vE(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&_o(s.emulatorConfig.host)&&(g.credentials="include"),yE.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Sw(s,t){return mr(s,"POST","/v2/accounts:revokeToken",dr(s,t))}class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Vv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=Vv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await Aw(t,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,d=new so;return r&&(yt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(yt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return ns("not implemented")}}function Ys(s,t){yt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ii{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new vw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ql(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return yw(this,t)}reload(){return Ew(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ii({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(ss(this.auth));const t=await this.getIdToken();return await Ql(this,gw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,g=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:b,emailVerified:C,isAnonymous:B,providerData:H,stsTokenManager:G}=i;yt(b&&G,t,"internal-error");const Q=so.fromJSON(this.name,G);yt(typeof b=="string",t,"internal-error"),Ys(r,t.name),Ys(l,t.name),yt(typeof C=="boolean",t,"internal-error"),yt(typeof B=="boolean",t,"internal-error"),Ys(u,t.name),Ys(d,t.name),Ys(p,t.name),Ys(g,t.name),Ys(y,t.name),Ys(T,t.name);const et=new ii({uid:b,auth:t,email:l,emailVerified:C,displayName:r,isAnonymous:B,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:Q,createdAt:y,lastLoginAt:T});return H&&Array.isArray(H)&&(et.providerData=H.map(tt=>({...tt}))),g&&(et._redirectEventId=g),et}static async _fromIdTokenResponse(t,i,r=!1){const l=new so;l.updateFromServerResponse(i);const u=new ii({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await dh(u),u}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?EE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new so;p.updateFromIdToken(r);const g=new ii({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const kv=new Map;function is(s){us(s instanceof Function,"Expected a class definition");let t=kv.get(s);return t?(us(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,kv.set(s,t),t)}class TE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}TE.type="NONE";const Uv=TE;function th(s,t,i){return`firebase:${s}:${t}:${i}`}class ro{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=th(this.userKey,l.apiKey,u),this.fullPersistenceKey=th("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await fh(this.auth,{idToken:t}).catch(()=>{});return i?ii._fromGetAccountInfoResponse(this.auth,i,t):null}return ii._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new ro(is(Uv),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||is(Uv);const d=th(r,t.config.apiKey,t.name);let p=null;for(const y of i)try{const T=await y._get(d);if(T){let b;if(typeof T=="string"){const C=await fh(t,{idToken:T}).catch(()=>{});if(!C)break;b=await ii._fromGetAccountInfoResponse(t,C,T)}else b=ii._fromJSON(t,T);y!==u&&(p=b),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new ro(u,t,r):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new ro(u,t,r))}}function Lv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(AE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(IE(t))return"Blackberry";if(CE(t))return"Webos";if(SE(t))return"Safari";if((t.includes("chrome/")||bE(t))&&!t.includes("edge/"))return"Chrome";if(RE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function AE(s=en()){return/firefox\//i.test(s)}function SE(s=en()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bE(s=en()){return/crios\//i.test(s)}function wE(s=en()){return/iemobile/i.test(s)}function RE(s=en()){return/android/i.test(s)}function IE(s=en()){return/blackberry/i.test(s)}function CE(s=en()){return/webos/i.test(s)}function Jm(s=en()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function bw(s=en()){return Jm(s)&&!!window.navigator?.standalone}function ww(){return LS()&&document.documentMode===10}function xE(s=en()){return Jm(s)||RE(s)||CE(s)||IE(s)||/windows phone/i.test(s)||wE(s)}function NE(s,t=[]){let i;switch(s){case"Browser":i=Lv(en());break;case"Worker":i=`${Lv(en())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${vo}/${r}`}class Rw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=u=>new Promise((d,p)=>{try{const g=t(u);d(g)}catch(g){p(g)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Iw(s,t={}){return mr(s,"GET","/v2/passwordPolicy",dr(s,t))}const Cw=6;class xw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Cw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class Nw{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pv(this),this.idTokenSubscription=new Pv(this),this.beforeStateQueue=new Rw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=is(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ro.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await fh(this,{idToken:t}),r=await ii._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await dh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bn(this.app))return Promise.reject(ss(this));const i=t?Te(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bn(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Iw(this),i=new xw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new eu("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Sw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&is(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await ro.create(this,[is(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,r,l);return()=>{d=!0,g()}}else{const g=t.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=NE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&rw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ra(s){return Te(s)}class Pv{constructor(t){this.auth=t,this.observer=null,this.addObserver=GS(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dw(s){Nh=s}function DE(s){return Nh.loadJS(s)}function Ow(){return Nh.recaptchaEnterpriseScript}function Mw(){return Nh.gapiScript}function Vw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class kw{constructor(){this.enterprise=new Uw}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class Uw{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const Lw="recaptcha-enterprise",OE="NO_RECAPTCHA";class Pw{constructor(t){this.type=Lw,this.auth=ra(t)}async verify(t="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{pw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new mw(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function l(u,d,p){const g=window.grecaptcha;Mv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(y=>{d(y)}).catch(()=>{d(OE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kw().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(p=>{if(!i&&Mv(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Ow();g.length!==0&&(g+=p),DE(g).then(()=>{l(p,u,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function jv(s,t,i,r=!1,l=!1){const u=new Pw(s);let d;if(l)d=OE;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function bm(s,t,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await jv(s,t,i,i==="getOobCode");return r(s,u)}else return r(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await jv(s,t,i,i==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function jw(s,t){const i=Ym(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(os(u,t??{}))return l;si(l,"already-initialized")}return i.initialize({options:t})}function zw(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(is);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function Bw(s,t,i){const r=ra(s);yt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,u=ME(t),{host:d,port:p}=qw(t),g=p===null?"":`:${p}`,y={url:`${u}//${d}${g}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){yt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),yt(os(y,r.config.emulator)&&os(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,_o(d)?(aE(`${u}//${d}${g}`),oE("Auth",!0)):Hw()}function ME(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function qw(s){const t=ME(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:zv(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:zv(d)}}}function zv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Hw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Wm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ns("not implemented")}_getIdTokenResponse(t){return ns("not implemented")}_linkToIdToken(t,i){return ns("not implemented")}_getReauthenticationResolver(t){return ns("not implemented")}}async function Fw(s,t){return mr(s,"POST","/v1/accounts:signUp",t)}async function Gw(s,t){return su(s,"POST","/v1/accounts:signInWithPassword",dr(s,t))}async function Qw(s,t){return su(s,"POST","/v1/accounts:signInWithEmailLink",dr(s,t))}async function Kw(s,t){return su(s,"POST","/v1/accounts:signInWithEmailLink",dr(s,t))}class Kl extends Wm{constructor(t,i,r,l=null){super("password",r),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Kl(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new Kl(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(t,i,"signInWithPassword",Gw);case"emailLink":return Qw(t,{email:this._email,oobCode:this._password});default:si(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(t,r,"signUpPassword",Fw);case"emailLink":return Kw(t,{idToken:i,email:this._email,oobCode:this._password});default:si(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function ao(s,t){return su(s,"POST","/v1/accounts:signInWithIdp",dr(s,t))}const Yw="http://localhost";class ta extends Wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):si("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...u}=i;if(!r||!l)return null;const d=new ta(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ao(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,ao(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ao(t,i)}buildRequest(){const t={requestUri:Yw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=nu(i)}return t}}function Xw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $w(s){const t=Ml(Vl(s)).link,i=t?Ml(Vl(t)).deep_link_id:null,r=Ml(Vl(s)).deep_link_id;return(r?Ml(Vl(r)).link:null)||r||i||t||s}class tp{constructor(t){const i=Ml(Vl(t)),r=i.apiKey??null,l=i.oobCode??null,u=Xw(i.mode??null);yt(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=$w(t);try{return new tp(i)}catch{return null}}}class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(t,i){return Kl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=tp.parseLink(i);return yt(r,"argument-error"),Kl._fromEmailAndCode(t,r.code,r.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class VE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ru extends VE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Xs extends ru{constructor(){super("facebook.com")}static credential(t){return ta._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xs.PROVIDER_ID="facebook.com";class $s extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ta._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return $s.credential(i,r)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";class Zs extends ru{constructor(){super("github.com")}static credential(t){return ta._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";class Js extends ru{constructor(){super("twitter.com")}static credential(t,i){return ta._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Js.credential(i,r)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";async function Zw(s,t){return su(s,"POST","/v1/accounts:signUp",dr(s,t))}class ea{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const u=await ii._fromIdTokenResponse(t,r,l),d=Bv(r);return new ea({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Bv(r);return new ea({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Bv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class mh extends ms{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new mh(t,i,r,l)}}function kE(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(s,u,t,r):u})}async function Jw(s,t,i=!1){const r=await Ql(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ea._forOperation(s,"link",r)}async function Ww(s,t,i=!1){const{auth:r}=s;if(Bn(r.app))return Promise.reject(ss(r));const l="reauthenticate";try{const u=await Ql(s,kE(r,l,t,s),i);yt(u.idToken,r,"internal-error");const d=Zm(u.idToken);yt(d,r,"internal-error");const{sub:p}=d;return yt(s.uid===p,r,"user-mismatch"),ea._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&si(r,"user-mismatch"),u}}async function UE(s,t,i=!1){if(Bn(s.app))return Promise.reject(ss(s));const r="signIn",l=await kE(s,r,t),u=await ea._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(u.user),u}async function t2(s,t){return UE(ra(s),t)}async function LE(s){const t=ra(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function e2(s,t,i){if(Bn(s.app))return Promise.reject(ss(s));const r=ra(s),d=await bm(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zw).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&LE(s),g}),p=await ea._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function n2(s,t,i){return Bn(s.app)?Promise.reject(ss(s)):t2(Te(s),Eo.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&LE(s),r})}function i2(s,t,i,r){return Te(s).onIdTokenChanged(t,i,r)}function s2(s,t,i){return Te(s).beforeAuthStateChanged(t,i)}function r2(s,t,i,r){return Te(s).onAuthStateChanged(t,i,r)}function a2(s){return Te(s).signOut()}const ph="__sak";class PE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const o2=1e3,l2=10;class jE extends PE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);ww()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,l2):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},o2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}jE.type="LOCAL";const u2=jE;class zE extends PE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}zE.type="SESSION";const BE=zE;function c2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Dh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,u)),g=await c2(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];function ep(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class h2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const y=ep("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const C=b;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(C.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function f2(s){Ni().location.href=s}function qE(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function d2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function m2(){return navigator?.serviceWorker?.controller||null}function p2(){return qE()?self:null}const HE="firebaseLocalStorageDb",g2=1,gh="firebaseLocalStorage",FE="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Oh(s,t){return s.transaction([gh],t?"readwrite":"readonly").objectStore(gh)}function y2(){const s=indexedDB.deleteDatabase(HE);return new au(s).toPromise()}function wm(){const s=indexedDB.open(HE,g2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(gh,{keyPath:FE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(gh)?t(r):(r.close(),await y2(),t(await wm()))})})}async function qv(s,t,i){const r=Oh(s,!0).put({[FE]:t,value:i});return new au(r).toPromise()}async function _2(s,t){const i=Oh(s,!1).get(t),r=await new au(i).toPromise();return r===void 0?null:r.value}function Hv(s,t){const i=Oh(s,!0).delete(t);return new au(i).toPromise()}const v2=800,E2=3;class GE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>E2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(p2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await d2(),!this.activeServiceWorker)return;this.sender=new h2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||m2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wm();return await qv(t,ph,"1"),await Hv(t,ph),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>qv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>_2(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Hv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=Oh(l,!1).getAll();return new au(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GE.type="LOCAL";const T2=GE;new iu(3e4,6e4);function A2(s,t){return t?is(t):(yt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class np extends Wm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ao(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ao(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ao(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function S2(s){return UE(s.auth,new np(s),s.bypassAuthState)}function b2(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),Ww(i,new np(s),s.bypassAuthState)}async function w2(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),Jw(i,new np(s),s.bypassAuthState)}class QE{constructor(t,i,r,l,u=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:d,type:p}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return S2;case"linkViaPopup":case"linkViaRedirect":return w2;case"reauthViaPopup":case"reauthViaRedirect":return b2;default:si(this.auth,"internal-error")}}resolve(t){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const R2=new iu(2e3,1e4);class io extends QE{constructor(t,i,r,l,u){super(t,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const t=ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,R2.get())};t()}}io.currentPopupAction=null;const I2="pendingRedirect",eh=new Map;class C2 extends QE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=eh.get(this.auth._key());if(!t){try{const r=await x2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}eh.set(this.auth._key(),t)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function x2(s,t){const i=O2(t),r=D2(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function N2(s,t){eh.set(s._key(),t)}function D2(s){return is(s._redirectPersistence)}function O2(s){return th(I2,s.config.apiKey,s.name)}async function M2(s,t,i=!1){if(Bn(s.app))return Promise.reject(ss(s));const r=ra(s),l=A2(r,t),d=await new C2(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const V2=600*1e3;class k2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!U2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!KE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(xi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=V2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fv(t))}saveEventToCache(t){this.cachedEventUids.add(Fv(t)),this.lastProcessedEventTime=Date.now()}}function Fv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function KE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function U2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KE(s);default:return!1}}async function L2(s,t={}){return mr(s,"GET","/v1/projects",t)}const P2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j2=/^https?/;async function z2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await L2(s);for(const i of t)try{if(B2(i))return}catch{}si(s,"unauthorized-domain")}function B2(s){const t=Am(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!j2.test(i))return!1;if(P2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const q2=new iu(3e4,6e4);function Gv(){const s=Ni().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function H2(s){return new Promise((t,i)=>{function r(){Gv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Gv(),i(xi(s,"network-request-failed"))},timeout:q2.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)r();else{const l=Vw("iframefcb");return Ni()[l]=()=>{gapi.load?r():i(xi(s,"network-request-failed"))},DE(`${Mw()}?onload=${l}`).catch(u=>i(u))}}).catch(t=>{throw nh=null,t})}let nh=null;function F2(s){return nh=nh||H2(s),nh}const G2=new iu(5e3,15e3),Q2="__/auth/iframe",K2="emulator/auth/iframe",Y2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $2(s){const t=s.config;yt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?$m(t,K2):`https://${s.config.authDomain}/${Q2}`,r={apiKey:t.apiKey,appName:s.name,v:vo},l=X2.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${nu(r).slice(1)}`}async function Z2(s){const t=await F2(s),i=Ni().gapi;return yt(i,s,"internal-error"),t.open({where:document.body,url:$2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y2,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=xi(s,"network-request-failed"),p=Ni().setTimeout(()=>{u(d)},G2.get());function g(){Ni().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{u(d)})}))}const J2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W2=500,tR=600,eR="_blank",nR="http://localhost";class Qv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iR(s,t,i,r=W2,l=tR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...J2,width:r.toString(),height:l.toString(),top:u,left:d},y=en().toLowerCase();i&&(p=bE(y)?eR:i),AE(y)&&(t=t||nR,g.scrollbars="yes");const T=Object.entries(g).reduce((C,[B,H])=>`${C}${B}=${H},`,"");if(bw(y)&&p!=="_self")return sR(t||"",p),new Qv(null);const b=window.open(t||"",p,T);yt(b,s,"popup-blocked");try{b.focus()}catch{}return new Qv(b)}function sR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const rR="__/auth/handler",aR="emulator/auth/handler",oR=encodeURIComponent("fac");async function Kv(s,t,i,r,l,u){yt(s.config.authDomain,s,"auth-domain-config-required"),yt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:vo,eventId:l};if(t instanceof VE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",FS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,b]of Object.entries({}))d[T]=b}if(t instanceof ru){const T=t.getScopes().filter(b=>b!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),y=g?`#${oR}=${encodeURIComponent(g)}`:"";return`${lR(s)}?${nu(p).slice(1)}${y}`}function lR({config:s}){return s.emulator?$m(s,aR):`https://${s.authDomain}/${rR}`}const cm="webStorageSupport";class uR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BE,this._completeRedirectFn=M2,this._overrideRedirectResult=N2}async _openPopup(t,i,r,l){us(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Kv(t,i,r,Am(),l);return iR(t,u,ep())}async _openRedirect(t,i,r,l){await this._originValidation(t);const u=await Kv(t,i,r,Am(),l);return f2(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(us(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await Z2(t),r=new k2(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(cm,{type:cm},l=>{const u=l?.[0]?.[cm];u!==void 0&&i(!!u),si(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=z2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return xE()||SE()||Jm()}}const cR=uR;var Yv="@firebase/auth",Xv="1.11.1";class hR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dR(s){lo(new Wr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NE(s)},y=new Nw(r,l,u,g);return zw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),lo(new Wr("auth-internal",t=>{const i=ra(t.getProvider("auth").getImmediate());return(r=>new hR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(Yv,Xv,fR(s)),ir(Yv,Xv,"esm2020")}const mR=300,pR=rE("authIdTokenMaxAge")||mR;let $v=null;const gR=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>pR)return;const l=i?.token;$v!==l&&($v=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function yR(s=hE()){const t=Ym(s,"auth");if(t.isInitialized())return t.getImmediate();const i=jw(s,{popupRedirectResolver:cR,persistence:[T2,u2,BE]}),r=rE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=gR(u.toString());s2(i,d,()=>d(i.currentUser)),i2(i,p=>d(p))}}const l=iE("auth");return l&&Bw(i,`http://${l}`),i}function _R(){return document.getElementsByTagName("head")?.[0]??document}Dw({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const u=xi("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",_R().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dR("Browser");var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sr,YE;(function(){var s;function t(N,R){function w(){}w.prototype=R.prototype,N.F=R.prototype,N.prototype=new w,N.prototype.constructor=N,N.D=function(V,D,U){for(var I=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)I[qt-2]=arguments[qt];return R.prototype[D].apply(V,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,R,w){w||(w=0);const V=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)V[D]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(D=0;D<16;++D)V[D]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=N.g[0],w=N.g[1],D=N.g[2];let U=N.g[3],I;I=R+(U^w&(D^U))+V[0]+3614090360&4294967295,R=w+(I<<7&4294967295|I>>>25),I=U+(D^R&(w^D))+V[1]+3905402710&4294967295,U=R+(I<<12&4294967295|I>>>20),I=D+(w^U&(R^w))+V[2]+606105819&4294967295,D=U+(I<<17&4294967295|I>>>15),I=w+(R^D&(U^R))+V[3]+3250441966&4294967295,w=D+(I<<22&4294967295|I>>>10),I=R+(U^w&(D^U))+V[4]+4118548399&4294967295,R=w+(I<<7&4294967295|I>>>25),I=U+(D^R&(w^D))+V[5]+1200080426&4294967295,U=R+(I<<12&4294967295|I>>>20),I=D+(w^U&(R^w))+V[6]+2821735955&4294967295,D=U+(I<<17&4294967295|I>>>15),I=w+(R^D&(U^R))+V[7]+4249261313&4294967295,w=D+(I<<22&4294967295|I>>>10),I=R+(U^w&(D^U))+V[8]+1770035416&4294967295,R=w+(I<<7&4294967295|I>>>25),I=U+(D^R&(w^D))+V[9]+2336552879&4294967295,U=R+(I<<12&4294967295|I>>>20),I=D+(w^U&(R^w))+V[10]+4294925233&4294967295,D=U+(I<<17&4294967295|I>>>15),I=w+(R^D&(U^R))+V[11]+2304563134&4294967295,w=D+(I<<22&4294967295|I>>>10),I=R+(U^w&(D^U))+V[12]+1804603682&4294967295,R=w+(I<<7&4294967295|I>>>25),I=U+(D^R&(w^D))+V[13]+4254626195&4294967295,U=R+(I<<12&4294967295|I>>>20),I=D+(w^U&(R^w))+V[14]+2792965006&4294967295,D=U+(I<<17&4294967295|I>>>15),I=w+(R^D&(U^R))+V[15]+1236535329&4294967295,w=D+(I<<22&4294967295|I>>>10),I=R+(D^U&(w^D))+V[1]+4129170786&4294967295,R=w+(I<<5&4294967295|I>>>27),I=U+(w^D&(R^w))+V[6]+3225465664&4294967295,U=R+(I<<9&4294967295|I>>>23),I=D+(R^w&(U^R))+V[11]+643717713&4294967295,D=U+(I<<14&4294967295|I>>>18),I=w+(U^R&(D^U))+V[0]+3921069994&4294967295,w=D+(I<<20&4294967295|I>>>12),I=R+(D^U&(w^D))+V[5]+3593408605&4294967295,R=w+(I<<5&4294967295|I>>>27),I=U+(w^D&(R^w))+V[10]+38016083&4294967295,U=R+(I<<9&4294967295|I>>>23),I=D+(R^w&(U^R))+V[15]+3634488961&4294967295,D=U+(I<<14&4294967295|I>>>18),I=w+(U^R&(D^U))+V[4]+3889429448&4294967295,w=D+(I<<20&4294967295|I>>>12),I=R+(D^U&(w^D))+V[9]+568446438&4294967295,R=w+(I<<5&4294967295|I>>>27),I=U+(w^D&(R^w))+V[14]+3275163606&4294967295,U=R+(I<<9&4294967295|I>>>23),I=D+(R^w&(U^R))+V[3]+4107603335&4294967295,D=U+(I<<14&4294967295|I>>>18),I=w+(U^R&(D^U))+V[8]+1163531501&4294967295,w=D+(I<<20&4294967295|I>>>12),I=R+(D^U&(w^D))+V[13]+2850285829&4294967295,R=w+(I<<5&4294967295|I>>>27),I=U+(w^D&(R^w))+V[2]+4243563512&4294967295,U=R+(I<<9&4294967295|I>>>23),I=D+(R^w&(U^R))+V[7]+1735328473&4294967295,D=U+(I<<14&4294967295|I>>>18),I=w+(U^R&(D^U))+V[12]+2368359562&4294967295,w=D+(I<<20&4294967295|I>>>12),I=R+(w^D^U)+V[5]+4294588738&4294967295,R=w+(I<<4&4294967295|I>>>28),I=U+(R^w^D)+V[8]+2272392833&4294967295,U=R+(I<<11&4294967295|I>>>21),I=D+(U^R^w)+V[11]+1839030562&4294967295,D=U+(I<<16&4294967295|I>>>16),I=w+(D^U^R)+V[14]+4259657740&4294967295,w=D+(I<<23&4294967295|I>>>9),I=R+(w^D^U)+V[1]+2763975236&4294967295,R=w+(I<<4&4294967295|I>>>28),I=U+(R^w^D)+V[4]+1272893353&4294967295,U=R+(I<<11&4294967295|I>>>21),I=D+(U^R^w)+V[7]+4139469664&4294967295,D=U+(I<<16&4294967295|I>>>16),I=w+(D^U^R)+V[10]+3200236656&4294967295,w=D+(I<<23&4294967295|I>>>9),I=R+(w^D^U)+V[13]+681279174&4294967295,R=w+(I<<4&4294967295|I>>>28),I=U+(R^w^D)+V[0]+3936430074&4294967295,U=R+(I<<11&4294967295|I>>>21),I=D+(U^R^w)+V[3]+3572445317&4294967295,D=U+(I<<16&4294967295|I>>>16),I=w+(D^U^R)+V[6]+76029189&4294967295,w=D+(I<<23&4294967295|I>>>9),I=R+(w^D^U)+V[9]+3654602809&4294967295,R=w+(I<<4&4294967295|I>>>28),I=U+(R^w^D)+V[12]+3873151461&4294967295,U=R+(I<<11&4294967295|I>>>21),I=D+(U^R^w)+V[15]+530742520&4294967295,D=U+(I<<16&4294967295|I>>>16),I=w+(D^U^R)+V[2]+3299628645&4294967295,w=D+(I<<23&4294967295|I>>>9),I=R+(D^(w|~U))+V[0]+4096336452&4294967295,R=w+(I<<6&4294967295|I>>>26),I=U+(w^(R|~D))+V[7]+1126891415&4294967295,U=R+(I<<10&4294967295|I>>>22),I=D+(R^(U|~w))+V[14]+2878612391&4294967295,D=U+(I<<15&4294967295|I>>>17),I=w+(U^(D|~R))+V[5]+4237533241&4294967295,w=D+(I<<21&4294967295|I>>>11),I=R+(D^(w|~U))+V[12]+1700485571&4294967295,R=w+(I<<6&4294967295|I>>>26),I=U+(w^(R|~D))+V[3]+2399980690&4294967295,U=R+(I<<10&4294967295|I>>>22),I=D+(R^(U|~w))+V[10]+4293915773&4294967295,D=U+(I<<15&4294967295|I>>>17),I=w+(U^(D|~R))+V[1]+2240044497&4294967295,w=D+(I<<21&4294967295|I>>>11),I=R+(D^(w|~U))+V[8]+1873313359&4294967295,R=w+(I<<6&4294967295|I>>>26),I=U+(w^(R|~D))+V[15]+4264355552&4294967295,U=R+(I<<10&4294967295|I>>>22),I=D+(R^(U|~w))+V[6]+2734768916&4294967295,D=U+(I<<15&4294967295|I>>>17),I=w+(U^(D|~R))+V[13]+1309151649&4294967295,w=D+(I<<21&4294967295|I>>>11),I=R+(D^(w|~U))+V[4]+4149444226&4294967295,R=w+(I<<6&4294967295|I>>>26),I=U+(w^(R|~D))+V[11]+3174756917&4294967295,U=R+(I<<10&4294967295|I>>>22),I=D+(R^(U|~w))+V[2]+718787259&4294967295,D=U+(I<<15&4294967295|I>>>17),I=w+(U^(D|~R))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.v=function(N,R){R===void 0&&(R=N.length);const w=R-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<R;){if(D==0)for(;U<=w;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<R;)if(V[D++]=N.charCodeAt(U++),D==this.blockSize){l(this,V),D=0;break}}else for(;U<R;)if(V[D++]=N[U++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=R},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var w=N.length-8;w<N.length;++w)N[w]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,w=0;w<4;++w)for(let V=0;V<32;V+=8)N[R++]=this.g[w]>>>V&255;return N};function u(N,R){var w=p;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=R(N)}function d(N,R){this.h=R;const w=[];let V=!0;for(let D=N.length-1;D>=0;D--){const U=N[D]|0;V&&U==R||(w[D]=U,V=!1)}this.g=w}var p={};function g(N){return-128<=N&&N<128?u(N,function(R){return new d([R|0],R<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return Q(y(-N));const R=[];let w=1;for(let V=0;N>=w;V++)R[V]=N/w|0,w*=4294967296;return new d(R,0)}function T(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return Q(T(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(R,8));let V=b;for(let U=0;U<N.length;U+=8){var D=Math.min(8,N.length-U);const I=parseInt(N.substring(U,U+D),R);D<8?(D=y(Math.pow(R,D)),V=V.j(D).add(y(I))):(V=V.j(w),V=V.add(y(I)))}return V}var b=g(0),C=g(1),B=g(16777216);s=d.prototype,s.m=function(){if(G(this))return-Q(this).m();let N=0,R=1;for(let w=0;w<this.g.length;w++){const V=this.i(w);N+=(V>=0?V:4294967296+V)*R,R*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(G(this))return"-"+Q(this).toString(N);const R=y(Math.pow(N,6));var w=this;let V="";for(;;){const D=pt(w,R).g;w=et(w,D.j(R));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(N);if(w=D,H(w))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function G(N){return N.h==-1}s.l=function(N){return N=et(this,N),G(N)?-1:H(N)?0:1};function Q(N){const R=N.g.length,w=[];for(let V=0;V<R;V++)w[V]=~N.g[V];return new d(w,~N.h).add(C)}s.abs=function(){return G(this)?Q(this):this},s.add=function(N){const R=Math.max(this.g.length,N.g.length),w=[];let V=0;for(let D=0;D<=R;D++){let U=V+(this.i(D)&65535)+(N.i(D)&65535),I=(U>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=I>>>16,U&=65535,I&=65535,w[D]=I<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function et(N,R){return N.add(Q(R))}s.j=function(N){if(H(this)||H(N))return b;if(G(this))return G(N)?Q(this).j(Q(N)):Q(Q(this).j(N));if(G(N))return Q(this.j(Q(N)));if(this.l(B)<0&&N.l(B)<0)return y(this.m()*N.m());const R=this.g.length+N.g.length,w=[];for(var V=0;V<2*R;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const U=this.i(V)>>>16,I=this.i(V)&65535,qt=N.i(D)>>>16,re=N.i(D)&65535;w[2*V+2*D]+=I*re,tt(w,2*V+2*D),w[2*V+2*D+1]+=U*re,tt(w,2*V+2*D+1),w[2*V+2*D+1]+=I*qt,tt(w,2*V+2*D+1),w[2*V+2*D+2]+=U*qt,tt(w,2*V+2*D+2)}for(N=0;N<R;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=R;N<2*R;N++)w[N]=0;return new d(w,0)};function tt(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function at(N,R){this.g=N,this.h=R}function pt(N,R){if(H(R))throw Error("division by zero");if(H(N))return new at(b,b);if(G(N))return R=pt(Q(N),R),new at(Q(R.g),Q(R.h));if(G(R))return R=pt(N,Q(R)),new at(Q(R.g),R.h);if(N.g.length>30){if(G(N)||G(R))throw Error("slowDivide_ only works with positive integers.");for(var w=C,V=R;V.l(N)<=0;)w=wt(w),V=wt(V);var D=Ct(w,1),U=Ct(V,1);for(V=Ct(V,2),w=Ct(w,2);!H(V);){var I=U.add(V);I.l(N)<=0&&(D=D.add(w),U=I),V=Ct(V,1),w=Ct(w,1)}return R=et(N,D.j(R)),new at(D,R)}for(D=b;N.l(R)>=0;){for(w=Math.max(1,Math.floor(N.m()/R.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(w),I=U.j(R);G(I)||I.l(N)>0;)w-=V,U=y(w),I=U.j(R);H(U)&&(U=C),D=D.add(U),N=et(N,I)}return new at(D,N)}s.B=function(N){return pt(this,N).h},s.and=function(N){const R=Math.max(this.g.length,N.g.length),w=[];for(let V=0;V<R;V++)w[V]=this.i(V)&N.i(V);return new d(w,this.h&N.h)},s.or=function(N){const R=Math.max(this.g.length,N.g.length),w=[];for(let V=0;V<R;V++)w[V]=this.i(V)|N.i(V);return new d(w,this.h|N.h)},s.xor=function(N){const R=Math.max(this.g.length,N.g.length),w=[];for(let V=0;V<R;V++)w[V]=this.i(V)^N.i(V);return new d(w,this.h^N.h)};function wt(N){const R=N.g.length+1,w=[];for(let V=0;V<R;V++)w[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(w,N.h)}function Ct(N,R){const w=R>>5;R%=32;const V=N.g.length-w,D=[];for(let U=0;U<V;U++)D[U]=R>0?N.i(U+w)>>>R|N.i(U+w+1)<<32-R:N.i(U+w);return new d(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,YE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,sr=d}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var XE,kl,$E,ih,Rm,ZE,JE,WE;(function(){var s,t=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(c,m){if(m)t:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in v))break t;v=v[L]}c=c[c.length-1],S=v[c],m=m(S),m!=S&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=g,y.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,L,q){for(var nt=Array(arguments.length-2),St=2;St<arguments.length;St++)nt[St-2]=arguments[St];return m.prototype[L].apply(S,nt)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function B(c){const m=c.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=c[S];return v}return[]}function H(c,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const q=L.length||0;c.length=v+q;for(let nt=0;nt<q;nt++)c[v+nt]=L[nt]}else c.push(L)}}class G{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Q(c){d.setTimeout(()=>{throw c},0)}function et(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class tt{constructor(){this.h=this.g=null}add(m,v){const S=at.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var at=new G(()=>new pt,c=>c.reset());class pt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,Ct=!1,N=new tt,R=()=>{const c=Promise.resolve(void 0);wt=()=>{c.then(w)}};function w(){for(var c;c=et();){try{c.h.call(c.g)}catch(v){Q(v)}var m=at;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Ct=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function qt(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}b(qt,D),qt.prototype.init=function(c,m){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&qt.Z.h.call(this)},qt.prototype.h=function(){qt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),K=0;function it(c,m,v,S,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=L,this.key=++K,this.da=this.fa=!1}function mt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function jt(c,m,v){for(const S in c)m.call(v,c[S],S,c)}function Qt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(c,m){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)c[v]=S[v];for(let q=0;q<J.length;q++)v=J[q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function lt(c){this.src=c,this.g={},this.h=0}lt.prototype.add=function(c,m,v,S,L){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const nt=Rt(c,m,S,L);return nt>-1?(m=c[nt],v||(m.fa=!1)):(m=new it(m,this.src,q,!!S,L),m.fa=v,c.push(m)),m};function vt(c,m){const v=m.type;if(v in c.g){var S=c.g[v],L=Array.prototype.indexOf.call(S,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(S,L,1),q&&(mt(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rt(c,m,v,S){for(let L=0;L<c.length;++L){const q=c[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==S)return L}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ve={};function ae(c,m,v,S,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(c,m[q],v,S,L);return null}return v=xo(v),c&&c[re]?c.J(m,v,p(S)?!!S.capture:!1,L):_r(c,m,v,!1,S,L)}function _r(c,m,v,S,L,q){if(!m)throw Error("Invalid event type");const nt=p(L)?!!L.capture:!!L;let St=vr(c);if(St||(c[Lt]=St=new lt(c)),v=St.add(m,v,S,nt,q),v.proxy)return v;if(S=ua(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)U||(L=nt),L===void 0&&(L=!1),c.addEventListener(m.toString(),S,L);else if(c.attachEvent)c.attachEvent(ai(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ua(){function c(v){return m.call(c.src,c.listener,v)}const m=Io;return c}function ca(c,m,v,S,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)ca(c,m[q],v,S,L);else S=p(S)?!!S.capture:!!S,v=xo(v),c&&c[re]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=Rt(m,v,S,L),v>-1&&(mt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=vr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Rt(m,v,S,L)),(v=c>-1?m[c]:null)&&ha(v))}function ha(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[re])vt(m.i,c);else{var v=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(v,S,c.capture):m.detachEvent?m.detachEvent(ai(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=vr(m))?(vt(v,c),v.h==0&&(v.src=null,m[Lt]=null)):mt(c)}}}function ai(c){return c in Ve?Ve[c]:Ve[c]="on"+c}function Io(c,m){if(c.da)c=!0;else{m=new qt(m,this);const v=c.listener,S=c.ha||c.src;c.fa&&ha(c),c=v.call(S,m)}return c}function vr(c){return c=c[Lt],c instanceof lt?c:null}var Co="__closure_events_fn_"+(Math.random()*1e9>>>0);function xo(c){return typeof c=="function"?c:(c[Co]||(c[Co]=function(m){return c.handleEvent(m)}),c[Co])}function Ae(){V.call(this),this.i=new lt(this),this.M=this,this.G=null}b(Ae,V),Ae.prototype[re]=!0,Ae.prototype.removeEventListener=function(c,m,v,S){ca(this,c,m,v,S)};function ke(c,m){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var L=m;m=new D(S,c),st(m,L)}L=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=m.g=v[nt],L=ps(q,S,!0,m)&&L;if(q=m.g=c,L=ps(q,S,!0,m)&&L,L=ps(q,S,!1,m)&&L,v)for(nt=0;nt<v.length;nt++)q=m.g=v[nt],L=ps(q,S,!1,m)&&L}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let S=0;S<v.length;S++)mt(v[S]);delete c.g[m],c.h--}}this.G=null},Ae.prototype.J=function(c,m,v,S){return this.i.add(String(c),m,!1,v,S)},Ae.prototype.K=function(c,m,v,S){return this.i.add(String(c),m,!0,v,S)};function ps(c,m,v,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==v){const St=nt.listener,ge=nt.ha||nt.src;nt.fa&&vt(c.i,nt),L=St.call(ge,S)!==!1&&L}}return L&&!S.defaultPrevented}function Wh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function gu(c){c.g=Wh(()=>{c.g=null,c.i&&(c.i=!1,gu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class nn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:gu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(c){V.call(this),this.h=c,this.g={}}b(Er,V);var No=[];function Do(c){jt(c.g,function(m,v){this.g.hasOwnProperty(v)&&ha(m)},c),c.g={}}Er.prototype.N=function(){Er.Z.N.call(this),Do(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gs=d.JSON.stringify,tf=d.JSON.parse,yu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function _u(){}function vu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){D.call(this,"d")}b(qe,D);function Cn(){D.call(this,"c")}b(Cn,D);var pe={},Eu=null;function fa(){return Eu=Eu||new Ae}pe.Ia="serverreachability";function Tu(c){D.call(this,pe.Ia,c)}b(Tu,D);function oi(c){const m=fa();ke(m,new Tu(m))}pe.STAT_EVENT="statevent";function Tr(c,m){D.call(this,pe.STAT_EVENT,c),this.stat=m}b(Tr,D);function Se(c){const m=fa();ke(m,new Tr(m,c))}pe.Ja="timingevent";function li(c,m){D.call(this,pe.Ja,c),this.size=m}b(li,D);function ui(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function ef(c,m,v,S,L,q){c.info(function(){if(c.g)if(q){var nt="",St=q.split("&");for(let Ht=0;Ht<St.length;Ht++){var ge=St[Ht].split("=");if(ge.length>1){const oe=ge[0];ge=ge[1];const On=oe.split("_");nt=On.length>=2&&On[1]=="type"?nt+(oe+"="+ge+"&"):nt+(oe+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+v+`
`+nt})}function Au(c,m,v,S,L,q,nt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+nt})}function ci(c,m,v,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+nf(c,v)+(S?" "+S:"")})}function Ar(c,m){c.info(function(){return"TIMEOUT: "+m})}Gn.prototype.info=function(){};function nf(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<S.length;nt++)S[nt]=""}}}}return gs(q)}catch{return m}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mo;function br(){}b(br,_u),br.prototype.g=function(){return new XMLHttpRequest},Mo=new br;function Li(c){return encodeURIComponent(String(c))}function Su(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Qn(c,m,v,S){this.j=c,this.i=m,this.l=v,this.S=S||1,this.V=new Er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var be={},Pe={};function hi(c,m,v){c.M=1,c.A=wr(Re(m)),c.u=v,c.R=!0,da(c,null)}function da(c,m){c.F=Date.now(),fi(c),c.B=Re(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ya(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Kn,c.g=Pu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new nn(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,S=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(No[0]=L.toString()),L=No);for(let q=0;q<L.length;q++){const nt=ae(v,L[q],S||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),oi(),ef(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const m=this.O;m&&$n(c)==3?m.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)t:{const St=$n(this.g),ge=this.g.ya(),Ht=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||St!=4||ge==7||(ge==8||Ht<=0?oi(3):oi(2)),di(this);var m=this.g.ca();this.X=m;var v=sf(this);if(this.o=m==200,Au(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var q=S;break e}}q=null}if(c=q)ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,c);else{this.o=!1,this.m=3,Se(12),_n(this),xn(this);break t}}if(this.R){c=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=wu(this,v),oe==Pe){St==4&&(this.m=4,Se(14),c=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==be){this.m=4,Se(15),ci(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ci(this.i,this.l,oe,null),mi(this,oe);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,Se(16),c=!1),this.o=this.o&&c,!c)ci(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(nt),nt.P=!0,Se(11))}}else ci(this.i,this.l,v,null),mi(this,v);St==4&&_n(this),this.o&&!this.K&&(St==4?Vu(this.j,this):(this.o=!1,fi(this)))}else ji(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),_n(this),xn(this)}}}catch{}finally{}};function sf(c){if(!bu(c))return c.g.la();const m=He(c.g);if(m==="")return"";let v="";const S=m.length,L=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),xn(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(L&&q==S-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function bu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function wu(c,m){var v=c.C,S=m.indexOf(`
`,v);return S==-1?Pe:(v=Number(m.substring(v,S)),isNaN(v)?be:(S+=1,S+v>m.length?Pe:(m=m.slice(S,S+v),c.C=S+v,m)))}Qn.prototype.cancel=function(){this.K=!0,_n(this)};function fi(c){c.T=Date.now()+c.H,ma(c,c.H)}function ma(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ui(y(c.aa,c),m)}function di(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(oi(),Se(17)),_n(this),this.m=2,xn(this)):ma(this,this.T-c)};function xn(c){c.j.I==0||c.K||Vu(c.j,c)}function _n(c){di(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Do(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function mi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||gi(v.h,c))){if(!c.L&&gi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Aa(v),bs(v);else break t;Or(v),Se(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ui(y(v.Va,v),6e3));pi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((c.L||v.g==c)&&Aa(v),!I(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Ht=L[m];const oe=Ht[0];if(!(oe<=v.K))if(v.K=oe,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const On=Ht[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const Si=Ht[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const Zn=Ht[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(S=1.5*Zn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Jn=c.g;if(Jn){const Mr=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var q=S.h;q.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Uo(q,q.h),q.h=null))}if(S.G){const Sa=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(S.wa=Sa,Kt(S.J,S.G,Sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var nt=c;if(S.na=Lu(S,S.L?S.ba:null,S.W),nt.L){Lo(S.h,nt);var St=nt,ge=S.O;ge&&(St.H=ge),St.D&&(di(St),fi(St)),S.g=nt}else Ou(S);v.i.length>0&&Ti(v)}else Ht[0]!="stop"&&Ht[0]!="close"||Ai(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Ai(v,7):Qo(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}oi(4)}catch{}}var we=class{constructor(c,m){this.g=c,this.map=m}};function Vo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pi(c){return c.h?1:c.g?c.g.size:0}function gi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Uo(c,m){c.g?c.g.add(m):c.h=m}function Lo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Vo.prototype.cancel=function(){if(this.i=Po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Po(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return B(c.i)}var Ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let L,q=null;S>=0?(L=c[v].substring(0,S),q=c[v].substring(S+1)):L=c[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof vn?(this.l=c.l,je(this,c.j),this.o=c.o,this.g=c.g,ys(this,c.u),this.h=c.h,jo(this,Nu(c.i)),this.m=c.m):c&&(m=String(c).match(Ru))?(this.l=!1,je(this,m[1]||"",!0),this.o=yi(m[2]||""),this.g=yi(m[3]||"",!0),ys(this,m[4]),this.h=yi(m[5]||"",!0),jo(this,m[6]||"",!0),this.m=yi(m[7]||"")):(this.l=!1,this.i=new vs(null,this.l))}vn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Rr(m,ga,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Rr(m,ga,!0),"@"),c.push(Li(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Rr(v,v.charAt(0)=="/"?zo:Iu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Rr(v,Cu)),c.join("")},vn.prototype.resolve=function(c){const m=Re(this);let v=!!c.j;v?je(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var S=c.h;if(v)ys(m,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let nt=0;nt<L.length;){const St=L[nt++];St=="."?S&&nt==L.length&&q.push(""):St==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&nt==L.length&&q.push("")):(q.push(St),S=!0)}S=q.join("/")}else S=L}return v?m.h=S:v=c.i.toString()!=="",v?jo(m,Nu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Re(c){return new vn(c)}function je(c,m,v){c.j=v?yi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ys(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function jo(c,m,v){m instanceof vs?(c.i=m,_a(c.i,c.l)):(v||(m=Rr(m,_s)),c.i=new vs(m,c.l))}function Kt(c,m,v){c.i.set(m,v)}function wr(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function yi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,un),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ga=/[#\/\?@]/g,Iu=/[#\?:]/g,zo=/[#\?]/g,_s=/[#\?@]/g,Cu=/#/g;function vs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&pa(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=vs.prototype,s.add=function(c,m){cn(this),this.i=null,c=Es(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function xu(c,m){cn(c),m=Es(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Bo(c,m){return cn(c),m=Es(c,m),c.g.has(m)}s.forEach=function(c,m){cn(this),this.g.forEach(function(v,S){v.forEach(function(L){c.call(m,L,S,this)},this)},this)};function qo(c,m){cn(c);let v=[];if(typeof m=="string")Bo(c,m)&&(v=v.concat(c.g.get(Es(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return cn(this),this.i=null,c=Es(this,c),Bo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=qo(this,c),c.length>0?String(c[0]):m):m};function ya(c,m,v){xu(c,m),v.length>0&&(c.i=null,c.g.set(Es(c,m),B(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const L=Li(v);v=qo(this,v);for(let q=0;q<v.length;q++){let nt=L;v[q]!==""&&(nt+="="+Li(v[q])),c.push(nt)}}return this.i=c.join("&")};function Nu(c){const m=new vs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Es(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function _a(c,m){m&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(xu(this,S),ya(this,L,v))},c)),c.j=m}function Yn(c,m){const v=new Gn;if(d.Image){const S=new Image;S.onload=T(Nn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=T(Nn,v,"TestLoadImage: error",!1,m,S),S.onabort=T(Nn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(Nn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function Ho(c,m){const v=new Gn,S=new AbortController,L=setTimeout(()=>{S.abort(),Nn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(L),q.ok?Nn(v,"TestPingServer: ok",!0,m):Nn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Nn(v,"TestPingServer: error",!1,m)})}function Nn(c,m,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function Ts(){this.g=new yu}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}b(_i,_u),_i.prototype.g=function(){return new Ir(this.i,this.h)};function Ir(c,m){Ae.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ir,Ae),s=Ir.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Xn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;va(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function va(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?As(this):Xn(this),this.readyState==3&&va(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,As(this))},s.Na=function(c){this.g&&(this.response=c,As(this))},s.ga=function(){this.g&&As(this)};function As(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let m="";return jt(c,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Cr(c,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Dn(v),typeof c=="string"?v!=null&&Li(v):Kt(c,m,v))}function $t(c){Ae.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b($t,Ae);var vi=/^https?$/i,Fo=["POST","PUT"];s=$t.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mo.g(),this.g.onreadystatechange=C(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){xr(this,q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Fo,m,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){xr(this,q)}};function xr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Go(c),Pi(c)}function Go(c){c.A||(c.A=!0,ke(c,"complete"),ke(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ke(this,"complete"),ke(this,"abort"),Pi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),$t.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},s.Xa=function(){Nr(this)};function Nr(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(ke(c,"readystatechange"),$n(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=q===0){let nt=String(c.D).match(Ru)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),S=!vi.test(nt?nt.toLowerCase():"")}v=S}if(v)ke(c,"complete"),ke(c,"success");else{c.o=6;try{var L=$n(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Go(c)}}finally{Pi(c)}}}}function Pi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||ke(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}s.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),tf(m)}};function He(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const m={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=Su(c[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Qt(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Ss(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,c),this.Za=Ei("retryDelaySeedMs",1e4,c),this.Ta=Ei("forwardChannelMaxRetries",2,c),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(c&&c.concurrentRequestLimit),this.Ba=new Ts,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ss.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,S){Se(0),this.W=c,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Lu(this,null,this.W),Ti(this)};function Qo(c){if(Ea(c),c.I==3){var m=c.V++,v=Re(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),Dr(c,v),m=new Qn(c,c.j,m),m.M=2,m.A=wr(Re(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Pu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}Uu(c)}function bs(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function Ea(c){bs(c),c.v&&(d.clearTimeout(c.v),c.v=null),Aa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ti(c){if(!ko(c.h)&&!c.m){c.m=!0;var m=c.Ea;wt||R(),Ct||(wt(),Ct=!0),N.add(m,c),c.D=0}}function Ta(c,m){return pi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ui(y(c.Ea,c,m),ku(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Qn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Du(this,L,m),v=Re(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Dr(this,v),q&&(this.R?m="headers="+Li(Dn(q))+"&"+m:this.u&&Cr(v,this.u,q)),Uo(this.h,L),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),L.U=!0,hi(L,v,null)):hi(L,v,m),this.I=2}}else this.I==3&&(c?Ko(this,c):this.i.length==0||ko(this.h)||Ko(this))};function Ko(c,m){var v;m?v=m.l:v=c.V++;const S=Re(c.J);Kt(S,"SID",c.M),Kt(S,"RID",v),Kt(S,"AID",c.K),Dr(c,S),c.u&&c.o&&Cr(S,c.u,c.o),v=new Qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Du(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,v),hi(v,S,m)}function Dr(c,m){c.H&&jt(c.H,function(v,S){Kt(m,S,v)}),c.l&&jt({},function(v,S){Kt(m,S,v)})}function Du(c,m,v){v=Math.min(c.i.length,v);const S=c.l?y(c.l.Ka,c.l,c):null;t:{var L=c.i;let St=-1;for(;;){const ge=["count="+v];St==-1?v>0?(St=L[0].g,ge.push("ofs="+St)):St=0:ge.push("ofs="+St);let Ht=!0;for(let oe=0;oe<v;oe++){var q=L[oe].g;const On=L[oe].map;if(q-=St,q<0)St=Math.max(0,L[oe].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var nt=On instanceof Map?On:Object.entries(On);for(const[Si,Zn]of nt){let Jn=Zn;p(Zn)&&(Jn=gs(Zn)),ge.push(q+Si+"="+encodeURIComponent(Jn))}}catch(Si){throw ge.push(q+"type="+encodeURIComponent("_badmap")),Si}}catch{S&&S(On)}}if(Ht){nt=ge.join("&");break t}}nt=void 0}return c=c.i.splice(0,v),m.G=c,nt}function Ou(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;wt||R(),Ct||(wt(),Ct=!0),N.add(m,c),c.A=0}}function Or(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ui(y(c.Da,c),ku(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ui(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),bs(this),Mu(this))};function Yo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Mu(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Re(c.na);Kt(m,"RID","rpc"),Kt(m,"SID",c.M),Kt(m,"AID",c.K),Kt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(m,"TO",c.ia),Kt(m,"TYPE","xmlhttp"),Dr(c,m),c.u&&c.o&&Cr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=wr(Re(m)),v.u=null,v.R=!0,da(v,c)}s.Va=function(){this.C!=null&&(this.C=null,bs(this),Or(this),Se(19))};function Aa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Vu(c,m){var v=null;if(c.g==m){Aa(c),Yo(c),c.g=null;var S=2}else if(gi(c.h,m))v=m.G,Lo(c.h,m),S=1;else return;if(c.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;S=fa(),ke(S,new li(S,v)),Ti(c)}else Ou(c);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&Ta(c,m)||S==2&&Or(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function ku(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ai(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),S=c.Ua;const L=!S;S=new vn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||je(S,"https"),wr(S),L?Yn(S.toString(),v):Ho(S.toString(),v)}else Se(2);c.I=0,c.l&&c.l.pa(m),Uu(c),Ea(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function Uu(c){if(c.I=0,c.ja=[],c.l){const m=Po(c.h);(m.length!=0||c.i.length!=0)&&(H(c.ja,m),H(c.ja,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.oa()}}function Lu(c,m,v){var S=v instanceof vn?Re(v):new vn(v);if(S.g!="")m&&(S.g=m+"."+S.g),ys(S,S.u);else{var L=d.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new vn(null);S&&je(q,S),m&&(q.g=m),L&&ys(q,L),v&&(q.h=v),S=q}return v=c.G,m=c.wa,v&&m&&Kt(S,v,m),Kt(S,"VER",c.ka),Dr(c,S),S}function Pu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new $t(new _i({ab:v})):new $t(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}s=ju.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ws(){}ws.prototype.g=function(c,m){return new sn(c,m)};function sn(c,m){Ae.call(this),this.g=new Ss(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!I(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new zi(this)}b(sn,Ae),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Qo(this.g)},sn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=gs(c),c=v);m.i.push(new we(m.Ya++,c)),m.I==3&&Ti(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,sn.Z.N.call(this)};function zu(c){qe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}b(zu,qe);function Bu(){Cn.call(this),this.status=1}b(Bu,Cn);function zi(c){this.g=c}b(zi,ju),zi.prototype.ra=function(){ke(this.g,"a")},zi.prototype.qa=function(c){ke(this.g,new zu(c))},zi.prototype.pa=function(c){ke(this.g,new Bu)},zi.prototype.oa=function(){ke(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,WE=function(){return new ws},JE=function(){return fa()},ZE=pe,Rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,ih=Sr,Oo.COMPLETE="complete",$E=Oo,vu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,kl=vu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,XE=$t}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore",Wv="4.9.2";let We=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");let To="12.3.0";const na=new Qm("@firebase/firestore");function Wa(){return na.logLevel}function ot(s,...t){if(na.logLevel<=Mt.DEBUG){const i=t.map(ip);na.debug(`Firestore (${To}): ${s}`,...i)}}function cs(s,...t){if(na.logLevel<=Mt.ERROR){const i=t.map(ip);na.error(`Firestore (${To}): ${s}`,...i)}}function uo(s,...t){if(na.logLevel<=Mt.WARN){const i=t.map(ip);na.warn(`Firestore (${To}): ${s}`,...i)}}function ip(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _t(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,tT(s,r,i)}function tT(s,t,i){let r=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw cs(r),new Error(r)}function Gt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||tT(t,l,r)}function At(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ms{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class eT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class vR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(We.UNAUTHENTICATED)))}shutdown(){}}class ER{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class TR{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let u=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new eT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class AR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new AR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class t0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const r=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const l=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new t0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new t0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class sp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=wR(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=t.charAt(l[u]%62))}return r}}function Vt(s,t){return s<t?-1:s>t?1:0}function Im(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),u=t.charAt(r);if(l!==u)return hm(l)===hm(u)?Vt(l,u):hm(l)?1:-1}return Vt(s.length,t.length)}const RR=55296,IR=57343;function hm(s){const t=s.charCodeAt(0);return t>=RR&&t<=IR}function co(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const e0="__name__";class Ci{constructor(t,i,r){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&_t(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const u=Ci.compareSegments(t.get(l),i.get(l));if(u!==0)return u}return Vt(t.length,i.length)}static compareSegments(t,i){const r=Ci.isNumericId(t),l=Ci.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ci.extractNumericId(t).compare(Ci.extractNumericId(i)):Im(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return sr.fromString(t.substring(4,t.length-2))}}class ee extends Ci{construct(t,i,r){return new ee(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new rt($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const CR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Ci{construct(t,i,r){return new Xe(t,i,r)}static isValidIdentifier(t){return CR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e0}static keyField(){return new Xe([e0])}static fromServerFormat(t){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new rt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new rt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(u(),l++)}if(u(),d)throw new rt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(i)}static emptyPath(){return new Xe([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ee.fromString(t))}static fromName(t){return new dt(ee.fromString(t).popFirst(5))}static empty(){return new dt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ee(t.slice()))}}function nT(s,t,i){if(!i)throw new rt($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function xR(s,t,i,r){if(t===!0&&r===!0)throw new rt($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function n0(s){if(!dt.isDocumentKey(s))throw new rt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function i0(s){if(dt.isDocumentKey(s))throw new rt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function iT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Mh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function on(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new rt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Mh(s);throw new rt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Me(s,t){const i={typeString:s};return t&&(i.value=t),i}function ou(s,t){if(!iT(s))throw new rt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new rt($.INVALID_ARGUMENT,i);return!0}const s0=-62135596800,r0=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*r0);return new se(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<s0)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r0}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ou(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-s0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Me("string",se._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new se(0,0))}static max(){return new Et(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yl=-1;function NR(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(r===1e9?new se(i+1,0):new se(i,r));return new ar(l,dt.empty(),t)}function DR(s){return new ar(s.readTime,s.key,Yl)}class ar{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new ar(Et.min(),dt.empty(),Yl)}static max(){return new ar(Et.max(),dt.empty(),Yl)}}function OR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:Vt(s.largestBatchId,t.largestBatchId))}const MR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Ao(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==MR)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):W.reject(i)}static resolve(t){return new W(((i,r)=>{i(t)}))}static reject(t){return new W(((i,r)=>{r(t)}))}static waitFor(t){return new W(((i,r)=>{let l=0,u=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&i()}),(g=>r(g)))})),d=!0,u===l&&i()}))}static or(t){let i=W.resolve(!1);for(const r of t)i=i.next((l=>l?W.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(t,i){return new W(((r,l)=>{const u=t.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;i(t[y]).next((T=>{d[y]=T,++p,p===u&&r(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new W(((r,l)=>{const u=()=>{t()===!0?i().next((()=>{u()}),l):r()};u()}))}}function kR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function So(s){return s.name==="IndexedDbTransactionError"}class Vh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Vh.ce=-1;const rp=-1;function kh(s){return s==null}function yh(s){return s===0&&1/s==-1/0}function UR(s){return typeof s=="number"&&Number.isInteger(s)&&!yh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const sT="";function LR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=a0(t)),t=PR(s.get(i),t);return a0(t)}function PR(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case sT:i+="";break;default:i+=u}}return i}function a0(s){return s+sT+""}function o0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function pr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function rT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Ye.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Kc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Kc(this.root,t,this.comparator,!0)}}class Kc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,i,r,l,u){this.key=t,this.value=i,this.color=r??Ye.RED,this.left=l??Ye.EMPTY,this.right=u??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,u){return new Ye(t??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const u=r(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ye.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,r,l,u){return this}insert(t,i,r){return new Ye(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new l0(this.data.getIterator())}getIteratorFrom(t){return new l0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Le)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Le(this.comparator);return i.data=t,i}}class l0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new In([])}unionWith(t){let i=new Le(Xe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new In(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return co(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class aT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new aT("Invalid base64 string: "+u):u}})(t);return new $e(i)}static fromUint8Array(t){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new $e(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const jR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(s){if(Gt(!!s,39018),typeof s=="string"){let t=0;const i=jR.exec(s);if(Gt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ve(s.seconds),nanos:ve(s.nanos)}}function ve(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function lr(s){return typeof s=="string"?$e.fromBase64String(s):$e.fromUint8Array(s)}const oT="server_timestamp",lT="__type__",uT="__previous_value__",cT="__local_write_time__";function ap(s){return(s?.mapValue?.fields||{})[lT]?.stringValue===oT}function Uh(s){const t=s.mapValue.fields[uT];return ap(t)?Uh(t):t}function Xl(s){const t=or(s.mapValue.fields[cT].timestampValue);return new se(t.seconds,t.nanos)}class zR{constructor(t,i,r,l,u,d,p,g,y,T){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const _h="(default)";class $l{constructor(t,i){this.projectId=t,this.database=i||_h}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===_h}isEqual(t){return t instanceof $l&&t.projectId===this.projectId&&t.database===this.database}}const hT="__type__",BR="__max__",Yc={mapValue:{}},fT="__vector__",vh="value";function ur(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ap(s)?4:HR(s)?9007199254740991:qR(s)?10:11:_t(28295,{value:s})}function ki(s,t){if(s===t)return!0;const i=ur(s);if(i!==ur(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Xl(s).isEqual(Xl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=or(l.timestampValue),p=or(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,u){return lr(l.bytesValue).isEqual(lr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,u){return ve(l.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(l.geoPointValue.longitude)===ve(u.geoPointValue.longitude)})(s,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ve(l.integerValue)===ve(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=ve(l.doubleValue),p=ve(u.doubleValue);return d===p?yh(d)===yh(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return co(s.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(o0(d)!==o0(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!ki(d[g],p[g])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Zl(s,t){return(s.values||[]).find((i=>ki(i,t)))!==void 0}function ho(s,t){if(s===t)return 0;const i=ur(s),r=ur(t);if(i!==r)return Vt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,t.booleanValue);case 2:return(function(u,d){const p=ve(u.integerValue||u.doubleValue),g=ve(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,t);case 3:return u0(s.timestampValue,t.timestampValue);case 4:return u0(Xl(s),Xl(t));case 5:return Im(s.stringValue,t.stringValue);case 6:return(function(u,d){const p=lr(u),g=lr(d);return p.compareTo(g)})(s.bytesValue,t.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=Vt(p[y],g[y]);if(T!==0)return T}return Vt(p.length,g.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,d){const p=Vt(ve(u.latitude),ve(d.latitude));return p!==0?p:Vt(ve(u.longitude),ve(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return c0(s.arrayValue,t.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},y=p[vh]?.arrayValue,T=g[vh]?.arrayValue,b=Vt(y?.values?.length||0,T?.values?.length||0);return b!==0?b:c0(y,T)})(s.mapValue,t.mapValue);case 11:return(function(u,d){if(u===Yc.mapValue&&d===Yc.mapValue)return 0;if(u===Yc.mapValue)return 1;if(d===Yc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=d.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let b=0;b<g.length&&b<T.length;++b){const C=Im(g[b],T[b]);if(C!==0)return C;const B=ho(p[g[b]],y[T[b]]);if(B!==0)return B}return Vt(g.length,T.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function u0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Vt(s,t);const i=or(s),r=or(t),l=Vt(i.seconds,r.seconds);return l!==0?l:Vt(i.nanos,r.nanos)}function c0(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=ho(i[l],r[l]);if(u)return u}return Vt(i.length,r.length)}function fo(s){return Cm(s)}function Cm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=or(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return lr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=Cm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${Cm(i.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function sh(s){switch(ur(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Uh(s);return t?16+sh(t):16;case 5:return 2*s.stringValue.length;case 6:return lr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+sh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return pr(r.fields,((u,d)=>{l+=u.length+sh(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function h0(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function xm(s){return!!s&&"integerValue"in s}function op(s){return!!s&&"arrayValue"in s}function f0(s){return!!s&&"nullValue"in s}function d0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function rh(s){return!!s&&"mapValue"in s}function qR(s){return(s?.mapValue?.fields||{})[hT]?.stringValue===fT}function Bl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return pr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Bl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Bl(s.arrayValue.values[i]);return t}return{...s}}function HR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===BR}class yn{constructor(t){this.value=t}static empty(){return new yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!rh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bl(i)}setAll(t){let i=Xe.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Bl(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(t){const i=this.field(t.popLast());rh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];rh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){pr(i,((l,u)=>t[l]=u));for(const l of r)delete t[l]}clone(){return new yn(Bl(this.value))}}function dT(s){const t=[];return pr(s.fields,((i,r)=>{const l=new Xe([i]);if(rh(r)){const u=dT(r.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new In(t)}class tn{constructor(t,i,r,l,u,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(t){return new tn(t,0,Et.min(),Et.min(),Et.min(),yn.empty(),0)}static newFoundDocument(t,i,r,l){return new tn(t,1,i,Et.min(),r,l,0)}static newNoDocument(t,i){return new tn(t,2,i,Et.min(),Et.min(),yn.empty(),0)}static newUnknownDocument(t,i){return new tn(t,3,i,Et.min(),Et.min(),yn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eh{constructor(t,i){this.position=t,this.inclusive=i}}function m0(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const u=t[l],d=s.position[l];if(u.field.isKeyField()?r=dt.comparator(dt.fromName(d.referenceValue),i.key):r=ho(d,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function p0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ki(s.position[i],t.position[i]))return!1;return!0}class Jl{constructor(t,i="asc"){this.field=t,this.dir=i}}function FR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class mT{}class Oe extends mT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new QR(t,i,r):i==="array-contains"?new XR(t,r):i==="in"?new $R(t,r):i==="not-in"?new ZR(t,r):i==="array-contains-any"?new JR(t,r):new Oe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new KR(t,r):new YR(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ho(i,this.value)):i!==null&&ur(this.value)===ur(i)&&this.matchesComparison(ho(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends mT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ri(t,i)}matches(t){return pT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pT(s){return s.op==="and"}function gT(s){return GR(s)&&pT(s)}function GR(s){for(const t of s.filters)if(t instanceof ri)return!1;return!0}function Nm(s){if(s instanceof Oe)return s.field.canonicalString()+s.op.toString()+fo(s.value);if(gT(s))return s.filters.map((t=>Nm(t))).join(",");{const t=s.filters.map((i=>Nm(i))).join(",");return`${s.op}(${t})`}}function yT(s,t){return s instanceof Oe?(function(r,l){return l instanceof Oe&&r.op===l.op&&r.field.isEqual(l.field)&&ki(r.value,l.value)})(s,t):s instanceof ri?(function(r,l){return l instanceof ri&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,p)=>u&&yT(d,l.filters[p])),!0):!1})(s,t):void _t(19439)}function _T(s){return s instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${fo(i.value)}`})(s):s instanceof ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(_T).join(" ,")+"}"})(s):"Filter"}class QR extends Oe{constructor(t,i,r){super(t,i,r),this.key=dt.fromName(r.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class KR extends Oe{constructor(t,i){super(t,"in",i),this.keys=vT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class YR extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=vT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function vT(s,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class XR extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return op(i)&&Zl(i.arrayValue,this.value)}}class $R extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Zl(this.value.arrayValue,i)}}class ZR extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Zl(this.value.arrayValue,i)}}class JR extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!op(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Zl(this.value.arrayValue,r)))}}class WR{constructor(t,i=null,r=[],l=[],u=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function g0(s,t=null,i=[],r=[],l=null,u=null,d=null){return new WR(s,t,i,r,l,u,d)}function lp(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Nm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),kh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>fo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>fo(r))).join(",")),t.Te=i}return t.Te}function up(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!FR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!yT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!p0(s.startAt,t.startAt)&&p0(s.endAt,t.endAt)}function Dm(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class bo{constructor(t,i=null,r=[],l=[],u=null,d="F",p=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tI(s,t,i,r,l,u,d,p){return new bo(s,t,i,r,l,u,d,p)}function Lh(s){return new bo(s)}function y0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ET(s){return s.collectionGroup!==null}function ql(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Le(Xe.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Jl(u,r))})),i.has(Xe.keyField().canonicalString())||t.Ie.push(new Jl(Xe.keyField(),r))}return t.Ie}function Di(s){const t=At(s);return t.Ee||(t.Ee=eI(t,ql(s))),t.Ee}function eI(s,t){if(s.limitType==="F")return g0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Jl(l.field,u)}));const i=s.endAt?new Eh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Eh(s.startAt.position,s.startAt.inclusive):null;return g0(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function Om(s,t){const i=s.filters.concat([t]);return new bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Mm(s,t,i){return new bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Ph(s,t){return up(Di(s),Di(t))&&s.limitType===t.limitType}function TT(s){return`${lp(Di(s))}|lt:${s.limitType}`}function to(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>_T(l))).join(", ")}]`),kh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>fo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>fo(l))).join(",")),`Target(${r})`})(Di(s))}; limitType=${s.limitType})`}function jh(s,t){return t.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):dt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,l){for(const u of ql(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const y=m0(d,p,g);return d.inclusive?y<=0:y<0})(r.startAt,ql(r),l)||r.endAt&&!(function(d,p,g){const y=m0(d,p,g);return d.inclusive?y>=0:y>0})(r.endAt,ql(r),l))})(s,t)}function nI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function AT(s){return(t,i)=>{let r=!1;for(const l of ql(s)){const u=iI(l,t,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function iI(s,t,i){const r=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(u,d,p){const g=d.data.field(u),y=p.data.field(u);return g!==null&&y!==null?ho(g,y):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:s.dir})}}class aa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){pr(this.inner,((i,r)=>{for(const[l,u]of r)t(l,u)}))}isEmpty(){return rT(this.inner)}size(){return this.innerSize}}const sI=new ce(dt.comparator);function hs(){return sI}const ST=new ce(dt.comparator);function Ul(...s){let t=ST;for(const i of s)t=t.insert(i.key,i);return t}function bT(s){let t=ST;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function $r(){return Hl()}function wT(){return Hl()}function Hl(){return new aa((s=>s.toString()),((s,t)=>s.isEqual(t)))}const rI=new ce(dt.comparator),aI=new Le(dt.comparator);function kt(...s){let t=aI;for(const i of s)t=t.add(i);return t}const oI=new Le(Vt);function lI(){return oI}function cp(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(t)?"-0":t}}function RT(s){return{integerValue:""+s}}function uI(s,t){return UR(t)?RT(t):cp(s,t)}class zh{constructor(){this._=void 0}}function cI(s,t,i){return s instanceof Wl?(function(l,u){const d={fields:{[lT]:{stringValue:oT},[cT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&ap(u)&&(u=Uh(u)),u&&(d.fields[uT]=u),{mapValue:d}})(i,t):s instanceof mo?CT(s,t):s instanceof po?xT(s,t):(function(l,u){const d=IT(l,u),p=_0(d)+_0(l.Ae);return xm(d)&&xm(l.Ae)?RT(p):cp(l.serializer,p)})(s,t)}function hI(s,t,i){return s instanceof mo?CT(s,t):s instanceof po?xT(s,t):i}function IT(s,t){return s instanceof Th?(function(r){return xm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Wl extends zh{}class mo extends zh{constructor(t){super(),this.elements=t}}function CT(s,t){const i=NT(t);for(const r of s.elements)i.some((l=>ki(l,r)))||i.push(r);return{arrayValue:{values:i}}}class po extends zh{constructor(t){super(),this.elements=t}}function xT(s,t){let i=NT(t);for(const r of s.elements)i=i.filter((l=>!ki(l,r)));return{arrayValue:{values:i}}}class Th extends zh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function _0(s){return ve(s.integerValue||s.doubleValue)}function NT(s){return op(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class hp{constructor(t,i){this.field=t,this.transform=i}}function fI(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof mo&&l instanceof mo||r instanceof po&&l instanceof po?co(r.elements,l.elements,ki):r instanceof Th&&l instanceof Th?ki(r.Ae,l.Ae):r instanceof Wl&&l instanceof Wl})(s.transform,t.transform)}class dI{constructor(t,i){this.version=t,this.transformResults=i}}class ln{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ln}static exists(t){return new ln(void 0,t)}static updateTime(t){return new ln(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ah(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Bh{}function DT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new qh(s.key,ln.none()):new lu(s.key,s.data,ln.none());{const i=s.data,r=yn.empty();let l=new Le(Xe.comparator);for(let u of t.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new gr(s.key,r,new In(l.toArray()),ln.none())}}function mI(s,t,i){s instanceof lu?(function(l,u,d){const p=l.value.clone(),g=E0(l.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof gr?(function(l,u,d){if(!ah(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=E0(l.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(OT(l)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Fl(s,t,i,r){return s instanceof lu?(function(u,d,p,g){if(!ah(u.precondition,d))return p;const y=u.value.clone(),T=T0(u.fieldTransforms,g,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof gr?(function(u,d,p,g){if(!ah(u.precondition,d))return p;const y=T0(u.fieldTransforms,g,d),T=d.data;return T.setAll(OT(u)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(s,t,i,r):(function(u,d,p){return ah(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function pI(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),u=IT(r.transform,l||null);u!=null&&(i===null&&(i=yn.empty()),i.set(r.field,u))}return i||null}function v0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&co(r,l,((u,d)=>fI(u,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class lu extends Bh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class gr extends Bh{constructor(t,i,r,l,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function OT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function E0(s,t,i){const r=new Map;Gt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const u=s[l],d=u.transform,p=t.data.field(u.field);r.set(u.field,hI(d,p,i[l]))}return r}function T0(s,t,i){const r=new Map;for(const l of s){const u=l.transform,d=i.data.field(l.field);r.set(l.field,cI(u,d,t))}return r}class qh extends Bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gI extends Bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yI{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&mI(u,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Fl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Fl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=wT();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=i.has(l.key)?null:p;const g=DT(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Et.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&co(this.mutations,t.mutations,((i,r)=>v0(i,r)))&&co(this.baseMutations,t.baseMutations,((i,r)=>v0(i,r)))}}class fp{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Gt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return rI})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new fp(t,i,r,l)}}class _I{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vI{constructor(t,i){this.count=t,this.unchangedNames=i}}var De,Pt;function EI(s){switch(s){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function MT(s){if(s===void 0)return cs("GRPC error has no .code"),$.UNKNOWN;switch(s){case De.OK:return $.OK;case De.CANCELLED:return $.CANCELLED;case De.UNKNOWN:return $.UNKNOWN;case De.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case De.INTERNAL:return $.INTERNAL;case De.UNAVAILABLE:return $.UNAVAILABLE;case De.UNAUTHENTICATED:return $.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case De.NOT_FOUND:return $.NOT_FOUND;case De.ALREADY_EXISTS:return $.ALREADY_EXISTS;case De.PERMISSION_DENIED:return $.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case De.ABORTED:return $.ABORTED;case De.OUT_OF_RANGE:return $.OUT_OF_RANGE;case De.UNIMPLEMENTED:return $.UNIMPLEMENTED;case De.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:s})}}(Pt=De||(De={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function TI(){return new TextEncoder}const AI=new sr([4294967295,4294967295],0);function A0(s){const t=TI().encode(s),i=new YE;return i.update(t),new Uint8Array(i.digest())}function S0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new sr([i,r],0),new sr([l,u],0)]}class dp{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ll(`Invalid padding: ${i}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=sr.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(sr.fromNumber(r)));return l.compare(AI)===1&&(l=new sr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=A0(t),[r,l]=S0(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new dp(u,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=A0(t),[r,l]=S0(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hh{constructor(t,i,r,l,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,uu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Hh(Et.min(),l,new ce(Vt),hs(),kt())}}class uu{constructor(t,i,r,l,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new uu(r,i,kt(),kt(),kt())}}class oh{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class VT{constructor(t,i){this.targetId=t,this.Ce=i}}class kT{constructor(t,i,r=$e.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class b0{constructor(){this.ve=0,this.Fe=w0(),this.Me=$e.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),i=kt(),r=kt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:_t(38017,{changeType:u})}})),new uu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=w0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SI{constructor(t){this.Ge=t,this.ze=new Map,this.je=hs(),this.Je=Xc(),this.He=Xc(),this.Ye=new ce(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const u=l.target;if(Dm(u))if(r===0){const d=new dt(u.path);this.et(i,d,tn.newNoDocument(d,Et.min()))}else Gt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),g=p?this.ct(p,t,d):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let d,p;try{d=lr(r).toUint8Array()}catch(g){if(g instanceof aT)return uo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new dp(d,l,u)}catch(g){return uo(g instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(i,u,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Dm(p.target)){const g=new dt(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,tn.newNoDocument(g,t))}u.Be&&(i.set(d,u.ke()),u.qe())}}));let r=kt();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new Hh(t,i,this.Ye,this.je,r);return this.je=hs(),this.Je=Xc(),this.He=Xc(),this.Ye=new ce(Vt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new b0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Le(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Le(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new b0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Xc(){return new ce(dt.comparator)}function w0(){return new ce(dt.comparator)}const bI={asc:"ASCENDING",desc:"DESCENDING"},wI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RI={and:"AND",or:"OR"};class II{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Vm(s,t){return s.useProto3Json||kh(t)?t:{value:t}}function Ah(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function UT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function CI(s,t){return Ah(s,t.toTimestamp())}function Oi(s){return Gt(!!s,49232),Et.fromTimestamp((function(i){const r=or(i);return new se(r.seconds,r.nanos)})(s))}function mp(s,t){return km(s,t).canonicalString()}function km(s,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function LT(s){const t=ee.fromString(s);return Gt(qT(t),10190,{key:t.toString()}),t}function Um(s,t){return mp(s.databaseId,t.path)}function fm(s,t){const i=LT(t);if(i.get(1)!==s.databaseId.projectId)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(jT(i))}function PT(s,t){return mp(s.databaseId,t)}function xI(s){const t=LT(s);return t.length===4?ee.emptyPath():jT(t)}function Lm(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function jT(s){return Gt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function R0(s,t,i){return{name:Um(s,t),fields:i.value.mapValue.fields}}function NI(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(Gt(T===void 0||typeof T=="string",58123),$e.fromBase64String(T||"")):(Gt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),$e.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?$.UNKNOWN:MT(y.code);return new rt(T,y.message||"")})(d);i=new kT(r,l,u,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=fm(s,r.document.name),u=Oi(r.document.updateTime),d=r.document.createTime?Oi(r.document.createTime):Et.min(),p=new yn({mapValue:{fields:r.document.fields}}),g=tn.newFoundDocument(l,u,d,p),y=r.targetIds||[],T=r.removedTargetIds||[];i=new oh(y,T,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=fm(s,r.document),u=r.readTime?Oi(r.readTime):Et.min(),d=tn.newNoDocument(l,u),p=r.removedTargetIds||[];i=new oh([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=fm(s,r.document),u=r.removedTargetIds||[];i=new oh([],u,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new vI(l,u),p=r.targetId;i=new VT(p,d)}}return i}function DI(s,t){let i;if(t instanceof lu)i={update:R0(s,t.key,t.value)};else if(t instanceof qh)i={delete:Um(s,t.key)};else if(t instanceof gr)i={update:R0(s,t.key,t.data),updateMask:zI(t.fieldMask)};else{if(!(t instanceof gI))return _t(16599,{Vt:t.type});i={verify:Um(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof Wl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof mo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof po)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Th)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:CI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)})(s,t.precondition)),i}function OI(s,t){return s&&s.length>0?(Gt(t!==void 0,14353),s.map((i=>(function(l,u){let d=l.updateTime?Oi(l.updateTime):Oi(u);return d.isEqual(Et.min())&&(d=Oi(u)),new dI(d,l.transformResults||[])})(i,t)))):[]}function MI(s,t){return{documents:[PT(s,t.path)]}}function VI(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=PT(s,l);const u=(function(y){if(y.length!==0)return BT(ri.create(y,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((T=>(function(C){return{field:eo(C.field),direction:LI(C.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Vm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function kI(s){let t=xI(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Gt(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let u=[];i.where&&(u=(function(b){const C=zT(b);return C instanceof ri&&gT(C)?C.getFilters():[C]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((C=>(function(H){return new Jl(no(H.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(C)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let C;return C=typeof b=="object"?b.value:b,kh(C)?null:C})(i.limit));let g=null;i.startAt&&(g=(function(b){const C=!!b.before,B=b.values||[];return new Eh(B,C)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const C=!b.before,B=b.values||[];return new Eh(B,C)})(i.endAt)),tI(t,l,d,u,p,"F",g,y)}function UI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function zT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=no(i.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=no(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(i.unaryFilter.field);return Oe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=no(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Oe.create(no(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ri.create(i.compositeFilter.filters.map((r=>zT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function LI(s){return bI[s]}function PI(s){return wI[s]}function jI(s){return RI[s]}function eo(s){return{fieldPath:s.canonicalString()}}function no(s){return Xe.fromServerFormat(s.fieldPath)}function BT(s){return s instanceof Oe?(function(i){if(i.op==="=="){if(d0(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NAN"}};if(f0(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(d0(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NOT_NAN"}};if(f0(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(i.field),op:PI(i.op),value:i.value}}})(s):s instanceof ri?(function(i){const r=i.getFilters().map((l=>BT(l)));return r.length===1?r[0]:{compositeFilter:{op:jI(i.op),filters:r}}})(s):_t(54877,{filter:s})}function zI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function qT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Ws{constructor(t,i,r,l,u=Et.min(),d=Et.min(),p=$e.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Ws(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class BI{constructor(t){this.yt=t}}function qI(s){const t=kI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Mm(t,t.limit,"L"):t}class HI{constructor(){this.Cn=new FI}addToCollectionParentIndex(t,i){return this.Cn.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(ar.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(ar.min())}updateCollectionGroup(t,i,r){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class FI{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Le(ee.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Le(ee.comparator)).toArray()}}const I0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HT=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(HT,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class go{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}const C0="LruGarbageCollector",GI=1048576;function x0([s,t],[i,r]){const l=Vt(s,i);return l===0?Vt(t,r):l}class QI{constructor(t){this.Ir=t,this.buffer=new Le(x0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();x0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class KI{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(C0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){So(i)?ot(C0,"Ignoring IndexedDB error during garbage collection: ",i):await Ao(i)}await this.Vr(3e5)}))}}class YI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return W.resolve(Vh.ce);const r=new QI(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(I0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,u,d,p,g,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,p=Date.now(),this.removeTargets(t,r,i)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(y=Date.now(),Wa()<=Mt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b}))))}}function XI(s,t){return new YI(s,t)}class $I{constructor(){this.changes=new aa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?W.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ZI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class JI{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Fl(r.mutation,l,In.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,kt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=kt()){const l=$r();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((u=>{let d=Ul();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=$r();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,kt())))}populateOverlays(t,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let u=hs();const d=Hl(),p=(function(){return Hl()})();return i.forEach(((g,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof gr)?u=u.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Fl(T.mutation,y,T.mutation.getFieldMask(),se.now())):d.set(y.key,In.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new ZI(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Hl();let l=new ce(((d,p)=>d-p)),u=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let T=r.get(g)||In.empty();T=p.applyToLocalView(y,T),r.set(g,T);const b=(l.get(p.batchId)||kt()).add(g);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,b=wT();T.forEach((C=>{if(!u.has(C)){const B=DT(i.get(C),r.get(C));B!==null&&b.set(C,B),u=u.add(C)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return W.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ET(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-u.size):W.resolve($r());let p=Yl,g=u;return d.next((y=>W.forEach(y,((T,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),u.get(T)?W.resolve():this.remoteDocumentCache.getEntry(t,T).next((C=>{g=g.insert(T,C)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,kt()))).next((T=>({batchId:p,changes:bT(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((r=>{let l=Ul();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const u=i.collectionGroup;let d=Ul();return this.indexManager.getCollectionParents(t,u).next((p=>W.forEach(p,(g=>{const y=(function(b,C){return new bo(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((T=>{T.forEach(((b,C)=>{d=d.insert(b,C)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,l)))).next((d=>{u.forEach(((g,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,tn.newInvalidDocument(T)))}));let p=Ul();return d.forEach(((g,y)=>{const T=u.get(g);T!==void 0&&Fl(T.mutation,y,In.empty(),se.now()),jh(i,y)&&(p=p.insert(g,y))})),p}))}}class WI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:qI(l.bundledQuery),readTime:Oi(l.readTime)}})(i)),W.resolve()}}class tC{constructor(){this.overlays=new ce(dt.comparator),this.qr=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const r=$r();return W.forEach(i,(l=>this.getOverlay(t,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,u)=>{this.St(t,i,u)})),W.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(t,i,r){const l=$r(),u=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&l.set(g.getKey(),g)}return W.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let u=new ce(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let T=u.get(y.largestBatchId);T===null&&(T=$r(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=$r(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return W.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new _I(i,r));let u=this.qr.get(i);u===void 0&&(u=kt(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class eC{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}class pp{constructor(){this.Qr=new Le(Be.$r),this.Ur=new Le(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Be(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Be(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new dt(new ee([])),r=new Be(i,t),l=new Be(i,t+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new ee([])),r=new Be(i,t),l=new Be(i,t+1);let u=kt();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const i=new Be(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Be{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}class nC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Le(Be.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yI(u,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Be(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return W.resolve(d)}lookupMutationBatch(t,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),u=l<0?0:l;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?rp:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Be(i,0),l=new Be(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);u.push(p)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Le(Vt);return i.forEach((l=>{const u=new Be(l,0),d=new Be(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{r=r.add(p.Yr)}))})),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let u=r;dt.isDocumentKey(u)||(u=u.child(""));const d=new Be(new dt(u),0);let p=new Le(Vt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),W.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(i.mutations,(l=>{const u=new Be(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Be(i,0),l=this.Zr.firstAfterOrEqual(r);return W.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class iC{constructor(t){this.ri=t,this.docs=(function(){return new ce(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return W.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(i))}getEntries(t,i){let r=hs();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():tn.newInvalidDocument(l))})),W.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let u=hs();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||OR(DR(T),r)<=0||(l.has(T.key)||jh(i,T))&&(u=u.insert(T.key,T.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,i,r,l){_t(9500)}ii(t,i){return W.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new sC(this)}getSize(t){return W.resolve(this.size)}}class sC extends $I{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),W.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class rC{constructor(t){this.persistence=t,this.si=new aa((i=>lp(i)),up),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new pp,this.targetCount=0,this.ai=go.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),W.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new go(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.Pr(i),W.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,r){let l=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),W.waitFor(u).next((()=>l))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return W.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),W.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),W.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return W.resolve(r)}containsKey(t,i){return W.resolve(this._i.containsKey(i))}}class FT{constructor(t,i){this.ui={},this.overlays={},this.ci=new Vh(0),this.li=!1,this.li=!0,this.hi=new eC,this.referenceDelegate=t(this),this.Pi=new rC(this),this.indexManager=new HI,this.remoteDocumentCache=(function(l){return new iC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new BI(i),this.Ii=new WI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new tC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new nC(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ot("MemoryPersistence","Starting transaction:",t);const l=new aC(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,i){return W.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class aC extends VR{constructor(t){super(),this.currentSequenceNumber=t}}class gp{constructor(t){this.persistence=t,this.Ri=new pp,this.Vi=null}static mi(t){return new gp(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),W.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(r=>{const l=dt.fromPath(r);return this.gi(t,l).next((u=>{u||i.removeEntry(l,Et.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Sh{constructor(t,i){this.persistence=t,this.pi=new aa((r=>LR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=XI(this,i)}static mi(t,i){return new Sh(t,i)}Ei(){}di(t){return W.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return W.forEach(this.pi,((r,l)=>this.br(t,r,l).next((u=>u?W.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,u.removeEntry(d,Et.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),W.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),W.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),W.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=sh(t.data.value)),i}br(t,i,r){return W.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return W.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class yp{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=kt(),l=kt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new yp(t,i.fromCache,r,l)}}class oC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class lC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return PS()?8:kR(en())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const u={result:null};return this.ys(t,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(t,i,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new oC;return this.Ss(t,i,d).next((p=>{if(u.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>u.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Wa()<=Mt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",to(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Wa()<=Mt.DEBUG&&ot("QueryEngine","Query:",to(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Wa()<=Mt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",to(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(i))):W.resolve())}ys(t,i){if(y0(i))return W.resolve(null);let r=Di(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Mm(i,null,"F"),r=Di(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const d=kt(...u);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((g=>{const y=this.Ds(i,p);return this.Cs(i,y,d,g.readTime)?this.ys(t,Mm(i,null,"F")):this.vs(t,y,i,g)}))))})))))}ws(t,i,r,l){return y0(i)||l.isEqual(Et.min())?W.resolve(null):this.ps.getDocuments(t,r).next((u=>{const d=this.Ds(i,u);return this.Cs(i,d,r,l)?W.resolve(null):(Wa()<=Mt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),to(i)),this.vs(t,d,i,NR(l,Yl)).next((p=>p)))}))}Ds(t,i){let r=new Le(AT(t));return i.forEach(((l,u)=>{jh(t,u)&&(r=r.add(u))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,i,r){return Wa()<=Mt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",to(i)),this.ps.getDocumentsMatchingQuery(t,i,ar.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const _p="LocalStore",uC=3e8;class cC{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ce(Vt),this.xs=new aa((u=>lp(u)),up),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new JI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function hC(s,t,i,r){return new cC(s,t,i,r)}async function GT(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let g=kt();for(const y of l){d.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return i.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function fC(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const b=y.batch,C=b.keys();let B=W.resolve();return C.forEach((H=>{B=B.next((()=>T.getEntry(g,H))).next((G=>{const Q=y.docVersions.get(H);Gt(Q!==null,48541),G.version.compareTo(Q)<0&&(b.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),T.addEntry(G)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(g,b)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=kt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function QT(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function dC(s,t){const i=At(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((T,b)=>{const C=l.get(b);if(!C)return;p.push(i.Pi.removeMatchingKeys(u,T.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(u,T.addedDocuments,b))));let B=C.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?B=B.withResumeToken($e.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,r)),l=l.insert(b,B),(function(G,Q,et){return G.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=uC?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(C,B,T)&&p.push(i.Pi.updateTargetData(u,B))}));let g=hs(),y=kt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(mC(u,d,t.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!r.isEqual(Et.min())){const T=i.Pi.getLastRemoteSnapshotVersion(u).next((b=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return W.waitFor(p).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(i.Ms=l,u)))}function mC(s,t,i){let r=kt(),l=kt();return i.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let d=hs();return i.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Et.min())?(t.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),d=d.insert(p,g)):ot(_p,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function pC(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=rp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function gC(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((u=>u?(l=u,W.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Ws(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Pm(s,t,i){const r=At(s),l=r.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!So(d))throw d;ot(_p,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function N0(s,t,i){const r=At(s);let l=Et.min(),u=kt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,T){const b=At(g),C=b.xs.get(T);return C!==void 0?W.resolve(b.Ms.get(C)):b.Pi.getTargetData(y,T)})(r,d,Di(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?u:kt()))).next((p=>(yC(r,nI(t),p),{documents:p,Qs:u})))))}function yC(s,t,i){let r=s.Os.get(t)||Et.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class D0{constructor(){this.activeTargetIds=lI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _C{constructor(){this.Mo=new D0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new D0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vC{Oo(t){}shutdown(){}}const O0="ConnectivityMonitor";class M0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(O0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(O0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let $c=null;function jm(){return $c===null?$c=(function(){return 268435456+Math.round(2147483648*Math.random())})():$c++,"0x"+$c.toString(16)}const dm="RestConnection",EC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===_h?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,u){const d=jm(),p=this.zo(t,i.toUriEncodedString());ot(dm,`Sending RPC '${t}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:y}=new URL(p),T=_o(y);return this.Jo(t,p,g,r,T).then((b=>(ot(dm,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw uo(dm,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(t,i,r,l,u,d){return this.Go(t,i,r,l,u)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+To})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>t[u]=l)),r&&r.headers.forEach(((l,u)=>t[u]=l))}zo(t,i){const r=EC[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class AC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Je="WebChannelConnection";class SC extends TC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,u){const d=jm();return new Promise(((p,g)=>{const y=new XE;y.setWithCredentials(!0),y.listenOnce($E.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ih.NO_ERROR:const b=y.getResponseJson();ot(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case ih.TIMEOUT:ot(Je,`RPC '${t}' ${d} timed out`),g(new rt($.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const C=y.getStatus();if(ot(Je,`RPC '${t}' ${d} failed with status:`,C,"response text:",y.getResponseText()),C>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const H=B?.error;if(H&&H.status&&H.message){const G=(function(et){const tt=et.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(tt)>=0?tt:$.UNKNOWN})(H.status);g(new rt(G,H.message))}else g(new rt($.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new rt($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(Je,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);ot(Je,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",T,r,15)}))}T_(t,i,r){const l=jm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=WE(),p=JE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const T=u.join("");ot(Je,`Creating RPC '${t}' stream ${l}: ${T}`,g);const b=d.createWebChannel(T,g);this.I_(b);let C=!1,B=!1;const H=new AC({Yo:Q=>{B?ot(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,Q):(C||(ot(Je,`Opening RPC '${t}' stream ${l} transport.`),b.open(),C=!0),ot(Je,`RPC '${t}' stream ${l} sending:`,Q),b.send(Q))},Zo:()=>b.close()}),G=(Q,et,tt)=>{Q.listen(et,(at=>{try{tt(at)}catch(pt){setTimeout((()=>{throw pt}),0)}}))};return G(b,kl.EventType.OPEN,(()=>{B||(ot(Je,`RPC '${t}' stream ${l} transport opened.`),H.o_())})),G(b,kl.EventType.CLOSE,(()=>{B||(B=!0,ot(Je,`RPC '${t}' stream ${l} transport closed`),H.a_(),this.E_(b))})),G(b,kl.EventType.ERROR,(Q=>{B||(B=!0,uo(Je,`RPC '${t}' stream ${l} transport errored. Name:`,Q.name,"Message:",Q.message),H.a_(new rt($.UNAVAILABLE,"The operation could not be completed")))})),G(b,kl.EventType.MESSAGE,(Q=>{if(!B){const et=Q.data[0];Gt(!!et,16349);const tt=et,at=tt?.error||tt[0]?.error;if(at){ot(Je,`RPC '${t}' stream ${l} received error:`,at);const pt=at.status;let wt=(function(R){const w=De[R];if(w!==void 0)return MT(w)})(pt),Ct=at.message;wt===void 0&&(wt=$.INTERNAL,Ct="Unknown error status: "+pt+" with message "+at.message),B=!0,H.a_(new rt(wt,Ct)),b.close()}else ot(Je,`RPC '${t}' stream ${l} received:`,et),H.u_(et)}})),G(p,ZE.STAT_EVENT,(Q=>{Q.stat===Rm.PROXY?ot(Je,`RPC '${t}' stream ${l} detected buffering proxy`):Q.stat===Rm.NOPROXY&&ot(Je,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function mm(){return typeof document<"u"?document:null}function Fh(s){return new II(s,!0)}class KT{constructor(t,i,r=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const V0="PersistentStream";class YT{constructor(t,i,r,l,u,d,p,g){this.Mi=t,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(cs(i.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new rt($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(V0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ot(V0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bC extends YT{constructor(t,i,r,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=NI(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Et.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Oi(d.readTime):Et.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Lm(this.serializer),i.addTarget=(function(u,d){let p;const g=d.target;if(p=Dm(g)?{documents:MI(u,g)}:{query:VI(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=UT(u,d.resumeToken);const y=Vm(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=Ah(u,d.snapshotVersion.toTimestamp());const y=Vm(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=UI(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Lm(this.serializer),i.removeTarget=t,this.q_(i)}}class wC extends YT{constructor(t,i,r,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=OI(t.writeResults,t.commitTime),r=Oi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Lm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>DI(this.serializer,r)))};this.q_(i)}}class RC{}class IC extends RC{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(t,km(i,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new rt($.UNKNOWN,u.toString())}))}Ho(t,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,km(i,r),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class xC{constructor(t,i,r,l,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{oa(this)&&(ot(ia,"Restarting streams for network reachability change."),await(async function(g){const y=At(g);y.Ea.add(4),await cu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Gh(y)})(this))}))})),this.Ra=new CC(r,l)}}async function Gh(s){if(oa(s))for(const t of s.da)await t(!0)}async function cu(s){for(const t of s.da)await t(!1)}function XT(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Ap(i)?Tp(i):wo(i).O_()&&Ep(i,t))}function vp(s,t){const i=At(s),r=wo(i);i.Ia.delete(t),r.O_()&&$T(i,t),i.Ia.size===0&&(r.O_()?r.L_():oa(i)&&i.Ra.set("Unknown"))}function Ep(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}wo(s).Y_(t)}function $T(s,t){s.Va.Ue(t),wo(s).Z_(t)}function Tp(s){s.Va=new SI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),wo(s).start(),s.Ra.ua()}function Ap(s){return oa(s)&&!wo(s).x_()&&s.Ia.size>0}function oa(s){return At(s).Ea.size===0}function ZT(s){s.Va=void 0}async function NC(s){s.Ra.set("Online")}async function DC(s){s.Ia.forEach(((t,i)=>{Ep(s,t)}))}async function OC(s,t){ZT(s),Ap(s)?(s.Ra.ha(t),Tp(s)):s.Ra.set("Unknown")}async function MC(s,t,i){if(s.Ra.set("Online"),t instanceof kT&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){ot(ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await bh(s,r)}else if(t instanceof oh?s.Va.Ze(t):t instanceof VT?s.Va.st(t):s.Va.tt(t),!i.isEqual(Et.min()))try{const r=await QT(s.localStore);i.compareTo(r)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken($e.EMPTY_BYTE_STRING,T.snapshotVersion)),$T(u,g);const b=new Ws(T.target,g,y,T.sequenceNumber);Ep(u,b)})),u.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ot(ia,"Failed to raise snapshot:",r),await bh(s,r)}}async function bh(s,t,i){if(!So(t))throw t;s.Ea.add(1),await cu(s),s.Ra.set("Offline"),i||(i=()=>QT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(ia,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Gh(s)}))}function JT(s,t){return t().catch((i=>bh(s,i,t)))}async function Qh(s){const t=At(s),i=cr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:rp;for(;VC(t);)try{const l=await pC(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,kC(t,l)}catch(l){await bh(t,l)}WT(t)&&t1(t)}function VC(s){return oa(s)&&s.Ta.length<10}function kC(s,t){s.Ta.push(t);const i=cr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function WT(s){return oa(s)&&!cr(s).x_()&&s.Ta.length>0}function t1(s){cr(s).start()}async function UC(s){cr(s).ra()}async function LC(s){const t=cr(s);for(const i of s.Ta)t.ea(i.mutations)}async function PC(s,t,i){const r=s.Ta.shift(),l=fp.from(r,t,i);await JT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Qh(s)}async function jC(s,t){t&&cr(s).X_&&await(async function(r,l){if((function(d){return EI(d)&&d!==$.ABORTED})(l.code)){const u=r.Ta.shift();cr(r).B_(),await JT(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Qh(r)}})(s,t),WT(s)&&t1(s)}async function k0(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),ot(ia,"RemoteStore received new credentials");const r=oa(i);i.Ea.add(3),await cu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Gh(i)}async function zC(s,t){const i=At(s);t?(i.Ea.delete(2),await Gh(i)):t||(i.Ea.add(2),await cu(i),i.Ra.set("Unknown"))}function wo(s){return s.ma||(s.ma=(function(i,r,l){const u=At(i);return u.sa(),new bC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:NC.bind(null,s),t_:DC.bind(null,s),r_:OC.bind(null,s),H_:MC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Ap(s)?Tp(s):s.Ra.set("Unknown")):(await s.ma.stop(),ZT(s))}))),s.ma}function cr(s){return s.fa||(s.fa=(function(i,r,l){const u=At(i);return u.sa(),new wC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:UC.bind(null,s),r_:jC.bind(null,s),ta:LC.bind(null,s),na:PC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Qh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Sp{constructor(t,i,r,l,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,u){const d=Date.now()+r,p=new Sp(t,i,d,l,u);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bp(s,t){if(cs("AsyncQueue",`${t}: ${s}`),So(s))return new rt($.UNAVAILABLE,`${t}: ${s}`);throw s}class oo{static emptySet(t){return new oo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||dt.comparator(i.key,r.key):(i,r)=>dt.comparator(i.key,r.key),this.keyedMap=Ul(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof oo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new oo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class U0{constructor(){this.ga=new ce(dt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class yo{constructor(t,i,r,l,u,d,p,g,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,u){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new yo(t,i,oo.emptySet(i),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class BC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class qC{constructor(){this.queries=L0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=At(i),u=l.queries;l.queries=L0(),u.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new rt($.ABORTED,"Firestore shutting down"))}}function L0(){return new aa((s=>TT(s)),Ph)}async function wp(s,t){const i=At(s);let r=3;const l=t.query;let u=i.queries.get(l);u?!u.ba()&&t.Da()&&(r=2):(u=new BC,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=bp(d,`Initialization of query '${to(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&Ip(i)}async function Rp(s,t){const i=At(s),r=t.query;let l=3;const u=i.queries.get(r);if(u){const d=u.Sa.indexOf(t);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function HC(s,t){const i=At(s);let r=!1;for(const l of t){const u=l.query,d=i.queries.get(u);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Ip(i)}function FC(s,t,i){const r=At(s),l=r.queries.get(t);if(l)for(const u of l.Sa)u.onError(i);r.queries.delete(t)}function Ip(s){s.Ca.forEach((t=>{t.next()}))}var zm,P0;(P0=zm||(zm={})).Ma="default",P0.Cache="cache";class Cp{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new yo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==zm.Cache}}class e1{constructor(t){this.key=t}}class n1{constructor(t){this.key=t}}class GC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=AT(t),this.tu=new oo(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new U0,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,b)=>{const C=l.get(T),B=jh(this.query,b)?b:null,H=!!C&&this.mutatedKeys.has(C.key),G=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Q=!1;C&&B?C.data.isEqual(B.data)?H!==G&&(r.track({type:3,doc:B}),Q=!0):this.su(C,B)||(r.track({type:2,doc:B}),Q=!0,(g&&this.eu(B,g)>0||y&&this.eu(B,y)<0)&&(p=!0)):!C&&B?(r.track({type:0,doc:B}),Q=!0):C&&!B&&(r.track({type:1,doc:C}),Q=!0,(g||y)&&(p=!0)),Q&&(B?(d=d.add(B),u=G?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,b)=>(function(B,H){const G=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:Q})}};return G(B)-G(H)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new yo(this.query,t.tu,u,d,t.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new U0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new n1(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new e1(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xp="SyncEngine";class QC{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class KC{constructor(t){this.key=t,this.hu=!1}}class YC{constructor(t,i,r,l,u,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new aa((p=>TT(p)),Ph),this.Iu=new Map,this.Eu=new Set,this.du=new ce(dt.comparator),this.Au=new Map,this.Ru=new pp,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XC(s,t,i=!0){const r=l1(s);let l;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await i1(r,t,i,!0),l}async function $C(s,t){const i=l1(s);await i1(i,t,!0,!1)}async function i1(s,t,i,r){const l=await gC(s.localStore,Di(t)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let p;return r&&(p=await ZC(s,t,u,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&XT(s.remoteStore,l),p}async function ZC(s,t,i,r,l){s.pu=(b,C,B)=>(async function(G,Q,et,tt){let at=Q.view.ru(et);at.Cs&&(at=await N0(G.localStore,Q.query,!1).then((({documents:N})=>Q.view.ru(N,at))));const pt=tt&&tt.targetChanges.get(Q.targetId),wt=tt&&tt.targetMismatches.get(Q.targetId)!=null,Ct=Q.view.applyChanges(at,G.isPrimaryClient,pt,wt);return z0(G,Q.targetId,Ct.au),Ct.snapshot})(s,b,C,B);const u=await N0(s.localStore,t,!0),d=new GC(t,u.Qs),p=d.ru(u.documents),g=uu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,g);z0(s,i,y.au);const T=new QC(t,i,d);return s.Tu.set(t,T),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function JC(s,t,i){const r=At(s),l=r.Tu.get(t),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Ph(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Pm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&vp(r.remoteStore,l.targetId),Bm(r,l.targetId)})).catch(Ao)):(Bm(r,l.targetId),await Pm(r.localStore,l.targetId,!0))}async function WC(s,t){const i=At(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),vp(i.remoteStore,r.targetId))}async function tx(s,t,i){const r=ox(s);try{const l=await(function(d,p){const g=At(d),y=se.now(),T=p.reduce(((B,H)=>B.add(H.key)),kt());let b,C;return g.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let H=hs(),G=kt();return g.Ns.getEntries(B,T).next((Q=>{H=Q,H.forEach(((et,tt)=>{tt.isValidDocument()||(G=G.add(et))}))})).next((()=>g.localDocuments.getOverlayedDocuments(B,H))).next((Q=>{b=Q;const et=[];for(const tt of p){const at=pI(tt,b.get(tt.key).overlayedDocument);at!=null&&et.push(new gr(tt.key,at,dT(at.value.mapValue),ln.exists(!0)))}return g.mutationQueue.addMutationBatch(B,y,et,p)})).next((Q=>{C=Q;const et=Q.applyToLocalDocumentSet(b,G);return g.documentOverlayCache.saveOverlays(B,Q.batchId,et)}))})).then((()=>({batchId:C.batchId,changes:bT(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new ce(Vt)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await hu(r,l.changes),await Qh(r.remoteStore)}catch(l){const u=bp(l,"Failed to persist write");i.reject(u)}}async function s1(s,t){const i=At(s);try{const r=await dC(i.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=i.Au.get(u);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await hu(i,r,t)}catch(r){await Ao(r)}}function j0(s,t,i){const r=At(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((u,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=At(d);g.onlineState=p;let y=!1;g.queries.forEach(((T,b)=>{for(const C of b.Sa)C.va(p)&&(y=!0)})),y&&Ip(g)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ex(s,t,i){const r=At(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),u=l&&l.key;if(u){let d=new ce(dt.comparator);d=d.insert(u,tn.newNoDocument(u,Et.min()));const p=kt().add(u),g=new Hh(Et.min(),new Map,new ce(Vt),d,p);await s1(r,g),r.du=r.du.remove(u),r.Au.delete(t),Np(r)}else await Pm(r.localStore,t,!1).then((()=>Bm(r,t,i))).catch(Ao)}async function nx(s,t){const i=At(s),r=t.batch.batchId;try{const l=await fC(i.localStore,t);a1(i,r,null),r1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await hu(i,l)}catch(l){await Ao(l)}}async function ix(s,t,i){const r=At(s);try{const l=await(function(d,p){const g=At(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((b=>(Gt(b!==null,37113),T=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(r.localStore,t);a1(r,t,i),r1(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await hu(r,l)}catch(l){await Ao(l)}}function r1(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function a1(s,t,i){const r=At(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(t);u&&(i?u.reject(i):u.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Bm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||o1(s,r)}))}function o1(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(vp(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Np(s))}function z0(s,t,i){for(const r of i)r instanceof e1?(s.Ru.addReference(r.key,t),sx(s,r)):r instanceof n1?(ot(xp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||o1(s,r.key)):_t(19791,{wu:r})}function sx(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ot(xp,"New document in limbo: "+i),s.Eu.add(r),Np(s))}function Np(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new dt(ee.fromString(t)),r=s.fu.next();s.Au.set(r,new KC(i)),s.du=s.du.insert(i,r),XT(s.remoteStore,new Ws(Di(Lh(i.path)),r,"TargetPurposeLimboResolution",Vh.ce))}}async function hu(s,t,i){const r=At(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){l.push(y);const T=yp.As(g.targetId,y);u.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,y){const T=At(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>W.forEach(y,(C=>W.forEach(C.Es,(B=>T.persistence.referenceDelegate.addReference(b,C.targetId,B))).next((()=>W.forEach(C.ds,(B=>T.persistence.referenceDelegate.removeReference(b,C.targetId,B)))))))))}catch(b){if(!So(b))throw b;ot(_p,"Failed to update sequence numbers: "+b)}for(const b of y){const C=b.targetId;if(!b.fromCache){const B=T.Ms.get(C),H=B.snapshotVersion,G=B.withLastLimboFreeSnapshotVersion(H);T.Ms=T.Ms.insert(C,G)}}})(r.localStore,u))}async function rx(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){ot(xp,"User change. New user:",t.toKey());const r=await GT(i.localStore,t);i.currentUser=t,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new rt($.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await hu(i,r.Ls)}}function ax(s,t){const i=At(s),r=i.Au.get(t);if(r&&r.hu)return kt().add(r.key);{let l=kt();const u=i.Iu.get(t);if(!u)return l;for(const d of u){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function l1(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=s1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ax.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ex.bind(null,t),t.Pu.H_=HC.bind(null,t.eventManager),t.Pu.yu=FC.bind(null,t.eventManager),t}function ox(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ix.bind(null,t),t}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Fh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return hC(this.persistence,new lC,t.initialUser,this.serializer)}Cu(t){return new FT(gp.mi,this.serializer)}Du(t){return new _C}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class lx extends wh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof Sh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new KI(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new FT((r=>Sh.mi(r,i)),this.serializer)}}class qm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>j0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rx.bind(null,this.syncEngine),await zC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qC})()}createDatastore(t){const i=Fh(t.databaseInfo.databaseId),r=(function(u){return new SC(u)})(t.databaseInfo);return(function(u,d,p,g){return new IC(u,d,p,g)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,u,d,p){return new xC(r,l,u,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>j0(this.syncEngine,i,0)),(function(){return M0.v()?new M0:new vC})())}createSyncEngine(t,i){return(function(l,u,d,p,g,y,T){const b=new YC(l,u,d,p,g,y);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=At(i);ot(ia,"RemoteStore shutting down."),r.Ea.add(5),await cu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qm.provider={build:()=>new qm};class Dp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):cs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const hr="FirestoreClient";class ux{constructor(t,i,r,l,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=We.UNAUTHENTICATED,this.clientId=sp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{ot(hr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ot(hr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=bp(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function pm(s,t){s.asyncQueue.verifyOperationInProgress(),ot(hr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await GT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function B0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await cx(s);ot(hr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>k0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>k0(t.remoteStore,l))),s._onlineComponents=t}async function cx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(hr,"Using user provided OfflineComponentProvider");try{await pm(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;uo("Error using user provided cache. Falling back to memory cache: "+i),await pm(s,new wh)}}else ot(hr,"Using default OfflineComponentProvider"),await pm(s,new lx(void 0));return s._offlineComponents}async function u1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(hr,"Using user provided OnlineComponentProvider"),await B0(s,s._uninitializedComponentsProvider._online)):(ot(hr,"Using default OnlineComponentProvider"),await B0(s,new qm))),s._onlineComponents}function hx(s){return u1(s).then((t=>t.syncEngine))}async function Rh(s){const t=await u1(s),i=t.eventManager;return i.onListen=XC.bind(null,t.syncEngine),i.onUnlisten=JC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=$C.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=WC.bind(null,t.syncEngine),i}function fx(s,t,i={}){const r=new rs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const T=new Dp({next:C=>{T.Nu(),d.enqueueAndForget((()=>Rp(u,b)));const B=C.docs.has(p);!B&&C.fromCache?y.reject(new rt($.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&C.fromCache&&g&&g.source==="server"?y.reject(new rt($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),b=new Cp(Lh(p.path),T,{includeMetadataChanges:!0,qa:!0});return wp(u,b)})(await Rh(s),s.asyncQueue,t,i,r))),r.promise}function dx(s,t,i={}){const r=new rs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const T=new Dp({next:C=>{T.Nu(),d.enqueueAndForget((()=>Rp(u,b))),C.fromCache&&g.source==="server"?y.reject(new rt($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),b=new Cp(p,T,{includeMetadataChanges:!0,qa:!0});return wp(u,b)})(await Rh(s),s.asyncQueue,t,i,r))),r.promise}function c1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const q0=new Map;const h1="firestore.googleapis.com",H0=!0;class F0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h1,this.ssl=H0}else this.host=t.host,this.ssl=t.ssl??H0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=HT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<GI)throw new rt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Kh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new vR;switch(r.type){case"firstParty":return new SR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=q0.get(i);r&&(ot("ComponentProvider","Removing Datastore"),q0.delete(i),r.terminate())})(this),Promise.resolve()}}function mx(s,t,i,r={}){s=on(s,Kh);const l=_o(t),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(aE(`https://${p}`),oE("Firestore",!0)),u.host!==h1&&u.host!==p&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:r};if(!os(g,d)&&(s._setSettings(g),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=We.MOCK_USER;else{y=xS(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new rt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new We(b)}s._authCredentials=new ER(new eT(y,T))}}class yr{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new yr(this.firestore,t,this._query)}}class me{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new me(this.firestore,t,this._key)}toJSON(){return{type:me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(ou(i,me._jsonSchema))return new me(t,r||null,new dt(ee.fromString(i.referencePath)))}}me._jsonSchemaVersion="firestore/documentReference/1.0",me._jsonSchema={type:Me("string",me._jsonSchemaVersion),referencePath:Me("string")};class rr extends yr{constructor(t,i,r){super(t,i,Lh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new me(this.firestore,null,new dt(t))}withConverter(t){return new rr(this.firestore,t,this._path)}}function Ee(s,t,...i){if(s=Te(s),nT("collection","path",t),s instanceof Kh){const r=ee.fromString(t,...i);return i0(r),new rr(s,null,r)}{if(!(s instanceof me||s instanceof rr))throw new rt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...i));return i0(r),new rr(s.firestore,null,r)}}function de(s,t,...i){if(s=Te(s),arguments.length===1&&(t=sp.newId()),nT("doc","path",t),s instanceof Kh){const r=ee.fromString(t,...i);return n0(r),new me(s,null,new dt(r))}{if(!(s instanceof me||s instanceof rr))throw new rt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...i));return n0(r),new me(s.firestore,s instanceof rr?s.converter:null,new dt(r))}}const G0="AsyncQueue";class Q0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KT(this,"async_queue_retry"),this._c=()=>{const r=mm();r&&ot(G0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=mm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=mm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new rs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!So(t))throw t;ot(G0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",K0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Sp.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:K0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function K0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function Y0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class Ui extends Kh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Q0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Q0(t),this._firestoreClient=void 0,await t}}}function px(s,t){const i=typeof s=="object"?s:hE(),r=typeof s=="string"?s:_h,l=Ym(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=IS("firestore");u&&mx(l,...u)}return l}function fu(s){if(s._terminated)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||gx(s),s._firestoreClient}function gx(s){const t=s._freezeSettings(),i=(function(l,u,d,p){return new zR(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,c1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new ux(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn($e.fromBase64String(t))}catch(i){throw new rt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new qn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ou(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Me("string",qn._jsonSchemaVersion),bytes:Me("string")};class du{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ro{constructor(t){this._methodName=t}}class Mi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(ou(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Me("string",Mi._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};class Vi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ou(t,Vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Vi(t.vectorValues);throw new rt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Me("string",Vi._jsonSchemaVersion),vectorValues:Me("object")};const yx=/^__.*__$/;class _x{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new gr(t,this.data,this.fieldMask,i,this.fieldTransforms):new lu(t,this.data,i,this.fieldTransforms)}}class f1{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new gr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function d1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:s})}}class Yh{constructor(t,i,r,l,u,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Yh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ih(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(d1(this.Ac)&&yx.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class vx{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Fh(t)}Cc(t,i,r,l=!1){return new Yh({Ac:t,methodName:i,Dc:r,path:Xe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mu(s){const t=s._freezeSettings(),i=Fh(s._databaseId);return new vx(s._databaseId,!!t.ignoreUndefinedProperties,i)}function Op(s,t,i,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,t,i,l);Up("Data must be an object, but it was:",d,r);const p=y1(r,d);let g,y;if(u.merge)g=new In(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const C=Hm(t,b,i);if(!d.contains(C))throw new rt($.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);v1(T,C)||T.push(C)}g=new In(T),y=d.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=d.fieldTransforms;return new _x(new yn(p),g,y)}class Xh extends Ro{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Xh}}function m1(s,t,i){return new Yh({Ac:3,Dc:t.settings.Dc,methodName:s._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Mp extends Ro{_toFieldTransform(t){return new hp(t.path,new Wl)}isEqual(t){return t instanceof Mp}}class Vp extends Ro{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=m1(this,t,!0),r=this.vc.map((u=>la(u,i))),l=new mo(r);return new hp(t.path,l)}isEqual(t){return t instanceof Vp&&os(this.vc,t.vc)}}class kp extends Ro{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=m1(this,t,!0),r=this.vc.map((u=>la(u,i))),l=new po(r);return new hp(t.path,l)}isEqual(t){return t instanceof kp&&os(this.vc,t.vc)}}function p1(s,t,i,r){const l=s.Cc(1,t,i);Up("Data must be an object, but it was:",l,r);const u=[],d=yn.empty();pr(r,((g,y)=>{const T=Lp(t,g,i);y=Te(y);const b=l.yc(T);if(y instanceof Xh)u.push(T);else{const C=la(y,b);C!=null&&(u.push(T),d.set(T,C))}}));const p=new In(u);return new f1(d,p,l.fieldTransforms)}function g1(s,t,i,r,l,u){const d=s.Cc(1,t,i),p=[Hm(t,r,i)],g=[l];if(u.length%2!=0)throw new rt($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)p.push(Hm(t,u[C])),g.push(u[C+1]);const y=[],T=yn.empty();for(let C=p.length-1;C>=0;--C)if(!v1(y,p[C])){const B=p[C];let H=g[C];H=Te(H);const G=d.yc(B);if(H instanceof Xh)y.push(B);else{const Q=la(H,G);Q!=null&&(y.push(B),T.set(B,Q))}}const b=new In(y);return new f1(T,b,d.fieldTransforms)}function Ex(s,t,i,r=!1){return la(i,s.Cc(r?4:3,t))}function la(s,t){if(_1(s=Te(s)))return Up("Unsupported field value:",t,s),y1(s,t);if(s instanceof Ro)return(function(r,l){if(!d1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const p of r){let g=la(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(s,t)}return(function(r,l){if((r=Te(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=se.fromDate(r);return{timestampValue:Ah(l.serializer,u)}}if(r instanceof se){const u=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(l.serializer,u)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:UT(l.serializer,r._byteString)};if(r instanceof me){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Vi)return(function(d,p){return{mapValue:{fields:{[hT]:{stringValue:fT},[vh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return cp(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Mh(r)}`)})(s,t)}function y1(s,t){const i={};return rT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pr(s,((r,l)=>{const u=la(l,t.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function _1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof se||s instanceof Mi||s instanceof qn||s instanceof me||s instanceof Ro||s instanceof Vi)}function Up(s,t,i){if(!_1(i)||!iT(i)){const r=Mh(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Hm(s,t,i){if((t=Te(t))instanceof du)return t._internalPath;if(typeof t=="string")return Lp(s,t);throw Ih("Field path arguments must be of type string or ",s,!1,void 0,i)}const Tx=new RegExp("[~\\*/\\[\\]]");function Lp(s,t,i){if(t.search(Tx)>=0)throw Ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new du(...t.split("."))._internalPath}catch{throw Ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ih(s,t,i,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new rt($.INVALID_ARGUMENT,p+s+g)}function v1(s,t){return s.some((i=>i.isEqual(t)))}class E1{constructor(t,i,r,l,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Ax(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field($h("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Ax extends E1{data(){return super.data()}}function $h(s,t){return typeof t=="string"?Lp(s,t):t instanceof du?t._internalPath:t._delegate._internalPath}function T1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pp{}class A1 extends Pp{}function Hn(s,t,...i){let r=[];t instanceof Pp&&r.push(t),r=r.concat(i),(function(u){const d=u.filter((g=>g instanceof jp)).length,p=u.filter((g=>g instanceof Zh)).length;if(d>1||d>0&&p>0)throw new rt($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Zh extends A1{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Zh(t,i,r)}_apply(t){const i=this._parse(t);return b1(t._query,i),new yr(t.firestore,t.converter,Om(t._query,i))}_parse(t){const i=mu(t.firestore);return(function(u,d,p,g,y,T,b){let C;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new rt($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){$0(b,T);const H=[];for(const G of b)H.push(X0(g,u,G));C={arrayValue:{values:H}}}else C=X0(g,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||$0(b,T),C=Ex(p,d,b,T==="in"||T==="not-in");return Oe.create(y,T,C)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function an(s,t,i){const r=t,l=$h("where",s);return Zh._create(l,r,i)}class jp extends Pp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new jp(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ri.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const g of p)b1(d,g),d=Om(d,g)})(t._query,i),new yr(t.firestore,t.converter,Om(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zp extends A1{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new zp(t,i)}_apply(t){const i=(function(l,u,d){if(l.startAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jl(u,d)})(t._query,this._field,this._direction);return new yr(t.firestore,t.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new bo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function S1(s,t="asc"){const i=t,r=$h("orderBy",s);return zp._create(r,i)}function X0(s,t,i){if(typeof(i=Te(i))=="string"){if(i==="")throw new rt($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ET(t)&&i.indexOf("/")!==-1)throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ee.fromString(i));if(!dt.isDocumentKey(r))throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return h0(s,new dt(r))}if(i instanceof me)return h0(s,i._key);throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(i)}.`)}function $0(s,t){if(!Array.isArray(s)||s.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function b1(s,t){const i=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class Sx{convertValue(t,i="none"){switch(ur(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return pr(t,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertVectorValue(t){const i=t.fields?.[vh].arrayValue?.values?.map((r=>ve(r.doubleValue)));return new Vi(i)}convertGeoPoint(t){return new Mi(ve(t.latitude),ve(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Uh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Xl(t));default:return null}}convertTimestamp(t){const i=or(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ee.fromString(t);Gt(qT(r),9688,{name:t});const l=new $l(r.get(1),r.get(3)),u=new dt(r.popFirst(5));return l.isEqual(i)||cs(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function Bp(s,t,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,r}class Pl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zr extends E1{constructor(t,i,r,l,u,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field($h("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Zr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zr._jsonSchema={type:Me("string",Zr._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class lh extends Zr{data(t={}){return super.data(t)}}class Jr{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Pl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new lh(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new lh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Pl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new lh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Pl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:bx(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Jr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=sp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function bx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}function qp(s){s=on(s,me);const t=on(s.firestore,Ui);return fx(fu(t),s._key).then((i=>w1(t,s,i)))}Jr._jsonSchemaVersion="firestore/querySnapshot/1.0",Jr._jsonSchema={type:Me("string",Jr._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};class Hp extends Sx{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new me(this.firestore,null,i)}}function Ch(s){s=on(s,yr);const t=on(s.firestore,Ui),i=fu(t),r=new Hp(t);return T1(s._query),dx(i,s._query).then((l=>new Jr(t,r,s,l)))}function Z0(s,t,i){s=on(s,me);const r=on(s.firestore,Ui),l=Bp(s.converter,t,i);return pu(r,[Op(mu(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,ln.none())])}function ni(s,t,i,...r){s=on(s,me);const l=on(s.firestore,Ui),u=mu(l);let d;return d=typeof(t=Te(t))=="string"||t instanceof du?g1(u,"updateDoc",s._key,t,i,r):p1(u,"updateDoc",s._key,t),pu(l,[d.toMutation(s._key,ln.exists(!0))])}function Fm(s){return pu(on(s.firestore,Ui),[new qh(s._key,ln.none())])}function fs(s,t){const i=on(s.firestore,Ui),r=de(s),l=Bp(s.converter,t);return pu(i,[Op(mu(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,ln.exists(!1))]).then((()=>r))}function as(s,...t){s=Te(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Y0(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Y0(t[r])){const g=t[r];t[r]=g.next?.bind(g),t[r+1]=g.error?.bind(g),t[r+2]=g.complete?.bind(g)}let u,d,p;if(s instanceof me)d=on(s.firestore,Ui),p=Lh(s._key.path),u={next:g=>{t[r]&&t[r](w1(d,s,g))},error:t[r+1],complete:t[r+2]};else{const g=on(s,yr);d=on(g.firestore,Ui),p=g._query;const y=new Hp(d);u={next:T=>{t[r]&&t[r](new Jr(d,y,g,T))},error:t[r+1],complete:t[r+2]},T1(s._query)}return(function(y,T,b,C){const B=new Dp(C),H=new Cp(T,B,b);return y.asyncQueue.enqueueAndForget((async()=>wp(await Rh(y),H))),()=>{B.Nu(),y.asyncQueue.enqueueAndForget((async()=>Rp(await Rh(y),H)))}})(fu(d),p,l,u)}function pu(s,t){return(function(r,l){const u=new rs;return r.asyncQueue.enqueueAndForget((async()=>tx(await hx(r),l,u))),u.promise})(fu(s),t)}function w1(s,t,i){const r=i.docs.get(t._key),l=new Hp(s);return new Zr(s,l,t._key,r,new Pl(i.hasPendingWrites,i.fromCache),t.converter)}class wx{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=mu(t)}set(t,i,r){this._verifyNotCommitted();const l=gm(t,this._firestore),u=Bp(l.converter,i,r),d=Op(this._dataReader,"WriteBatch.set",l._key,u,l.converter!==null,r);return this._mutations.push(d.toMutation(l._key,ln.none())),this}update(t,i,r,...l){this._verifyNotCommitted();const u=gm(t,this._firestore);let d;return d=typeof(i=Te(i))=="string"||i instanceof du?g1(this._dataReader,"WriteBatch.update",u._key,i,r,l):p1(this._dataReader,"WriteBatch.update",u._key,i),this._mutations.push(d.toMutation(u._key,ln.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=gm(t,this._firestore);return this._mutations=this._mutations.concat(new qh(i._key,ln.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rt($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gm(s,t){if((s=Te(s)).firestore!==t)throw new rt($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function ds(){return new Mp("serverTimestamp")}function Rx(...s){return new Vp("arrayUnion",s)}function Ix(...s){return new kp("arrayRemove",s)}function Cx(s){return fu(s=on(s,Ui)),new wx(s,(t=>pu(s,t)))}(function(t,i=!0){(function(l){To=l})(vo),lo(new Wr("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new Ui(new TR(r.getProvider("auth-internal")),new bR(d,r.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new rt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(y.options.projectId,T)})(d,l),d);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),ir(Jv,Wv,t),ir(Jv,Wv,"esm2020")})();const xx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),J0=s=>{const t=Nx(s);return t.charAt(0).toUpperCase()+t.slice(1)},R1=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),Dx=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Ox={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mx=ct.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...p},g)=>ct.createElement("svg",{ref:g,...Ox,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:R1("lucide",l),...!u&&!Dx(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,T])=>ct.createElement(y,T)),...Array.isArray(u)?u:[u]]));const ue=(s,t)=>{const i=ct.forwardRef(({className:r,...l},u)=>ct.createElement(Mx,{ref:u,iconNode:t,className:R1(`lucide-${xx(J0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=J0(s),i};const Vx=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],kx=ue("activity",Vx);const Ux=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Lx=ue("arrow-left",Ux);const Px=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],jx=ue("arrow-right",Px);const zx=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Bx=ue("award",zx);const qx=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Hx=ue("bell",qx);const Fx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gx=ue("calendar",Fx);const Qx=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Kx=ue("camera",Qx);const Yx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xx=ue("check",Yx);const $x=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],tr=ue("heart",$x);const Zx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Jx=ue("lock",Zx);const Wx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tN=ue("log-out",Wx);const eN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],nN=ue("mail",eN);const iN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],sN=ue("message-square",iN);const rN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],aN=ue("pen",rN);const oN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],I1=ue("plus",oN);const lN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],C1=ue("send",lN);const uN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],tu=ue("target",uN);const cN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hN=ue("trash-2",cN);const fN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Jh=ue("trophy",fN);const dN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],mN=ue("user-minus",dN);const pN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],gN=ue("user-plus",pN);const yN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_N=ue("user",yN);const vN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],x1=ue("users",vN);const EN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fp=ue("x",EN),sa=({children:s,onClick:t,variant:i="primary",className:r="",disabled:l=!1,type:u="button"})=>{const d="w-full px-4 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 shadow-sm active:scale-95",p={primary:"bg-indigo-600 text-white hover:bg-indigo-700 disabled:bg-indigo-300",secondary:"bg-white text-slate-700 border border-slate-200 hover:bg-slate-50",ghost:"bg-transparent text-slate-600 hover:bg-slate-100 shadow-none w-auto inline-flex px-2"};return A.jsx("button",{onClick:t,type:u,className:`${d} ${p[i]} ${r}`,disabled:l,children:s})},fr=({value:s,onChange:t,placeholder:i,type:r="text",icon:l,className:u=""})=>A.jsxs("div",{className:`relative ${u}`,children:[l&&A.jsx(l,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),A.jsx("input",{type:r,value:s,onChange:t,placeholder:i,className:`w-full ${l?"pl-11":"pl-4"} pr-4 py-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-600/20 focus:border-indigo-600 transition-all bg-slate-50 focus:bg-white`})]}),TN=({children:s,className:t=""})=>A.jsx("div",{className:`bg-white rounded-2xl p-4 shadow-sm border border-slate-100 ${t}`,children:s});function AN({onLogin:s,onRegister:t,errorMsg:i,setErrorMsg:r}){const[l,u]=ct.useState(!0),[d,p]=ct.useState(""),[g,y]=ct.useState(""),T=b=>{b.preventDefault(),l?s(d,g):t(d,g)};return A.jsx("div",{className:"min-h-screen bg-indigo-50 flex items-center justify-center p-6",children:A.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl p-8 shadow-xl",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4 text-indigo-600",children:A.jsx(tu,{size:32,fill:"currentColor"})}),A.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"FocusFlow"}),A.jsx("p",{className:"text-slate-500",children:l?"Hola de nuevo!":"Crea tu cuenta para empezar"})]}),A.jsxs("form",{onSubmit:T,className:"space-y-4",children:[A.jsx(fr,{type:"email",placeholder:"Tu correo electrnico",value:d,onChange:b=>p(b.target.value),icon:nN}),A.jsx(fr,{type:"password",placeholder:"Contrasea (min 6 caracteres)",value:g,onChange:b=>y(b.target.value),icon:Jx}),i&&A.jsx("p",{className:"text-red-500 text-sm text-center",children:i}),A.jsx(sa,{type:"submit",variant:"primary",children:l?"Iniciar Sesin":"Crear Cuenta"})]}),A.jsx("div",{className:"mt-6 text-center",children:A.jsx("button",{onClick:()=>{r(""),u(!l)},className:"text-slate-500 hover:text-indigo-600 text-sm font-medium transition-colors",children:l?"No tienes cuenta? Regstrate gratis":"Ya tienes cuenta? Inicia sesin"})})]})})}function SN({habit:s,onToggle:t,onDelete:i,isOwner:r}){const l=new Date().toLocaleDateString("en-CA"),u=s.completions?.includes(l);return A.jsx(TN,{className:`transition-all ${u?"border-l-4 border-l-green-400":"border-l-4 border-l-slate-200"}`,children:A.jsxs("div",{className:"flex items-start justify-between gap-3",children:[A.jsx("button",{onClick:r?t:void 0,disabled:!r,className:`
            w-8 h-8 rounded-full flex items-center justify-center transition-all
            ${u?"bg-green-500 text-white shadow-md scale-110":"bg-slate-100 text-slate-300"}
            ${!r&&"cursor-default opacity-90"}
          `,children:A.jsx(Xx,{size:18})}),A.jsxs("div",{className:"flex-grow",children:[A.jsx("h3",{className:"font-medium text-slate-700",children:s.title}),A.jsxs("div",{className:"flex gap-4 mt-1 text-xs text-slate-400",children:[A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(Jh,{size:12})," ",s.streak," das"]}),s.userName&&A.jsxs("span",{className:"flex items-center gap-1 text-indigo-400",children:[A.jsx(kx,{size:12})," ",s.userName]})]})]}),r&&A.jsx("button",{onClick:d=>{d.stopPropagation(),i()},className:"text-slate-300 hover:text-red-400 p-1 rounded transition-colors",children:A.jsx(hN,{size:16})})]})})}function bN({db:s,user:t}){const[i,r]=ct.useState([]),[l,u]=ct.useState(!1),[d,p]=ct.useState(0);ct.useEffect(()=>{if(!t)return;const H=Hn(Ee(s,"notifications"),an("userId","==",t.uid)),G=as(H,Q=>{const et=Q.docs.map(tt=>({id:tt.id,...tt.data()}));et.sort((tt,at)=>(at.createdAt?.seconds||0)-(tt.createdAt?.seconds||0)),r(et),p(et.filter(tt=>!tt.read).length)});return()=>G()},[t,s]);const g=async H=>{try{await ni(de(s,"notifications",H),{read:!0})}catch(G){console.error("Error marking as read:",G)}},y=async()=>{const H=Cx(s);i.forEach(G=>{if(!G.read){const Q=de(s,"notifications",G.id);H.update(Q,{read:!0})}}),await H.commit()},T=async H=>{try{await ni(de(s,"users",t.uid),{partnerId:H.fromUid}),await ni(de(s,"users",H.fromUid),{partnerId:t.uid});const G=Hn(Ee(s,"couple_invites"),an("fromUid","==",H.fromUid),an("toUid","==",t.uid),an("status","==","pending"));(await Ch(G)).forEach(async et=>{await ni(de(s,"couple_invites",et.id),{status:"accepted"})}),await Fm(de(s,"notifications",H.id)),window.location.reload()}catch(G){console.error("Error accepting invite:",G)}},b=async H=>{try{const G=Hn(Ee(s,"couple_invites"),an("fromUid","==",H.fromUid),an("toUid","==",t.uid),an("status","==","pending"));(await Ch(G)).forEach(async et=>{await ni(de(s,"couple_invites",et.id),{status:"rejected"})}),await Fm(de(s,"notifications",H.id))}catch(G){console.error("Error rejecting invite:",G)}},C=H=>H?.split("@")[0]||"Usuario",B=H=>{const G=H.fromDisplayName||C(H.fromEmail);switch(H.type){case"new_follower":return A.jsxs(A.Fragment,{children:[A.jsx(gN,{size:16,className:"text-indigo-600 mt-0.5 flex-shrink-0"}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("p",{className:"text-sm text-slate-700",children:[A.jsx("span",{className:"font-semibold",children:G})," ha comenzado a seguirte."]}),A.jsx("p",{className:"text-xs text-slate-400 mt-1",children:H.createdAt?.toDate?.()?.toLocaleDateString()||"Reciente"})]})]});case"couple_invite":return A.jsxs(A.Fragment,{children:[A.jsx(tr,{size:16,className:"text-pink-600 mt-0.5 flex-shrink-0",fill:"currentColor"}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("p",{className:"text-sm text-slate-700",children:[A.jsx("span",{className:"font-semibold",children:G})," quiere ser tu pareja "]}),A.jsxs("div",{className:"flex gap-2 mt-2",children:[A.jsx("button",{onClick:()=>T(H),className:"text-xs bg-pink-600 text-white px-3 py-1 rounded-lg hover:bg-pink-700 font-bold",children:"Aceptar"}),A.jsx("button",{onClick:()=>b(H),className:"text-xs bg-slate-200 text-slate-600 px-3 py-1 rounded-lg hover:bg-slate-300",children:"Rechazar"})]})]})]});case"couple_kiss":return A.jsxs(A.Fragment,{children:[A.jsx(tr,{size:16,className:"text-pink-400 mt-0.5 flex-shrink-0"}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("p",{className:"text-sm text-slate-700",children:[A.jsx("span",{className:"font-semibold",children:G})," te envi un beso de nimo "]}),H.message&&A.jsxs("p",{className:"text-xs text-slate-500 mt-1 italic",children:['"',H.message,'"']}),A.jsx("p",{className:"text-xs text-slate-400 mt-1",children:H.createdAt?.toDate?.()?.toLocaleDateString()||"Reciente"})]})]});default:return null}};return A.jsxs("div",{className:"relative",children:[A.jsxs("button",{onClick:()=>u(!l),className:"relative p-2 text-slate-400 hover:bg-slate-100 rounded-full transition-colors",children:[A.jsx(Hx,{size:20}),d>0&&A.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-indigo-600 rounded-full border-2 border-white"})]}),l&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>u(!1)}),A.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-xl border border-slate-100 z-20 overflow-hidden",children:[A.jsxs("div",{className:"p-3 border-b border-slate-50 flex justify-between items-center bg-slate-50",children:[A.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase",children:"Notificaciones"}),d>0&&A.jsx("button",{onClick:y,className:"text-xs text-indigo-600 hover:underline font-bold",children:"Marcar ledas"})]}),A.jsx("div",{className:"max-h-96 overflow-y-auto",children:i.length===0?A.jsx("p",{className:"p-4 text-center text-slate-400 text-sm",children:"No tienes notificaciones."}):i.map(H=>A.jsx("div",{onClick:()=>!H.read&&H.type!=="couple_invite"&&g(H.id),className:`p-3 border-b border-slate-50 hover:bg-slate-50 transition-colors ${H.type!=="couple_invite"?"cursor-pointer":""} ${H.read?"":"bg-indigo-50/50"}`,children:A.jsx("div",{className:"flex gap-3",children:B(H)})},H.id))})]})]})]})}function wN({user:s,userProfile:t,db:i,onClose:r,habits:l=[]}){const[u,d]=ct.useState(!1),[p,g]=ct.useState(t?.displayName||""),[y,T]=ct.useState(t?.bio||""),[b,C]=ct.useState(t?.photoURL||""),[B,H]=ct.useState(!1);ct.useEffect(()=>{t&&(g(t.displayName||""),T(t.bio||""),C(t.photoURL||""))},[t]);const G=l.reduce((tt,at)=>tt+(at.completions?.length||0),0),Q=l.reduce((tt,at)=>Math.max(tt,at.streak||0),0),et=async()=>{if(s){H(!0);try{const tt=de(i,"users",s.uid);await ni(tt,{displayName:p.trim()||s.email.split("@")[0],bio:y,photoURL:b}),d(!1)}catch(tt){console.error("Error updating profile:",tt)}finally{H(!1)}}};return A.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:A.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:[A.jsx("div",{className:"h-24 bg-gradient-to-r from-indigo-500 to-purple-500 relative",children:A.jsx("button",{onClick:r,className:"absolute right-4 top-4 p-2 bg-white/20 hover:bg-white/40 text-white rounded-full backdrop-blur-md transition-colors",children:A.jsx(Fp,{size:20})})}),A.jsxs("div",{className:"px-6 pb-6",children:[A.jsxs("div",{className:"relative -mt-12 mb-4 flex flex-col items-center",children:[A.jsxs("div",{className:"w-24 h-24 bg-white rounded-full p-1 shadow-lg relative group",children:[A.jsx("div",{className:"w-full h-full bg-slate-100 rounded-full flex items-center justify-center text-slate-400 overflow-hidden",children:b?A.jsx("img",{src:b,alt:"Profile",className:"w-full h-full object-cover"}):A.jsx(_N,{size:40})}),u&&A.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center text-white opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:A.jsx(Kx,{size:24})})]}),A.jsx("h2",{className:"mt-3 text-xl font-bold text-slate-800",children:t?.displayName||s.email.split("@")[0]}),A.jsx("p",{className:"text-sm text-slate-500",children:s.email})]}),A.jsxs("div",{className:"mb-6",children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase",children:"Perfil"}),!u&&A.jsxs("button",{onClick:()=>d(!0),className:"text-indigo-600 hover:text-indigo-700 p-1 flex items-center gap-1 text-xs font-bold",children:[A.jsx(aN,{size:14})," EDITAR"]})]}),u?A.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2",children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Nombre de Usuario"}),A.jsx(fr,{value:p,onChange:tt=>g(tt.target.value),placeholder:"Tu nombre",className:"text-sm py-2"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Foto de Perfil (URL)"}),A.jsx(fr,{value:b,onChange:tt=>C(tt.target.value),placeholder:"https://ejemplo.com/foto.jpg",className:"text-sm py-2"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Sobre m"}),A.jsx("textarea",{value:y,onChange:tt=>T(tt.target.value),className:"w-full p-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-600/20 focus:border-indigo-600 text-sm min-h-[80px]",placeholder:"Escribe algo sobre ti..."})]}),A.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[A.jsx(sa,{variant:"ghost",onClick:()=>d(!1),className:"text-xs",children:"Cancelar"}),A.jsx(sa,{variant:"primary",onClick:et,disabled:B,className:"py-1 px-4 text-xs h-9",children:B?"Guardando...":"Guardar Cambios"})]})]}):A.jsx("p",{className:"text-slate-600 text-sm leading-relaxed italic text-center px-4",children:t?.bio||"Sin descripcin an. Edita tu perfil para aadir una!"})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("div",{className:"bg-indigo-50 p-3 rounded-xl border border-indigo-100 flex flex-col items-center justify-center text-center",children:[A.jsx(Bx,{className:"text-indigo-600 mb-1",size:20}),A.jsx("span",{className:"text-2xl font-bold text-indigo-700",children:G}),A.jsx("span",{className:"text-xs text-indigo-600/80 font-medium",children:"Completados"})]}),A.jsxs("div",{className:"bg-purple-50 p-3 rounded-xl border border-purple-100 flex flex-col items-center justify-center text-center",children:[A.jsx(Gx,{className:"text-purple-600 mb-1",size:20}),A.jsx("span",{className:"text-2xl font-bold text-purple-700",children:Q}),A.jsx("span",{className:"text-xs text-purple-600/80 font-medium",children:"Mejor Racha"})]})]})]})]})})}function RN({isOpen:s,onClose:t,initialTab:i="following",db:r,currentUser:l,userProfile:u}){if(!s)return null;const[d,p]=ct.useState(i),[g,y]=ct.useState([]),[T,b]=ct.useState(!0),[C,B]=ct.useState("");ct.useEffect(()=>{(async()=>{b(!0),y([]);try{let et=[];if(d==="following")et=u?.following||[];else{const tt=Hn(Ee(r,"users"),an("following","array-contains",l.uid)),pt=(await Ch(tt)).docs.map(wt=>wt.data());y(pt),b(!1);return}if(et.length>0){const tt=[];for(const at of et){const pt=await qp(de(r,"users",at));pt.exists()&&tt.push(pt.data())}y(tt)}}catch(et){console.error("Error fetching users:",et)}finally{b(!1)}})()},[d,u,r,l]);const H=async Q=>{try{await ni(de(r,"users",l.uid),{following:Ix(Q)}),y(g.filter(et=>et.uid!==Q))}catch(et){console.error(et)}},G=async Q=>{try{if(u?.partnerId){alert("Ya tienes pareja. Solo puedes tener una pareja a la vez.");return}const et=u?.displayName||l.email.split("@")[0];confirm(`Quieres invitar a ${Q.displayName||Q.email.split("@")[0]} a ser tu pareja en la app?`)&&(await fs(Ee(r,"couple_invites"),{fromUid:l.uid,fromEmail:l.email,fromDisplayName:et,toUid:Q.uid,toEmail:Q.email,status:"pending",createdAt:ds()}),await fs(Ee(r,"notifications"),{userId:Q.uid,type:"couple_invite",fromUid:l.uid,fromEmail:l.email,fromDisplayName:et,read:!1,createdAt:ds()}),alert("Invitacin enviada! "))}catch(et){console.error("Error sending couple invite:",et),alert("Error al enviar invitacin. Intntalo de nuevo.")}};return A.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:A.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md h-[80vh] flex flex-col shadow-2xl animate-in fade-in zoom-in duration-200",children:[A.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between",children:[A.jsx("h2",{className:"font-bold text-lg text-slate-800",children:"Social"}),A.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:A.jsx(Fp,{size:20})})]}),A.jsxs("div",{className:"flex p-2 gap-2 border-b border-slate-100",children:[A.jsx("button",{onClick:()=>p("following"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-colors ${d==="following"?"bg-indigo-50 text-indigo-600":"text-slate-500 hover:bg-slate-50"}`,children:"Siguiendo"}),A.jsx("button",{onClick:()=>p("followers"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-colors ${d==="followers"?"bg-indigo-50 text-indigo-600":"text-slate-500 hover:bg-slate-50"}`,children:"Seguidores"})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:T?A.jsx("p",{className:"text-center text-slate-400 py-8",children:"Cargando..."}):g.length===0?A.jsx("p",{className:"text-center text-slate-400 py-8",children:d==="following"?"No sigues a nadie an.":"An no tienes seguidores."}):g.map(Q=>A.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-xl border border-slate-100",children:[A.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[A.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 font-bold shrink-0",children:(Q.displayName||Q.email)[0].toUpperCase()}),A.jsxs("div",{className:"min-w-0",children:[A.jsx("p",{className:"font-medium text-slate-800 truncate",children:Q.displayName||Q.email.split("@")[0]}),A.jsx("p",{className:"text-xs text-slate-500 truncate",children:Q.email})]})]}),A.jsx("div",{className:"flex items-center gap-1",children:d==="following"&&A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>G(Q),disabled:u?.partnerId,className:`p-2 rounded-full transition-colors ${u?.partnerId?"text-slate-300 cursor-not-allowed":"text-pink-400 hover:bg-pink-50 hover:text-pink-600"}`,title:u?.partnerId?"Ya tienes pareja":"Invitar como Pareja",children:A.jsx(tr,{size:18})}),A.jsx("button",{onClick:()=>H(Q.uid),className:"p-2 text-slate-400 hover:bg-red-50 hover:text-red-600 rounded-full transition-colors",title:"Dejar de seguir",children:A.jsx(mN,{size:18})})]})})]},Q.uid))})]})})}function IN({isOpen:s,onClose:t,db:i,user:r}){if(!s)return null;const[l,u]=ct.useState(""),[d,p]=ct.useState(""),[g,y]=ct.useState(!1),T=async b=>{if(b.preventDefault(),!(!l.trim()||!r)){y(!0);try{const C=await fs(Ee(i,"challenges"),{title:l.trim(),description:d.trim(),createdBy:r.uid,creatorName:r.email.split("@")[0],participants:[r.uid],createdAt:ds()});await fs(Ee(i,"habitos"),{title:l.trim(),userId:r.uid,userName:r.email.split("@")[0],createdAt:ds(),completions:[],streak:0,challengeId:C.id}),t(),u(""),p("")}catch(C){console.error("Error creating challenge:",C)}finally{y(!1)}}};return A.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:A.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:[A.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-indigo-50",children:[A.jsxs("h2",{className:"font-bold text-lg text-indigo-900 flex items-center gap-2",children:[A.jsx(Jh,{size:20,className:"text-indigo-600"}),"Nuevo Reto"]}),A.jsx("button",{onClick:t,className:"p-2 hover:bg-indigo-100 rounded-full text-indigo-400",children:A.jsx(Fp,{size:20})})]}),A.jsxs("form",{onSubmit:T,className:"p-6 space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Ttulo del Reto"}),A.jsx(fr,{value:l,onChange:b=>u(b.target.value),placeholder:"Ej: Meditar 10 min diarios",className:"font-medium"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Descripcin (Opcional)"}),A.jsx("textarea",{value:d,onChange:b=>p(b.target.value),placeholder:"Explica de qu trata...",className:"w-full p-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-600/20 focus:border-indigo-600 min-h-[100px] text-sm"})]}),A.jsxs("div",{className:"pt-2",children:[A.jsx(sa,{type:"submit",disabled:!l.trim()||g,className:"w-full",children:g?"Creando...":"Lanzar Reto"}),A.jsx("p",{className:"text-xs text-center text-slate-400 mt-3",children:"Al crear el reto, te unirs automticamente."})]})]})]})})}function CN({db:s,user:t,onSelectChallenge:i}){const[r,l]=ct.useState([]),[u,d]=ct.useState(!1);ct.useEffect(()=>{const g=Hn(Ee(s,"challenges"),S1("createdAt","desc")),y=as(g,T=>{l(T.docs.map(b=>({id:b.id,...b.data()})))});return()=>y()},[s]);const p=async g=>{if(t)try{await ni(de(s,"challenges",g.id),{participants:Rx(t.uid)}),await fs(Ee(s,"habitos"),{title:g.title,userId:t.uid,userName:t.email.split("@")[0],createdAt:ds(),completions:[],streak:0,challengeId:g.id}),i(g.id)}catch(y){console.error("Error joining challenge:",y)}};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Retos Disponibles"}),A.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 text-sm font-bold text-indigo-600 hover:bg-indigo-50 px-3 py-2 rounded-lg transition-colors",children:[A.jsx(I1,{size:18}),"Crear Reto"]})]}),A.jsx("div",{className:"grid gap-4",children:r.length===0?A.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-dashed border-slate-200",children:[A.jsx(Jh,{size:32,className:"mx-auto text-slate-300 mb-2"}),A.jsx("p",{className:"text-slate-500",children:"No hay retos activos."}),A.jsx("p",{className:"text-sm text-slate-400",children:"S el primero en crear uno!"})]}):r.map(g=>{const y=g.participants?.includes(t?.uid);return A.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-all group",children:[A.jsxs("div",{className:"flex justify-between items-start mb-3",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-lg text-slate-800 group-hover:text-indigo-600 transition-colors",children:g.title}),A.jsx("p",{className:"text-sm text-slate-500 line-clamp-2",children:g.description})]}),A.jsxs("div",{className:"bg-indigo-50 text-indigo-600 px-2 py-1 rounded-lg text-xs font-bold flex items-center gap-1",children:[A.jsx(x1,{size:14}),g.participants?.length||0]})]}),A.jsxs("div",{className:"flex items-center justify-between mt-4",children:[A.jsxs("div",{className:"text-xs text-slate-400",children:["Creado por ",A.jsx("span",{className:"font-medium text-slate-600",children:g.creatorName})]}),y?A.jsxs(sa,{variant:"secondary",onClick:()=>i(g.id),className:"py-2 px-4 text-xs h-auto",children:["Ver Ranking ",A.jsx(jx,{size:14,className:"ml-1"})]}):A.jsx(sa,{variant:"primary",onClick:()=>p(g),className:"py-2 px-4 text-xs h-auto",children:"Unirse al Reto"})]})]},g.id)})}),A.jsx(IN,{isOpen:u,onClose:()=>d(!1),db:s,user:t})]})}function xN({db:s,user:t,challengeId:i,onBack:r}){const[l,u]=ct.useState(null),[d,p]=ct.useState([]),[g,y]=ct.useState([]),[T,b]=ct.useState(""),[C,B]=ct.useState("ranking");ct.useEffect(()=>{(async()=>{const Q=de(s,"challenges",i),et=await qp(Q);et.exists()&&u({id:et.id,...et.data()})})()},[i,s]),ct.useEffect(()=>{const G=Hn(Ee(s,"habitos"),an("challengeId","==",i)),Q=as(G,et=>{const at=et.docs.map(pt=>pt.data()).map(pt=>({uid:pt.userId,name:pt.userName,score:pt.completions?.length||0,streak:pt.streak||0}));at.sort((pt,wt)=>wt.score-pt.score||wt.streak-pt.streak),p(at)});return()=>Q()},[i,s]),ct.useEffect(()=>{const G=Hn(Ee(s,"challenge_posts"),an("challengeId","==",i),S1("createdAt","desc")),Q=as(G,et=>{y(et.docs.map(tt=>({id:tt.id,...tt.data()})))},et=>{console.warn("Index might be missing for posts. Check console.",et)});return()=>Q()},[i,s]);const H=async G=>{if(G.preventDefault(),!!T.trim())try{await fs(Ee(s,"challenge_posts"),{challengeId:i,userId:t.uid,userName:t.email.split("@")[0],content:T.trim(),createdAt:ds()}),b("")}catch(Q){console.error(Q)}};return l?A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[A.jsxs("button",{onClick:r,className:"text-slate-400 hover:text-slate-600 mb-4 flex items-center gap-1 text-sm font-bold",children:[A.jsx(Lx,{size:16})," Volver"]}),A.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:l.title}),A.jsx("p",{className:"text-slate-500",children:l.description})]}),A.jsxs("div",{className:"flex p-1 bg-white rounded-xl shadow-sm border border-slate-100",children:[A.jsxs("button",{onClick:()=>B("ranking"),className:`flex-1 py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-all ${C==="ranking"?"bg-indigo-50 text-indigo-600":"text-slate-500"}`,children:[A.jsx(Jh,{size:16})," Ranking"]}),A.jsxs("button",{onClick:()=>B("wall"),className:`flex-1 py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-all ${C==="wall"?"bg-indigo-50 text-indigo-600":"text-slate-500"}`,children:[A.jsx(sN,{size:16})," Muro"]})]}),A.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2",children:C==="ranking"?A.jsx("div",{className:"space-y-3",children:d.map((G,Q)=>A.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border ${Q===0?"bg-yellow-50 border-yellow-200":"bg-white border-slate-100"}`,children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${Q===0?"bg-yellow-100 text-yellow-600":"bg-slate-100 text-slate-500"}`,children:Q+1}),A.jsxs("div",{children:[A.jsx("p",{className:`font-bold ${Q===0?"text-yellow-800":"text-slate-700"}`,children:G.uid===t.uid?"T":G.name}),A.jsxs("p",{className:"text-xs text-slate-400",children:["Racha actual: ",G.streak," das"]})]})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("span",{className:`text-xl font-bold ${Q===0?"text-yellow-600":"text-indigo-600"}`,children:G.score}),A.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400",children:"Completados"})]})]},Q))}):A.jsxs("div",{className:"space-y-4",children:[A.jsxs("form",{onSubmit:H,className:"flex gap-2",children:[A.jsx(fr,{value:T,onChange:G=>b(G.target.value),placeholder:"Comparte tu progreso...",className:"flex-1"}),A.jsx("button",{type:"submit",disabled:!T.trim(),className:"bg-indigo-600 text-white p-3 rounded-xl hover:bg-indigo-700 disabled:opacity-50",children:A.jsx(C1,{size:20})})]}),A.jsxs("div",{className:"space-y-3",children:[g.map(G=>A.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-100",children:[A.jsxs("div",{className:"flex justify-between items-start mb-1",children:[A.jsx("span",{className:"font-bold text-sm text-slate-700",children:G.userName}),A.jsx("span",{className:"text-[10px] text-slate-400",children:G.createdAt?.seconds?new Date(G.createdAt.seconds*1e3).toLocaleDateString():"Ahora"})]}),A.jsx("p",{className:"text-slate-600 text-sm",children:G.content})]},G.id)),g.length===0&&A.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"S el primero en escribir algo."})]})]})})]}):A.jsx("div",{className:"p-8 text-center text-slate-400",children:"Cargando reto..."})}function NN({db:s,user:t,userProfile:i}){const[r,l]=ct.useState(null),[u,d]=ct.useState([]),[p,g]=ct.useState([]),[y,T]=ct.useState([]),[b,C]=ct.useState(""),[B,H]=ct.useState(!1),G=i?.partnerId;ct.useEffect(()=>{if(!G)return;(async()=>{const at=await qp(de(s,"users",G));at.exists()&&l(at.data())})()},[G,s]),ct.useEffect(()=>{if(!t)return;const tt=Hn(Ee(s,"habitos"),an("userId","==",t.uid)),at=as(tt,pt=>{d(pt.docs.map(wt=>({id:wt.id,...wt.data()})))});return()=>at()},[t,s]),ct.useEffect(()=>{if(!G)return;const tt=Hn(Ee(s,"habitos"),an("userId","==",G)),at=as(tt,pt=>{g(pt.docs.map(wt=>({id:wt.id,...wt.data()})))});return()=>at()},[G,s]),ct.useEffect(()=>{if(!t)return;const tt=Hn(Ee(s,"couple_kisses"),an("toUid","==",t.uid)),at=as(tt,pt=>{const wt=pt.docs.map(Ct=>({id:Ct.id,...Ct.data()}));wt.sort((Ct,N)=>(N.createdAt?.seconds||0)-(Ct.createdAt?.seconds||0)),T(wt.slice(0,5))});return()=>at()},[t,s]);const Q=async tt=>{if(tt.preventDefault(),!!G){H(!0);try{await fs(Ee(s,"couple_kisses"),{fromUid:t.uid,toUid:G,message:b.trim(),createdAt:ds()}),await fs(Ee(s,"notifications"),{userId:G,type:"couple_kiss",fromUid:t.uid,fromEmail:t.email,fromDisplayName:i?.displayName||t.email.split("@")[0],message:b.trim(),read:!1,createdAt:ds()}),C(""),alert("Beso enviado! ")}catch(at){console.error("Error sending kiss:",at)}finally{H(!1)}}},et=async()=>{if(confirm("Ests seguro de que quieres desvincular tu pareja? Esta accin no se puede deshacer."))try{await ni(de(s,"users",t.uid),{partnerId:null}),await ni(de(s,"users",G),{partnerId:null}),alert("Pareja desvinculada.")}catch(tt){console.error("Error unlinking couple:",tt),alert("Error al desvincular. Intntalo de nuevo.")}};return G?r?A.jsxs("div",{className:"space-y-6",children:[A.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-500 rounded-2xl p-6 text-white shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[A.jsx(tr,{size:24,fill:"currentColor"}),"Espacio de Pareja"]}),A.jsxs("p",{className:"text-pink-100 mt-1",children:["Con ",r.displayName||r.email.split("@")[0]]})]}),A.jsx("button",{onClick:et,className:"text-pink-100 hover:text-white text-xs font-bold px-3 py-1.5 border border-pink-200/50 rounded-lg hover:bg-white/10 transition-colors",children:"Desvincular"})]})}),A.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-pink-100 shadow-sm",children:[A.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[A.jsx(tr,{size:20,className:"text-pink-600",fill:"currentColor"}),"Beso de nimo"]}),A.jsxs("form",{onSubmit:Q,className:"space-y-3",children:[A.jsx(fr,{value:b,onChange:tt=>C(tt.target.value),placeholder:"Mensaje opcional (ej: Vas genial!)",className:"text-sm"}),A.jsxs(sa,{type:"submit",disabled:B,className:"w-full flex items-center justify-center gap-2",children:[A.jsx(C1,{size:18}),B?"Enviando...":"Enviar Beso "]})]}),y.length>0&&A.jsxs("div",{className:"mt-6",children:[A.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase mb-3",children:"Besos Recibidos"}),A.jsx("div",{className:"space-y-2",children:y.map(tt=>A.jsx("div",{className:"bg-pink-50 p-3 rounded-lg border border-pink-100",children:A.jsxs("div",{className:"flex items-start gap-2",children:[A.jsx(tr,{size:14,className:"text-pink-600 mt-0.5 flex-shrink-0",fill:"currentColor"}),A.jsxs("div",{className:"flex-1",children:[A.jsx("p",{className:"text-xs text-slate-500",children:tt.createdAt?.toDate?.()?.toLocaleDateString()||"Reciente"}),tt.message&&A.jsxs("p",{className:"text-sm text-slate-700 italic mt-1",children:['"',tt.message,'"']})]})]})},tt.id))})]})]}),A.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[A.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm",children:[A.jsxs("h3",{className:"text-md font-bold text-slate-800 mb-4 flex items-center gap-2",children:[A.jsx(tu,{size:18,className:"text-indigo-600"}),"Tus Objetivos"]}),A.jsx("div",{className:"space-y-2",children:u.length===0?A.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"Sin objetivos"}):u.map(tt=>A.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg",children:[A.jsx("p",{className:"text-sm font-medium text-slate-700",children:tt.title}),A.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[A.jsxs("span",{className:"text-xs text-slate-500",children:["Racha: ",tt.streak," das"]}),A.jsxs("span",{className:"text-xs text-indigo-600",children:[" ",tt.completions?.length||0," completados"]})]})]},tt.id))})]}),A.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm",children:[A.jsxs("h3",{className:"text-md font-bold text-slate-800 mb-4 flex items-center gap-2",children:[A.jsx(tu,{size:18,className:"text-pink-600"}),"Objetivos de ",r.displayName||r.email.split("@")[0]]}),A.jsx("div",{className:"space-y-2",children:p.length===0?A.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"Sin objetivos"}):p.map(tt=>A.jsxs("div",{className:"p-3 bg-pink-50 rounded-lg border border-pink-100",children:[A.jsx("p",{className:"text-sm font-medium text-slate-700",children:tt.title}),A.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[A.jsxs("span",{className:"text-xs text-slate-500",children:["Racha: ",tt.streak," das"]}),A.jsxs("span",{className:"text-xs text-pink-600",children:[" ",tt.completions?.length||0," completados"]})]})]},tt.id))})]})]})]}):A.jsx("div",{className:"p-8 text-center text-slate-400",children:"Cargando..."}):A.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center border border-slate-100 shadow-sm",children:[A.jsx(tr,{size:40,className:"text-slate-300 mx-auto mb-4"}),A.jsx("p",{className:"text-slate-500",children:"An no tienes pareja. Invita a alguien desde tu lista de seguidos."})]})}function DN({db:s,user:t,userProfile:i,onLogout:r}){const[l,u]=ct.useState([]),[d,p]=ct.useState(""),[g,y]=ct.useState("me"),[T,b]=ct.useState(null),[C,B]=ct.useState(!1),[H,G]=ct.useState(!1),[Q,et]=ct.useState("following"),[tt,at]=ct.useState(0),pt=!!i?.partnerId;ct.useEffect(()=>{if(!t)return;const w=Ee(s,"habitos"),V=Hn(w,an("userId","==",t.uid)),D=as(V,I=>{const qt=I.docs.map(re=>({id:re.id,...re.data()}));qt.sort((re,K)=>(K.createdAt?.seconds||0)-(re.createdAt?.seconds||0)),u(qt)});return(async()=>{const I=Hn(Ee(s,"users"),an("following","array-contains",t.uid)),qt=await Ch(I);at(qt.size)})(),()=>D()},[t,s]);const wt=async w=>{if(w.preventDefault(),!(!d.trim()||!t))try{await fs(Ee(s,"habitos"),{title:d,userId:t.uid,userName:t.email.split("@")[0],createdAt:ds(),completions:[],streak:0}),p("")}catch(V){console.error(V)}},Ct=async w=>{const V=new Date().toLocaleDateString("en-CA"),D=w.completions.includes(V);let U=D?w.completions.filter(qt=>qt!==V):[...w.completions,V],I=D?Math.max(0,w.streak-1):w.streak+1;await ni(de(s,"habitos",w.id),{completions:U,streak:I})},N=async w=>{confirm("Eliminar?")&&await Fm(de(s,"habitos",w))},R=w=>{et(w),G(!0)};return A.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-800 pb-20",children:[A.jsx("header",{className:"bg-white px-4 py-3 shadow-sm sticky top-0 z-10",children:A.jsxs("div",{className:"max-w-3xl mx-auto flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>B(!0),children:[A.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center text-white shadow-md overflow-hidden",children:i?.photoURL?A.jsx("img",{src:i.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):A.jsx("span",{className:"font-bold text-lg",children:(i?.displayName||t.email)[0].toUpperCase()})}),A.jsxs("div",{className:"hidden sm:block",children:[A.jsxs("h2",{className:"font-bold text-sm leading-tight",children:["Hola, ",i?.displayName||t.email.split("@")[0]]}),A.jsx("p",{className:"text-xs text-slate-400",children:"Ver Perfil"})]})]}),A.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[A.jsxs("div",{className:"flex gap-2 text-xs font-medium text-slate-600",children:[A.jsxs("button",{onClick:()=>R("followers"),className:"hover:text-indigo-600 transition-colors",children:[A.jsx("span",{className:"font-bold text-slate-800",children:tt})," Seguidores"]}),A.jsx("span",{className:"text-slate-300",children:"|"}),A.jsxs("button",{onClick:()=>R("following"),className:"hover:text-indigo-600 transition-colors",children:[A.jsx("span",{className:"font-bold text-slate-800",children:i?.following?.length||0})," Seguidos"]})]}),A.jsx("div",{className:"h-6 w-px bg-slate-200 mx-1"}),A.jsx(bN,{db:s,user:t}),A.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:bg-slate-100 rounded-full transition-colors",title:"Cerrar Sesin",children:A.jsx(tN,{size:18})})]})]})}),A.jsxs("main",{className:"max-w-3xl mx-auto p-4 space-y-6",children:[A.jsxs("div",{className:"flex p-1 bg-white rounded-xl shadow-sm border border-slate-100 sticky top-20 z-0",children:[A.jsxs("button",{onClick:()=>y("me"),className:`flex-1 py-2.5 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-all ${g==="me"?"bg-indigo-50 text-indigo-600 shadow-sm":"text-slate-500 hover:bg-slate-50"}`,children:[A.jsx(tu,{size:18}),A.jsx("span",{className:"hidden sm:inline",children:"Mis Objetivos"})]}),A.jsxs("button",{onClick:()=>y("community"),className:`flex-1 py-2.5 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-all ${g==="community"?"bg-indigo-50 text-indigo-600 shadow-sm":"text-slate-500 hover:bg-slate-50"}`,children:[A.jsx(x1,{size:18}),A.jsx("span",{className:"hidden sm:inline",children:"Comunidad"})]}),pt&&A.jsxs("button",{onClick:()=>y("couple"),className:`flex-1 py-2.5 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-all ${g==="couple"?"bg-pink-50 text-pink-600 shadow-sm":"text-slate-500 hover:bg-slate-50"}`,children:[A.jsx(tr,{size:18}),A.jsx("span",{className:"hidden sm:inline",children:"Pareja"})]})]}),A.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",children:[g==="me"&&A.jsxs("div",{className:"space-y-6",children:[A.jsxs("form",{onSubmit:wt,className:"relative group",children:[A.jsx(fr,{value:d,onChange:w=>p(w.target.value),placeholder:"Qu quieres lograr hoy?",className:"pr-14 shadow-sm border-slate-200 focus:border-indigo-500"}),A.jsx("button",{type:"submit",disabled:!d.trim(),className:"absolute right-2 top-2 p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-all active:scale-95 shadow-md shadow-indigo-200",children:A.jsx(I1,{size:20})})]}),A.jsxs("div",{className:"space-y-3",children:[l.map(w=>A.jsx(SN,{habit:w,onToggle:()=>Ct(w),onDelete:()=>N(w.id),isOwner:!0},w.id)),l.length===0&&A.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-dashed border-slate-200",children:[A.jsx("div",{className:"w-16 h-16 bg-indigo-50 text-indigo-300 rounded-full flex items-center justify-center mx-auto mb-4",children:A.jsx(tu,{size:32})}),A.jsx("p",{className:"text-slate-500 font-medium",children:"No tienes objetivos activos."}),A.jsx("p",{className:"text-sm text-slate-400",children:"Comienza agregando uno arriba!"})]})]})]}),g==="community"&&(T?A.jsx(xN,{db:s,user:t,challengeId:T,onBack:()=>b(null)}):A.jsx(CN,{db:s,user:t,onSelectChallenge:b})),g==="couple"&&pt&&A.jsx(NN,{db:s,user:t,userProfile:i})]})]}),C&&A.jsx(wN,{user:t,userProfile:i,db:s,onClose:()=>B(!1),habits:l}),A.jsx(RN,{isOpen:H,onClose:()=>G(!1),initialTab:Q,db:s,currentUser:t,userProfile:i})]})}const ON={apiKey:"AIzaSyBRx7N3mNQEmGG7B7fW2sG5ntwWHk0TE3U",authDomain:"habitos-pareja.firebaseapp.com",projectId:"habitos-pareja",storageBucket:"habitos-pareja.firebasestorage.app",messagingSenderId:"456771119690",appId:"1:456771119690:web:9c208c7f3e00391bb014b3",measurementId:"G-ZHYZWPE4D4"},N1=cE(ON),Zc=yR(N1),Jc=px(N1);function MN(){const[s,t]=ct.useState(null),[i,r]=ct.useState(null),[l,u]=ct.useState("loading"),[d,p]=ct.useState("");ct.useEffect(()=>{const b=r2(Zc,async C=>{if(C){t(C);const B=as(de(Jc,"users",C.uid),H=>{if(H.exists())r(H.data());else{const G={uid:C.uid,email:C.email,following:[]};Z0(de(Jc,"users",C.uid),G),r(G)}},H=>{console.error("Error listening to user profile:",H)});return u("dashboard"),()=>B()}else t(null),r(null),u("login")});return()=>b()},[]);const g=async(b,C)=>{p("");try{await n2(Zc,b,C)}catch(B){console.error(B),p("Error al entrar. Revisa tu correo y contrasea.")}},y=async(b,C)=>{p("");try{const H=(await e2(Zc,b,C)).user,G={uid:H.uid,email:H.email,following:[]};await Z0(de(Jc,"users",H.uid),G)}catch(B){console.error(B),B.code==="auth/email-already-in-use"?p("Este correo ya est registrado."):B.code==="auth/weak-password"?p("La contrasea debe tener al menos 6 caracteres."):p("Error al registrarse: "+B.message)}},T=async()=>{await a2(Zc),u("login")};return l==="loading"?A.jsx("div",{className:"min-h-screen flex items-center justify-center text-rose-500",children:"Cargando..."}):l==="login"||l==="register"?A.jsx(AN,{onLogin:g,onRegister:y,errorMsg:d,setErrorMsg:p}):A.jsx(DN,{db:Jc,user:s,userProfile:i,onLogout:T})}_S.createRoot(document.getElementById("root")).render(A.jsx(cS.StrictMode,{children:A.jsx(MN,{})}));
