(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function W0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Jd={exports:{}},Dl={};var hv;function ub(){if(hv)return Dl;hv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Dl.Fragment=e,Dl.jsx=i,Dl.jsxs=i,Dl}var fv;function cb(){return fv||(fv=1,Jd.exports=ub()),Jd.exports}var T=cb(),Wd={exports:{}},Te={};var dv;function hb(){if(dv)return Te;dv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function B(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,Z={};function ne(M,J,se){this.props=M,this.context=J,this.refs=Z,this.updater=se||q}ne.prototype.isReactComponent={},ne.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},ne.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ee(){}ee.prototype=ne.prototype;function ae(M,J,se){this.props=M,this.context=J,this.refs=Z,this.updater=se||q}var ge=ae.prototype=new ee;ge.constructor=ae,G(ge,ne.prototype),ge.isPureReactComponent=!0;var Re=Array.isArray;function be(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(M,J,se){var le=se.ref;return{$$typeof:s,type:M,key:J,ref:le!==void 0?le:null,props:se}}function V(M,J){return C(M.type,J,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function U(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return J[se]})}var I=/\/+/g;function qe(M,J){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):J.toString(36)}function at(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(be,be):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,J,se,le,ve){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var Le=!1;if(M===null)Le=!0;else switch(Ce){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(M.$$typeof){case s:case e:Le=!0;break;case A:return Le=M._init,Q(Le(M._payload),J,se,le,ve)}}if(Le)return ve=ve(M),Le=le===""?"."+qe(M,0):le,Re(ve)?(se="",Le!=null&&(se=Le.replace(I,"$&/")+"/"),Q(ve,J,se,"",function(_r){return _r})):ve!=null&&(D(ve)&&(ve=V(ve,se+(ve.key==null||M&&M.key===ve.key?"":(""+ve.key).replace(I,"$&/")+"/")+Le)),J.push(ve)),1;Le=0;var Vt=le===""?".":le+":";if(Re(M))for(var ot=0;ot<M.length;ot++)le=M[ot],Ce=Vt+qe(le,ot),Le+=Q(le,J,se,Ce,ve);else if(ot=B(M),typeof ot=="function")for(M=ot.call(M),ot=0;!(le=M.next()).done;)le=le.value,Ce=Vt+qe(le,ot++),Le+=Q(le,J,se,Ce,ve);else if(Ce==="object"){if(typeof M.then=="function")return Q(at(M),J,se,le,ve);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ie(M,J,se){if(M==null)return M;var le=[],ve=0;return Q(M,le,"","",function(Ce){return J.call(se,Ce,ve++)}),le}function me(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var Pe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Qe={map:ie,forEach:function(M,J,se){ie(M,function(){J.apply(this,arguments)},se)},count:function(M){var J=0;return ie(M,function(){J++}),J},toArray:function(M){return ie(M,function(J){return J})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Te.Activity=S,Te.Children=Qe,Te.Component=ne,Te.Fragment=i,Te.Profiler=l,Te.PureComponent=ae,Te.StrictMode=r,Te.Suspense=g,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Te.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},Te.cache=function(M){return function(){return M.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(M,J,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=G({},M.props),ve=M.key;if(J!=null)for(Ce in J.key!==void 0&&(ve=""+J.key),J)!w.call(J,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&J.ref===void 0||(le[Ce]=J[Ce]);var Ce=arguments.length-2;if(Ce===1)le.children=se;else if(1<Ce){for(var Le=Array(Ce),Vt=0;Vt<Ce;Vt++)Le[Vt]=arguments[Vt+2];le.children=Le}return C(M.type,ve,le)},Te.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Te.createElement=function(M,J,se){var le,ve={},Ce=null;if(J!=null)for(le in J.key!==void 0&&(Ce=""+J.key),J)w.call(J,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ve[le]=J[le]);var Le=arguments.length-2;if(Le===1)ve.children=se;else if(1<Le){for(var Vt=Array(Le),ot=0;ot<Le;ot++)Vt[ot]=arguments[ot+2];ve.children=Vt}if(M&&M.defaultProps)for(le in Le=M.defaultProps,Le)ve[le]===void 0&&(ve[le]=Le[le]);return C(M,Ce,ve)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(M){return{$$typeof:p,render:M}},Te.isValidElement=D,Te.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:me}},Te.memo=function(M,J){return{$$typeof:y,type:M,compare:J===void 0?null:J}},Te.startTransition=function(M){var J=R.T,se={};R.T=se;try{var le=M(),ve=R.S;ve!==null&&ve(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(be,Pe)}catch(Ce){Pe(Ce)}finally{J!==null&&se.types!==null&&(J.types=se.types),R.T=J}},Te.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Te.use=function(M){return R.H.use(M)},Te.useActionState=function(M,J,se){return R.H.useActionState(M,J,se)},Te.useCallback=function(M,J){return R.H.useCallback(M,J)},Te.useContext=function(M){return R.H.useContext(M)},Te.useDebugValue=function(){},Te.useDeferredValue=function(M,J){return R.H.useDeferredValue(M,J)},Te.useEffect=function(M,J){return R.H.useEffect(M,J)},Te.useEffectEvent=function(M){return R.H.useEffectEvent(M)},Te.useId=function(){return R.H.useId()},Te.useImperativeHandle=function(M,J,se){return R.H.useImperativeHandle(M,J,se)},Te.useInsertionEffect=function(M,J){return R.H.useInsertionEffect(M,J)},Te.useLayoutEffect=function(M,J){return R.H.useLayoutEffect(M,J)},Te.useMemo=function(M,J){return R.H.useMemo(M,J)},Te.useOptimistic=function(M,J){return R.H.useOptimistic(M,J)},Te.useReducer=function(M,J,se){return R.H.useReducer(M,J,se)},Te.useRef=function(M){return R.H.useRef(M)},Te.useState=function(M){return R.H.useState(M)},Te.useSyncExternalStore=function(M,J,se){return R.H.useSyncExternalStore(M,J,se)},Te.useTransition=function(){return R.H.useTransition()},Te.version="19.2.0",Te}var mv;function Gm(){return mv||(mv=1,Wd.exports=hb()),Wd.exports}var ce=Gm();const fb=W0(ce);var em={exports:{}},Ol={},tm={exports:{}},nm={};var pv;function db(){return pv||(pv=1,(function(s){function e(Q,ie){var me=Q.length;Q.push(ie);e:for(;0<me;){var Pe=me-1>>>1,Qe=Q[Pe];if(0<l(Qe,ie))Q[Pe]=ie,Q[me]=Qe,me=Pe;else break e}}function i(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ie=Q[0],me=Q.pop();if(me!==ie){Q[0]=me;e:for(var Pe=0,Qe=Q.length,M=Qe>>>1;Pe<M;){var J=2*(Pe+1)-1,se=Q[J],le=J+1,ve=Q[le];if(0>l(se,me))le<Qe&&0>l(ve,se)?(Q[Pe]=ve,Q[le]=me,Pe=le):(Q[Pe]=se,Q[J]=me,Pe=J);else if(le<Qe&&0>l(ve,me))Q[Pe]=ve,Q[le]=me,Pe=le;else break e}}return ie}function l(Q,ie){var me=Q.sortIndex-ie.sortIndex;return me!==0?me:Q.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],A=1,S=null,x=3,B=!1,q=!1,G=!1,Z=!1,ne=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function ge(Q){for(var ie=i(y);ie!==null;){if(ie.callback===null)r(y);else if(ie.startTime<=Q)r(y),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=i(y)}}function Re(Q){if(G=!1,ge(Q),!q)if(i(g)!==null)q=!0,be||(be=!0,U());else{var ie=i(y);ie!==null&&at(Re,ie.startTime-Q)}}var be=!1,R=-1,w=5,C=-1;function V(){return Z?!0:!(s.unstable_now()-C<w)}function D(){if(Z=!1,be){var Q=s.unstable_now();C=Q;var ie=!0;try{e:{q=!1,G&&(G=!1,ee(R),R=-1),B=!0;var me=x;try{t:{for(ge(Q),S=i(g);S!==null&&!(S.expirationTime>Q&&V());){var Pe=S.callback;if(typeof Pe=="function"){S.callback=null,x=S.priorityLevel;var Qe=Pe(S.expirationTime<=Q);if(Q=s.unstable_now(),typeof Qe=="function"){S.callback=Qe,ge(Q),ie=!0;break t}S===i(g)&&r(g),ge(Q)}else r(g);S=i(g)}if(S!==null)ie=!0;else{var M=i(y);M!==null&&at(Re,M.startTime-Q),ie=!1}}break e}finally{S=null,x=me,B=!1}ie=void 0}}finally{ie?U():be=!1}}}var U;if(typeof ae=="function")U=function(){ae(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,qe=I.port2;I.port1.onmessage=D,U=function(){qe.postMessage(null)}}else U=function(){ne(D,0)};function at(Q,ie){R=ne(function(){Q(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(Q){switch(x){case 1:case 2:case 3:var ie=3;break;default:ie=x}var me=x;x=ie;try{return Q()}finally{x=me}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var me=x;x=Q;try{return ie()}finally{x=me}},s.unstable_scheduleCallback=function(Q,ie,me){var Pe=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Pe+me:Pe):me=Pe,Q){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=me+Qe,Q={id:A++,callback:ie,priorityLevel:Q,startTime:me,expirationTime:Qe,sortIndex:-1},me>Pe?(Q.sortIndex=me,e(y,Q),i(g)===null&&Q===i(y)&&(G?(ee(R),R=-1):G=!0,at(Re,me-Pe))):(Q.sortIndex=Qe,e(g,Q),q||B||(q=!0,be||(be=!0,U()))),Q},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(Q){var ie=x;return function(){var me=x;x=ie;try{return Q.apply(this,arguments)}finally{x=me}}}})(nm)),nm}var gv;function mb(){return gv||(gv=1,tm.exports=db()),tm.exports}var im={exports:{}},Zt={};var yv;function pb(){if(yv)return Zt;yv=1;var s=Gm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zt.createPortal=function(g,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,A)},Zt.flushSync=function(g){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=A,r.d.f()}},Zt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Zt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Zt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:B}):A==="script"&&r.d.X(g,{crossOrigin:S,integrity:x,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Zt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Zt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin);r.d.L(g,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Zt.preloadModule=function(g,y){if(typeof g=="string")if(y){var A=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Zt.requestFormReset=function(g){r.d.r(g)},Zt.unstable_batchedUpdates=function(g,y){return g(y)},Zt.useFormState=function(g,y,A){return d.H.useFormState(g,y,A)},Zt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var _v;function gb(){if(_v)return im.exports;_v=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),im.exports=pb(),im.exports}var vv;function yb(){if(vv)return Ol;vv=1;var s=mb(),e=Gm(),i=gb();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=f;break}if(E===o){_=!0,o=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=h;break}if(E===o){_=!0,o=f,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case ne:return"Profiler";case Z:return"StrictMode";case Re:return"Suspense";case be:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case ae:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case ge:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:qe(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return qe(t(n))}catch{}}return null}var at=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Pe=[],Qe=-1;function M(t){return{current:t}}function J(t){0>Qe||(t.current=Pe[Qe],Pe[Qe]=null,Qe--)}function se(t,n){Qe++,Pe[Qe]=t.current,t.current=n}var le=M(null),ve=M(null),Ce=M(null),Le=M(null);function Vt(t,n){switch(se(Ce,n),se(ve,t),se(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?V_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=V_(n),t=k_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(le),se(le,t)}function ot(){J(le),J(ve),J(Ce)}function _r(t){t.memoizedState!==null&&se(Le,t);var n=le.current,a=k_(n,t.type);n!==a&&(se(ve,t),se(le,a))}function ua(t){ve.current===t&&(J(le),J(ve)),Le.current===t&&(J(Le),Cl._currentValue=me)}var ca,ha;function ai(t){if(ca===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ca=n&&n[1]||"",ha=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ca+t+ha}var Co=!1;function vr(t,n){if(!t||Co)return"";Co=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var z=F}Reflect.construct(t,[],$)}else{try{$.call()}catch(F){z=F}t.call($.prototype)}}else{try{throw Error()}catch(F){z=F}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&z&&typeof F.stack=="string")return[F.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var N=_.split(`
`),P=E.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===P.length)for(o=N.length-1,h=P.length-1;1<=o&&0<=h&&N[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==P[h]){var K=`
`+N[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=h);break}}}finally{Co=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ai(a):""}function Io(t,n){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return t.child!==n&&n!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return vr(t.type,!1);case 11:return vr(t.type.render,!1);case 1:return vr(t.type,!0);case 31:return ai("Activity");default:return""}}function xo(t){try{var n="",a=null;do n+=Io(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var At=Object.prototype.hasOwnProperty,kt=s.unstable_scheduleCallback,gs=s.unstable_cancelCallback,Wh=s.unstable_shouldYield,yu=s.unstable_requestPaint,sn=s.unstable_now,Er=s.unstable_getCurrentPriorityLevel,No=s.unstable_ImmediatePriority,Do=s.unstable_UserBlockingPriority,ys=s.unstable_NormalPriority,ef=s.unstable_LowPriority,_u=s.unstable_IdlePriority,vu=s.log,Eu=s.unstable_setDisableYieldValue,Gn=null,qt=null;function xn(t){if(typeof vu=="function"&&Eu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Gn,t)}catch{}}var gt=Math.clz32?Math.clz32:Au,Tu=Math.log,fa=Math.LN2;function Au(t){return t>>>=0,t===0?32:31-(Tu(t)/fa|0)|0}var oi=256,Tr=262144,bt=4194304;function li(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ui(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=li(o):(_&=E,_!==0?h=li(_):a||(a=E&~t,a!==0&&(h=li(a))))):(E=o&~f,E!==0?h=li(E):_!==0?h=li(_):a||(a=o&~t,a!==0&&(h=li(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Qn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function tf(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bu(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function ci(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ar(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nf(t,n,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,P=t.hiddenUpdates;for(a=_&~a;0<a;){var K=31-gt(a),$=1<<K;E[K]=0,N[K]=-1;var z=P[K];if(z!==null)for(P[K]=null,K=0;K<z.length;K++){var F=z[K];F!==null&&(F.lane&=-536870913)}a&=~$}o!==0&&br(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function br(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-gt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Oo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-gt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Mo(t,n){var a=n&-n;return a=(a&42)!==0?1:Sr(a),(a&(t.suspendedLanes|n))!==0?0:a}function Sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Su(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:sv(t.type))}function Kn(t,n){var a=ie.p;try{return ie.p=t,n()}finally{ie.p=a}}var Yn=Math.random().toString(36).slice(2),St="__reactFiber$"+Yn,jt="__reactProps$"+Yn,hi="__reactContainer$"+Yn,da="__reactEvents$"+Yn,sf="__reactListeners$"+Yn,wu="__reactHandles$"+Yn,Ru="__reactResources$"+Yn,fi="__reactMarker$"+Yn;function ma(t){delete t[St],delete t[jt],delete t[da],delete t[sf],delete t[wu]}function di(t){var n=t[St];if(n)return n;for(var a=t.parentNode;a;){if(n=a[hi]||a[St]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=q_(t);t!==null;){if(a=t[St])return a;t=q_(t)}return n}t=a,a=t.parentNode}return null}function Nn(t){if(t=t[St]||t[hi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function _n(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function mi(t){var n=t[Ru];return n||(n=t[Ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function wt(t){t[fi]=!0}var Vo=new Set,ko={};function pi(t,n){gi(t,n),gi(t+"Capture",n)}function gi(t,n){for(ko[t]=n,t=0;t<n.length;t++)Vo.add(n[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},jo={};function Cu(t){return At.call(jo,t)?!0:At.call(Lo,t)?!1:Uo.test(t)?jo[t]=!0:(Lo[t]=!0,!1)}function pa(t,n,a){if(Cu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function vn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Rt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _s(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Po(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ke(t){if(!t._valueTracker){var n=_s(t)?"checked":"value";t._valueTracker=Po(t,n,""+t[n])}}function wr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=_s(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function yi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rr=/[\n"\\]/g;function un(t){return t.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ga(t,n,a,o,h,f,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Pt(n)):t.value!==""+Pt(n)&&(t.value=""+Pt(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?zo(t,_,Pt(n)):a!=null?zo(t,_,Pt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Pt(E):t.removeAttribute("name")}function Iu(t,n,a,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ke(t);return}a=a!=null?""+Pt(a):"",n=n!=null?""+Pt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function zo(t,n,a){n==="number"&&yi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function vs(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function xu(t,n,a){if(n!=null&&(n=""+Pt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Pt(a):""}function Es(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(at(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Pt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ke(t)}function cn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||Nu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function qo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Bo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Bo(t,f,n[f])}function ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return Ts.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xn(){}var Ho=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var As=null,_i=null;function Cr(t){var n=Nn(t);if(n&&(t=n.stateNode)){var a=t[jt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ga(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[jt]||null;if(!h)throw Error(r(90));ga(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&wr(o)}break e;case"textarea":xu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&vs(t,!!a.multiple,n,!1)}}}var va=!1;function bs(t,n,a){if(va)return t(n,a);va=!0;try{var o=t(n);return o}finally{if(va=!1,(As!==null||_i!==null)&&(Sc(),As&&(n=As,t=_i,_i=As=null,Cr(n),t)))for(n=0;n<t.length;n++)Cr(t[n])}}function $n(t,n){var a=t.stateNode;if(a===null)return null;var o=a[jt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(On)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Ir=!1}var vi=null,Fo=null,xr=null;function Go(){if(xr)return xr;var t,n=Fo,a=n.length,o,h="value"in vi?vi.value:vi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&n[a-o]===h[f-o];o++);return xr=h.slice(t,1<o?1-o:void 0)}function Nr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function Zn(){return!1}function Ht(t){function n(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:Zn,this.isPropagationStopped=Zn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Ht(Bi),Ss=S({},Bi,{view:0,detail:0}),Qo=Ht(Ss),ws,Ea,Ti,Ta=S({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(ws=t.screenX-Ti.screenX,Ea=t.screenY-Ti.screenY):Ea=ws=0,Ti=t),ws)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),Ko=Ht(Ta),Dr=S({},Ta,{dataTransfer:0}),Ou=Ht(Dr),Mu=S({},Ss,{relatedTarget:0}),Or=Ht(Mu),Yo=S({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Vu=Ht(Yo),Aa=S({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ku=Ht(Aa),Uu=S({},Bi,{data:0}),Ai=Ht(Uu),Lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Pu[t])?!!n[t]:!1}function Rs(){return zu}var rn=S({},Ss,{key:function(t){if(t.key){var n=Lu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Nr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ju[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(t){return t.type==="keypress"?Nr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bu=Ht(rn),qu=S({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Ht(qu),c=S({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),m=Ht(c),v=S({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ht(v),L=S({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Ht(L),te=S({},Bi,{newState:0,oldState:0}),Se=Ht(te),yt=[9,13,27,32],He=On&&"CompositionEvent"in window,lt=null;On&&"documentMode"in document&&(lt=document.documentMode);var Mn=On&&"TextEvent"in window&&!lt,bi=On&&(!He||lt&&8<lt&&11>=lt),Jn=" ",Wn=!1;function Mr(t,n){switch(t){case"keyup":return yt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function M1(t,n){switch(t){case"compositionend":return ba(n);case"keypress":return n.which!==32?null:(Wn=!0,Jn);case"textInput":return t=n.data,t===Jn&&Wn?null:t;default:return null}}function V1(t,n){if(Sa)return t==="compositionend"||!He&&Mr(t,n)?(t=Go(),xr=Fo=vi=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bi&&n.locale!=="ko"?null:n.data;default:return null}}var k1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!k1[t.type]:n==="textarea"}function Qp(t,n,a,o){As?_i?_i.push(o):_i=[o]:As=o,n=Dc(n,"onChange"),0<n.length&&(a=new Ei("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Xo=null,$o=null;function U1(t){I_(t,0)}function Hu(t){var n=_n(t);if(wr(n))return t}function Kp(t,n){if(t==="change")return n}var Yp=!1;if(On){var rf;if(On){var af="oninput"in document;if(!af){var Xp=document.createElement("div");Xp.setAttribute("oninput","return;"),af=typeof Xp.oninput=="function"}rf=af}else rf=!1;Yp=rf&&(!document.documentMode||9<document.documentMode)}function $p(){Xo&&(Xo.detachEvent("onpropertychange",Zp),$o=Xo=null)}function Zp(t){if(t.propertyName==="value"&&Hu($o)){var n=[];Qp(n,$o,t,Dn(t)),bs(U1,n)}}function L1(t,n,a){t==="focusin"?($p(),Xo=n,$o=a,Xo.attachEvent("onpropertychange",Zp)):t==="focusout"&&$p()}function j1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu($o)}function P1(t,n){if(t==="click")return Hu(n)}function z1(t,n){if(t==="input"||t==="change")return Hu(n)}function B1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var En=typeof Object.is=="function"?Object.is:B1;function Zo(t,n){if(En(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!At.call(n,h)||!En(t[h],n[h]))return!1}return!0}function Jp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wp(t,n){var a=Jp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jp(a)}}function eg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?eg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function tg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=yi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=yi(t.document)}return n}function of(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var q1=On&&"documentMode"in document&&11>=document.documentMode,wa=null,lf=null,Jo=null,uf=!1;function ng(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uf||wa==null||wa!==yi(o)||(o=wa,"selectionStart"in o&&of(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Jo&&Zo(Jo,o)||(Jo=o,o=Dc(lf,"onSelect"),0<o.length&&(n=new Ei("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=wa)))}function Vr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ra={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},cf={},ig={};On&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function kr(t){if(cf[t])return cf[t];if(!Ra[t])return t;var n=Ra[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in ig)return cf[t]=n[a];return t}var sg=kr("animationend"),rg=kr("animationiteration"),ag=kr("animationstart"),H1=kr("transitionrun"),F1=kr("transitionstart"),G1=kr("transitioncancel"),og=kr("transitionend"),lg=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hf.push("scrollEnd");function ei(t,n){lg.set(t,n),pi(n,[t])}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],Ca=0,ff=0;function Gu(){for(var t=Ca,n=ff=Ca=0;n<t;){var a=Vn[n];Vn[n++]=null;var o=Vn[n];Vn[n++]=null;var h=Vn[n];Vn[n++]=null;var f=Vn[n];if(Vn[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&ug(a,h,f)}}function Qu(t,n,a,o){Vn[Ca++]=t,Vn[Ca++]=n,Vn[Ca++]=a,Vn[Ca++]=o,ff|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function df(t,n,a,o){return Qu(t,n,a,o),Ku(t)}function Ur(t,n){return Qu(t,null,null,n),Ku(t)}function ug(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-gt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Ku(t){if(50<El)throw El=0,Ad=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ia={};function Q1(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,n,a,o){return new Q1(t,n,a,o)}function mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hi(t,n){var a=t.alternate;return a===null?(a=Tn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function cg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Yu(t,n,a,o,h,f){var _=0;if(o=t,typeof t=="function")mf(t)&&(_=1);else if(typeof t=="string")_=ZA(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Tn(31,a,n,h),t.elementType=C,t.lanes=f,t;case G:return Lr(a.children,h,f,n);case Z:_=8,h|=24;break;case ne:return t=Tn(12,a,n,h|2),t.elementType=ne,t.lanes=f,t;case Re:return t=Tn(13,a,n,h),t.elementType=Re,t.lanes=f,t;case be:return t=Tn(19,a,n,h),t.elementType=be,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:_=10;break e;case ee:_=9;break e;case ge:_=11;break e;case R:_=14;break e;case w:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Tn(_,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Lr(t,n,a,o){return t=Tn(7,t,o,n),t.lanes=a,t}function pf(t,n,a){return t=Tn(6,t,null,n),t.lanes=a,t}function hg(t){var n=Tn(18,null,null,0);return n.stateNode=t,n}function gf(t,n,a){return n=Tn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var fg=new WeakMap;function kn(t,n){if(typeof t=="object"&&t!==null){var a=fg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:xo(n)},fg.set(t,n),n)}return{value:t,source:n,stack:xo(n)}}var xa=[],Na=0,Xu=null,Wo=0,Un=[],Ln=0,Cs=null,Si=1,wi="";function Fi(t,n){xa[Na++]=Wo,xa[Na++]=Xu,Xu=t,Wo=n}function dg(t,n,a){Un[Ln++]=Si,Un[Ln++]=wi,Un[Ln++]=Cs,Cs=t;var o=Si;t=wi;var h=32-gt(o)-1;o&=~(1<<h),a+=1;var f=32-gt(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Si=1<<32-gt(n)+h|a<<h|o,wi=f+t}else Si=1<<f|a<<h|o,wi=t}function yf(t){t.return!==null&&(Fi(t,1),dg(t,1,0))}function _f(t){for(;t===Xu;)Xu=xa[--Na],xa[Na]=null,Wo=xa[--Na],xa[Na]=null;for(;t===Cs;)Cs=Un[--Ln],Un[Ln]=null,wi=Un[--Ln],Un[Ln]=null,Si=Un[--Ln],Un[Ln]=null}function mg(t,n){Un[Ln++]=Si,Un[Ln++]=wi,Un[Ln++]=Cs,Si=n.id,wi=n.overflow,Cs=t}var Ft=null,nt=null,Ue=!1,Is=null,jn=!1,vf=Error(r(519));function xs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(kn(n,t)),vf}function pg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[St]=t,n[jt]=o,a){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(a=0;a<Al.length;a++)Ne(Al[a],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Ne("invalid",n),Iu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ne("invalid",n);break;case"textarea":Ne("invalid",n),Es(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||O_(n.textContent,a)?(o.popover!=null&&(Ne("beforetoggle",n),Ne("toggle",n)),o.onScroll!=null&&Ne("scroll",n),o.onScrollEnd!=null&&Ne("scrollend",n),o.onClick!=null&&(n.onclick=Xn),n=!0):n=!1,n||xs(t,!0)}function gg(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Ft=Ft.return}}function Da(t){if(t!==Ft)return!1;if(!Ue)return gg(t),Ue=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ld(t.type,t.memoizedProps)),a=!a),a&&nt&&xs(t),gg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=B_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=B_(t)}else n===27?(n=nt,Hs(t.type)?(t=qd,qd=null,nt=t):nt=n):nt=Ft?zn(t.stateNode.nextSibling):null;return!0}function jr(){nt=Ft=null,Ue=!1}function Ef(){var t=Is;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Is=null),t}function el(t){Is===null?Is=[t]:Is.push(t)}var Tf=M(null),Pr=null,Gi=null;function Ns(t,n,a){se(Tf,n._currentValue),n._currentValue=a}function Qi(t){t._currentValue=Tf.current,J(Tf)}function Af(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function bf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Af(f.return,a,t),o||(_=null);break e}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),Af(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Oa(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;En(h.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(h===Le.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&bf(n,t,a,o),n.flags|=262144}function $u(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zr(t){Pr=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return yg(Pr,t)}function Zu(t,n){return Pr===null&&zr(t),yg(t,n)}function yg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(r(308));Gi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Gi=Gi.next=n;return a}var K1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Y1=s.unstable_scheduleCallback,X1=s.unstable_NormalPriority,Ct={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new K1,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&Y1(X1,function(){t.controller.abort()})}var nl=null,wf=0,Ma=0,Va=null;function $1(t,n){if(nl===null){var a=nl=[];wf=0,Ma=Id(),Va={status:"pending",value:void 0,then:function(o){a.push(o)}}}return wf++,n.then(_g,_g),n}function _g(){if(--wf===0&&nl!==null){Va!==null&&(Va.status="fulfilled");var t=nl;nl=null,Ma=0,Va=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Z1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var vg=Q.S;Q.S=function(t,n){n_=sn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&$1(t,n),vg!==null&&vg(t,n)};var Br=M(null);function Rf(){var t=Br.current;return t!==null?t:et.pooledCache}function Ju(t,n){n===null?se(Br,Br.current):se(Br,n.pool)}function Eg(){var t=Rf();return t===null?null:{parent:Ct._currentValue,pool:t}}var ka=Error(r(460)),Cf=Error(r(474)),Wu=Error(r(542)),ec={then:function(){}};function Tg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ag(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Xn,Xn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sg(t),t;default:if(typeof n.status=="string")n.then(Xn,Xn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sg(t),t}throw Hr=n,ka}}function qr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hr=a,ka):a}}var Hr=null;function bg(){if(Hr===null)throw Error(r(459));var t=Hr;return Hr=null,t}function Sg(t){if(t===ka||t===Wu)throw Error(r(483))}var Ua=null,il=0;function tc(t){var n=il;return il+=1,Ua===null&&(Ua=[]),Ag(Ua,t,n)}function sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function nc(t,n){throw n.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function wg(t){function n(k,O){if(t){var j=k.deletions;j===null?(k.deletions=[O],k.flags|=16):j.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Hi(k,O),k.index=0,k.sibling=null,k}function f(k,O,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<O?(k.flags|=67108866,O):j):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,j,Y){return O===null||O.tag!==6?(O=pf(j,k.mode,Y),O.return=k,O):(O=h(O,j),O.return=k,O)}function N(k,O,j,Y){var fe=j.type;return fe===G?K(k,O,j.props.children,Y,j.key):O!==null&&(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&qr(fe)===O.type)?(O=h(O,j.props),sl(O,j),O.return=k,O):(O=Yu(j.type,j.key,j.props,null,k.mode,Y),sl(O,j),O.return=k,O)}function P(k,O,j,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=gf(j,k.mode,Y),O.return=k,O):(O=h(O,j.children||[]),O.return=k,O)}function K(k,O,j,Y,fe){return O===null||O.tag!==7?(O=Lr(j,k.mode,Y,fe),O.return=k,O):(O=h(O,j),O.return=k,O)}function $(k,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=pf(""+O,k.mode,j),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case B:return j=Yu(O.type,O.key,O.props,null,k.mode,j),sl(j,O),j.return=k,j;case q:return O=gf(O,k.mode,j),O.return=k,O;case w:return O=qr(O),$(k,O,j)}if(at(O)||U(O))return O=Lr(O,k.mode,j,null),O.return=k,O;if(typeof O.then=="function")return $(k,tc(O),j);if(O.$$typeof===ae)return $(k,Zu(k,O),j);nc(k,O)}return null}function z(k,O,j,Y){var fe=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return fe!==null?null:E(k,O,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case B:return j.key===fe?N(k,O,j,Y):null;case q:return j.key===fe?P(k,O,j,Y):null;case w:return j=qr(j),z(k,O,j,Y)}if(at(j)||U(j))return fe!==null?null:K(k,O,j,Y,null);if(typeof j.then=="function")return z(k,O,tc(j),Y);if(j.$$typeof===ae)return z(k,O,Zu(k,j),Y);nc(k,j)}return null}function F(k,O,j,Y,fe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(j)||null,E(O,k,""+Y,fe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:return k=k.get(Y.key===null?j:Y.key)||null,N(O,k,Y,fe);case q:return k=k.get(Y.key===null?j:Y.key)||null,P(O,k,Y,fe);case w:return Y=qr(Y),F(k,O,j,Y,fe)}if(at(Y)||U(Y))return k=k.get(j)||null,K(O,k,Y,fe,null);if(typeof Y.then=="function")return F(k,O,j,tc(Y),fe);if(Y.$$typeof===ae)return F(k,O,j,Zu(O,Y),fe);nc(O,Y)}return null}function ue(k,O,j,Y){for(var fe=null,ze=null,he=O,Ie=O=0,Oe=null;he!==null&&Ie<j.length;Ie++){he.index>Ie?(Oe=he,he=null):Oe=he.sibling;var Be=z(k,he,j[Ie],Y);if(Be===null){he===null&&(he=Oe);break}t&&he&&Be.alternate===null&&n(k,he),O=f(Be,O,Ie),ze===null?fe=Be:ze.sibling=Be,ze=Be,he=Oe}if(Ie===j.length)return a(k,he),Ue&&Fi(k,Ie),fe;if(he===null){for(;Ie<j.length;Ie++)he=$(k,j[Ie],Y),he!==null&&(O=f(he,O,Ie),ze===null?fe=he:ze.sibling=he,ze=he);return Ue&&Fi(k,Ie),fe}for(he=o(he);Ie<j.length;Ie++)Oe=F(he,k,Ie,j[Ie],Y),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?Ie:Oe.key),O=f(Oe,O,Ie),ze===null?fe=Oe:ze.sibling=Oe,ze=Oe);return t&&he.forEach(function(Ys){return n(k,Ys)}),Ue&&Fi(k,Ie),fe}function pe(k,O,j,Y){if(j==null)throw Error(r(151));for(var fe=null,ze=null,he=O,Ie=O=0,Oe=null,Be=j.next();he!==null&&!Be.done;Ie++,Be=j.next()){he.index>Ie?(Oe=he,he=null):Oe=he.sibling;var Ys=z(k,he,Be.value,Y);if(Ys===null){he===null&&(he=Oe);break}t&&he&&Ys.alternate===null&&n(k,he),O=f(Ys,O,Ie),ze===null?fe=Ys:ze.sibling=Ys,ze=Ys,he=Oe}if(Be.done)return a(k,he),Ue&&Fi(k,Ie),fe;if(he===null){for(;!Be.done;Ie++,Be=j.next())Be=$(k,Be.value,Y),Be!==null&&(O=f(Be,O,Ie),ze===null?fe=Be:ze.sibling=Be,ze=Be);return Ue&&Fi(k,Ie),fe}for(he=o(he);!Be.done;Ie++,Be=j.next())Be=F(he,k,Ie,Be.value,Y),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?Ie:Be.key),O=f(Be,O,Ie),ze===null?fe=Be:ze.sibling=Be,ze=Be);return t&&he.forEach(function(lb){return n(k,lb)}),Ue&&Fi(k,Ie),fe}function We(k,O,j,Y){if(typeof j=="object"&&j!==null&&j.type===G&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case B:e:{for(var fe=j.key;O!==null;){if(O.key===fe){if(fe=j.type,fe===G){if(O.tag===7){a(k,O.sibling),Y=h(O,j.props.children),Y.return=k,k=Y;break e}}else if(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&qr(fe)===O.type){a(k,O.sibling),Y=h(O,j.props),sl(Y,j),Y.return=k,k=Y;break e}a(k,O);break}else n(k,O);O=O.sibling}j.type===G?(Y=Lr(j.props.children,k.mode,Y,j.key),Y.return=k,k=Y):(Y=Yu(j.type,j.key,j.props,null,k.mode,Y),sl(Y,j),Y.return=k,k=Y)}return _(k);case q:e:{for(fe=j.key;O!==null;){if(O.key===fe)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(k,O.sibling),Y=h(O,j.children||[]),Y.return=k,k=Y;break e}else{a(k,O);break}else n(k,O);O=O.sibling}Y=gf(j,k.mode,Y),Y.return=k,k=Y}return _(k);case w:return j=qr(j),We(k,O,j,Y)}if(at(j))return ue(k,O,j,Y);if(U(j)){if(fe=U(j),typeof fe!="function")throw Error(r(150));return j=fe.call(j),pe(k,O,j,Y)}if(typeof j.then=="function")return We(k,O,tc(j),Y);if(j.$$typeof===ae)return We(k,O,Zu(k,j),Y);nc(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(k,O.sibling),Y=h(O,j),Y.return=k,k=Y):(a(k,O),Y=pf(j,k.mode,Y),Y.return=k,k=Y),_(k)):a(k,O)}return function(k,O,j,Y){try{il=0;var fe=We(k,O,j,Y);return Ua=null,fe}catch(he){if(he===ka||he===Wu)throw he;var ze=Tn(29,he,null,k.mode);return ze.lanes=Y,ze.return=k,ze}finally{}}}var Fr=wg(!0),Rg=wg(!1),Ds=!1;function If(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Os(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Fe&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ku(t),ug(t,null,a),n}return Qu(t,o,n,a),Ku(t)}function rl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Oo(t,a)}}function Nf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Df=!1;function al(){if(Df){var t=Va;if(t!==null)throw t}}function ol(t,n,a,o){Df=!1;var h=t.updateQueue;Ds=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,P=N.next;N.next=null,_===null?f=P:_.next=P,_=N;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==_&&(E===null?K.firstBaseUpdate=P:E.next=P,K.lastBaseUpdate=N))}if(f!==null){var $=h.baseState;_=0,K=P=N=null,E=f;do{var z=E.lane&-536870913,F=z!==E.lane;if(F?(De&z)===z:(o&z)===z){z!==0&&z===Ma&&(Df=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,pe=E;z=n;var We=a;switch(pe.tag){case 1:if(ue=pe.payload,typeof ue=="function"){$=ue.call(We,$,z);break e}$=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=pe.payload,z=typeof ue=="function"?ue.call(We,$,z):ue,z==null)break e;$=S({},$,z);break e;case 2:Ds=!0}}z=E.callback,z!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[z]:F.push(z))}else F={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(P=K=F,N=$):K=K.next=F,_|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(N=$),h.baseState=N,h.firstBaseUpdate=P,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),js|=_,t.lanes=_,t.memoizedState=$}}function Cg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Ig(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Cg(a[t],n)}var La=M(null),ic=M(0);function xg(t,n){t=ts,se(ic,t),se(La,n),ts=t|n.baseLanes}function Of(){se(ic,ts),se(La,La.current)}function Mf(){ts=ic.current,J(La),J(ic)}var An=M(null),Pn=null;function Vs(t){var n=t.alternate;se(_t,_t.current&1),se(An,t),Pn===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(Pn=t)}function Vf(t){se(_t,_t.current),se(An,t),Pn===null&&(Pn=t)}function Ng(t){t.tag===22?(se(_t,_t.current),se(An,t),Pn===null&&(Pn=t)):ks()}function ks(){se(_t,_t.current),se(An,An.current)}function bn(t){J(An),Pn===t&&(Pn=null),J(_t)}var _t=M(0);function sc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||zd(a)||Bd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ki=0,we=null,Ze=null,It=null,rc=!1,ja=!1,Gr=!1,ac=0,ll=0,Pa=null,J1=0;function dt(){throw Error(r(321))}function kf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!En(t[a],n[a]))return!1;return!0}function Uf(t,n,a,o,h,f){return Ki=f,we=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?dy:Zf,Gr=!1,f=a(o,h),Gr=!1,ja&&(f=Og(n,a,o,h)),Dg(t),f}function Dg(t){Q.H=hl;var n=Ze!==null&&Ze.next!==null;if(Ki=0,It=Ze=we=null,rc=!1,ll=0,Pa=null,n)throw Error(r(300));t===null||xt||(t=t.dependencies,t!==null&&$u(t)&&(xt=!0))}function Og(t,n,a,o){we=t;var h=0;do{if(ja&&(Pa=null),ll=0,ja=!1,25<=h)throw Error(r(301));if(h+=1,It=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=my,f=n(a,o)}while(ja);return f}function W1(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?ul(n):n,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(we.flags|=1024),n}function Lf(){var t=ac!==0;return ac=0,t}function jf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Pf(t){if(rc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}rc=!1}Ki=0,It=Ze=we=null,ja=!1,ll=ac=0,Pa=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?we.memoizedState=It=t:It=It.next=t,It}function vt(){if(Ze===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var n=It===null?we.memoizedState:It.next;if(n!==null)It=n,Ze=t;else{if(t===null)throw we.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},It===null?we.memoizedState=It=t:It=It.next=t}return It}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var n=ll;return ll+=1,Pa===null&&(Pa=[]),t=Ag(Pa,t,n),n=we,(It===null?n.memoizedState:It.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?dy:Zf),t}function lc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===ae)return Gt(t)}throw Error(r(438,String(t)))}function zf(t){var n=null,a=we.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=we.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=oc(),we.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function Yi(t,n){return typeof n=="function"?n(t):n}function uc(t){var n=vt();return Bf(n,Ze,t)}function Bf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=_=null,N=null,P=n,K=!1;do{var $=P.lane&-536870913;if($!==P.lane?(De&$)===$:(Ki&$)===$){var z=P.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),$===Ma&&(K=!0);else if((Ki&z)===z){P=P.next,z===Ma&&(K=!0);continue}else $={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(E=N=$,_=f):N=N.next=$,we.lanes|=z,js|=z;$=P.action,Gr&&a(f,$),f=P.hasEagerState?P.eagerState:a(f,$)}else z={lane:$,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(E=N=z,_=f):N=N.next=z,we.lanes|=$,js|=$;P=P.next}while(P!==null&&P!==n);if(N===null?_=f:N.next=E,!En(f,t.memoizedState)&&(xt=!0,K&&(a=Va,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function qf(t){var n=vt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);En(f,n.memoizedState)||(xt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Mg(t,n,a){var o=we,h=vt(),f=Ue;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var _=!En((Ze||h).memoizedState,a);if(_&&(h.memoizedState=a,xt=!0),h=h.queue,Gf(Ug.bind(null,o,h,t),[t]),h.getSnapshot!==n||_||It!==null&&It.memoizedState.tag&1){if(o.flags|=2048,za(9,{destroy:void 0},kg.bind(null,o,h,a,n),null),et===null)throw Error(r(349));f||(Ki&127)!==0||Vg(o,n,a)}return a}function Vg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=we.updateQueue,n===null?(n=oc(),we.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function kg(t,n,a,o){n.value=a,n.getSnapshot=o,Lg(n)&&jg(t)}function Ug(t,n,a){return a(function(){Lg(n)&&jg(t)})}function Lg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!En(t,a)}catch{return!0}}function jg(t){var n=Ur(t,2);n!==null&&pn(n,t,2)}function Hf(t){var n=an();if(typeof t=="function"){var a=t;if(t=a(),Gr){xn(!0);try{a()}finally{xn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},n}function Pg(t,n,a,o){return t.baseState=a,Bf(t,Ze,typeof o=="function"?o:Yi)}function eA(t,n,a,o,h){if(fc(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};Q.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,zg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function zg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=Q.T,_={};Q.T=_;try{var E=a(h,o),N=Q.S;N!==null&&N(_,E),Bg(t,n,E)}catch(P){Ff(t,n,P)}finally{f!==null&&_.types!==null&&(f.types=_.types),Q.T=f}}else try{f=a(h,o),Bg(t,n,f)}catch(P){Ff(t,n,P)}}function Bg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){qg(t,n,o)},function(o){return Ff(t,n,o)}):qg(t,n,a)}function qg(t,n,a){n.status="fulfilled",n.value=a,Hg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,zg(t,a)))}function Ff(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Hg(n),n=n.next;while(n!==o)}t.action=null}function Hg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Fg(t,n){return n}function Gg(t,n){if(Ue){var a=et.formState;if(a!==null){e:{var o=we;if(Ue){if(nt){t:{for(var h=nt,f=jn;h.nodeType!==8;){if(!f){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){nt=zn(h.nextSibling),o=h.data==="F!";break e}}xs(o)}o=!1}o&&(n=a[0])}}return a=an(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fg,lastRenderedState:n},a.queue=o,a=cy.bind(null,we,o),o.dispatch=a,o=Hf(!1),f=$f.bind(null,we,!1,o.queue),o=an(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=eA.bind(null,we,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Qg(t){var n=vt();return Kg(n,Ze,t)}function Kg(t,n,a){if(n=Bf(t,n,Fg)[0],t=uc(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ul(n)}catch(_){throw _===ka?Wu:_}else o=n;n=vt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(we.flags|=2048,za(9,{destroy:void 0},tA.bind(null,h,a),null)),[o,f,t]}function tA(t,n){t.action=n}function Yg(t){var n=vt(),a=Ze;if(a!==null)return Kg(n,a,t);vt(),n=n.memoizedState,a=vt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function za(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=we.updateQueue,n===null&&(n=oc(),we.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Xg(){return vt().memoizedState}function cc(t,n,a,o){var h=an();we.flags|=t,h.memoizedState=za(1|n,{destroy:void 0},a,o===void 0?null:o)}function hc(t,n,a,o){var h=vt();o=o===void 0?null:o;var f=h.memoizedState.inst;Ze!==null&&o!==null&&kf(o,Ze.memoizedState.deps)?h.memoizedState=za(n,f,a,o):(we.flags|=t,h.memoizedState=za(1|n,f,a,o))}function $g(t,n){cc(8390656,8,t,n)}function Gf(t,n){hc(2048,8,t,n)}function nA(t){we.flags|=4;var n=we.updateQueue;if(n===null)n=oc(),we.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Zg(t){var n=vt().memoizedState;return nA({ref:n,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Jg(t,n){return hc(4,2,t,n)}function Wg(t,n){return hc(4,4,t,n)}function ey(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ty(t,n,a){a=a!=null?a.concat([t]):null,hc(4,4,ey.bind(null,n,t),a)}function Qf(){}function ny(t,n){var a=vt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&kf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function iy(t,n){var a=vt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&kf(n,o[1]))return o[0];if(o=t(),Gr){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[o,n],o}function Kf(t,n,a){return a===void 0||(Ki&1073741824)!==0&&(De&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=s_(),we.lanes|=t,js|=t,a)}function sy(t,n,a,o){return En(a,n)?a:La.current!==null?(t=Kf(t,a,o),En(t,n)||(xt=!0),t):(Ki&42)===0||(Ki&1073741824)!==0&&(De&261930)===0?(xt=!0,t.memoizedState=a):(t=s_(),we.lanes|=t,js|=t,n)}function ry(t,n,a,o,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var _=Q.T,E={};Q.T=E,$f(t,!1,n,a);try{var N=h(),P=Q.S;if(P!==null&&P(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=Z1(N,o);cl(t,n,K,Rn(t))}else cl(t,n,o,Rn(t))}catch($){cl(t,n,{then:function(){},status:"rejected",reason:$},Rn())}finally{ie.p=f,_!==null&&E.types!==null&&(_.types=E.types),Q.T=_}}function iA(){}function Yf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=ay(t).queue;ry(t,h,n,me,a===null?iA:function(){return oy(t),a(o)})}function ay(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:me},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function oy(t){var n=ay(t);n.next===null&&(n=t.alternate.memoizedState),cl(t,n.next.queue,{},Rn())}function Xf(){return Gt(Cl)}function ly(){return vt().memoizedState}function uy(){return vt().memoizedState}function sA(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Rn();t=Os(a);var o=Ms(n,t,a);o!==null&&(pn(o,n,a),rl(o,n,a)),n={cache:Sf()},t.payload=n;return}n=n.return}}function rA(t,n,a){var o=Rn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fc(t)?hy(n,a):(a=df(t,n,a,o),a!==null&&(pn(a,t,o),fy(a,n,o)))}function cy(t,n,a){var o=Rn();cl(t,n,a,o)}function cl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(fc(t))hy(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,En(E,_))return Qu(t,n,h,0),et===null&&Gu(),!1}catch{}finally{}if(a=df(t,n,h,o),a!==null)return pn(a,t,o),fy(a,n,o),!0}return!1}function $f(t,n,a,o){if(o={lane:2,revertLane:Id(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},fc(t)){if(n)throw Error(r(479))}else n=df(t,a,o,2),n!==null&&pn(n,t,2)}function fc(t){var n=t.alternate;return t===we||n!==null&&n===we}function hy(t,n){ja=rc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function fy(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Oo(t,a)}}var hl={readContext:Gt,use:lc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};hl.useEffectEvent=dt;var dy={readContext:Gt,use:lc,useCallback:function(t,n){return an().memoizedState=[t,n===void 0?null:n],t},useContext:Gt,useEffect:$g,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,cc(4194308,4,ey.bind(null,n,t),a)},useLayoutEffect:function(t,n){return cc(4194308,4,t,n)},useInsertionEffect:function(t,n){cc(4,2,t,n)},useMemo:function(t,n){var a=an();n=n===void 0?null:n;var o=t();if(Gr){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=an();if(a!==void 0){var h=a(n);if(Gr){xn(!0);try{a(n)}finally{xn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=rA.bind(null,we,t),[o.memoizedState,t]},useRef:function(t){var n=an();return t={current:t},n.memoizedState=t},useState:function(t){t=Hf(t);var n=t.queue,a=cy.bind(null,we,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Qf,useDeferredValue:function(t,n){var a=an();return Kf(a,t,n)},useTransition:function(){var t=Hf(!1);return t=ry.bind(null,we,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=we,h=an();if(Ue){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),et===null)throw Error(r(349));(De&127)!==0||Vg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,$g(Ug.bind(null,o,f,t),[t]),o.flags|=2048,za(9,{destroy:void 0},kg.bind(null,o,f,a,n),null),a},useId:function(){var t=an(),n=et.identifierPrefix;if(Ue){var a=wi,o=Si;a=(o&~(1<<32-gt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ac++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=J1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Xf,useFormState:Gg,useActionState:Gg,useOptimistic:function(t){var n=an();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=$f.bind(null,we,!0,a),a.dispatch=n,[t,n]},useMemoCache:zf,useCacheRefresh:function(){return an().memoizedState=sA.bind(null,we)},useEffectEvent:function(t){var n=an(),a={impl:t};return n.memoizedState=a,function(){if((Fe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Zf={readContext:Gt,use:lc,useCallback:ny,useContext:Gt,useEffect:Gf,useImperativeHandle:ty,useInsertionEffect:Jg,useLayoutEffect:Wg,useMemo:iy,useReducer:uc,useRef:Xg,useState:function(){return uc(Yi)},useDebugValue:Qf,useDeferredValue:function(t,n){var a=vt();return sy(a,Ze.memoizedState,t,n)},useTransition:function(){var t=uc(Yi)[0],n=vt().memoizedState;return[typeof t=="boolean"?t:ul(t),n]},useSyncExternalStore:Mg,useId:ly,useHostTransitionStatus:Xf,useFormState:Qg,useActionState:Qg,useOptimistic:function(t,n){var a=vt();return Pg(a,Ze,t,n)},useMemoCache:zf,useCacheRefresh:uy};Zf.useEffectEvent=Zg;var my={readContext:Gt,use:lc,useCallback:ny,useContext:Gt,useEffect:Gf,useImperativeHandle:ty,useInsertionEffect:Jg,useLayoutEffect:Wg,useMemo:iy,useReducer:qf,useRef:Xg,useState:function(){return qf(Yi)},useDebugValue:Qf,useDeferredValue:function(t,n){var a=vt();return Ze===null?Kf(a,t,n):sy(a,Ze.memoizedState,t,n)},useTransition:function(){var t=qf(Yi)[0],n=vt().memoizedState;return[typeof t=="boolean"?t:ul(t),n]},useSyncExternalStore:Mg,useId:ly,useHostTransitionStatus:Xf,useFormState:Yg,useActionState:Yg,useOptimistic:function(t,n){var a=vt();return Ze!==null?Pg(a,Ze,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:zf,useCacheRefresh:uy};my.useEffectEvent=Zg;function Jf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Wf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Rn(),h=Os(o);h.payload=n,a!=null&&(h.callback=a),n=Ms(t,h,o),n!==null&&(pn(n,t,o),rl(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Rn(),h=Os(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ms(t,h,o),n!==null&&(pn(n,t,o),rl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Rn(),o=Os(a);o.tag=2,n!=null&&(o.callback=n),n=Ms(t,o,a),n!==null&&(pn(n,t,a),rl(n,t,a))}};function py(t,n,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!Zo(a,o)||!Zo(h,f):!0}function gy(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Wf.enqueueReplaceState(n,n.state,null)}function Qr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function yy(t){Fu(t)}function _y(t){console.error(t)}function vy(t){Fu(t)}function dc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Ey(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ed(t,n,a){return a=Os(a),a.tag=3,a.payload={element:null},a.callback=function(){dc(t,n)},a}function Ty(t){return t=Os(t),t.tag=3,t}function Ay(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Ey(n,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ey(n,a,o),typeof h!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function aA(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Oa(n,a,h,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?wc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===ec?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),wd(t,o,h)),!1;case 22:return a.flags|=65536,o===ec?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),wd(t,o,h)),!1}throw Error(r(435,a.tag))}return wd(t,o,h),wc(),!1}if(Ue)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==vf&&(t=Error(r(422),{cause:o}),el(kn(t,a)))):(o!==vf&&(n=Error(r(423),{cause:o}),el(kn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=kn(o,a),h=ed(t.stateNode,o,h),Nf(t,h),mt!==4&&(mt=2)),!1;var f=Error(r(520),{cause:o});if(f=kn(f,a),vl===null?vl=[f]:vl.push(f),mt!==4&&(mt=2),n===null)return!0;o=kn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ed(a.stateNode,o,t),Nf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ps===null||!Ps.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ty(h),Ay(h,t,a,o),Nf(a,h),!1}a=a.return}while(a!==null);return!1}var td=Error(r(461)),xt=!1;function Qt(t,n,a,o){n.child=t===null?Rg(n,null,a,o):Fr(n,t.child,a,o)}function by(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return zr(n),o=Uf(t,n,a,_,f,h),E=Lf(),t!==null&&!xt?(jf(t,n,h),Xi(t,n,h)):(Ue&&E&&yf(n),n.flags|=1,Qt(t,n,o,h),n.child)}function Sy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!mf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,wy(t,n,f,o,h)):(t=Yu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!ud(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(_,o)&&t.ref===n.ref)return Xi(t,n,h)}return n.flags|=1,t=Hi(f,o),t.ref=n.ref,t.return=n,n.child=t}function wy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Zo(f,o)&&t.ref===n.ref)if(xt=!1,n.pendingProps=o=f,ud(t,h))(t.flags&131072)!==0&&(xt=!0);else return n.lanes=t.lanes,Xi(t,n,h)}return nd(t,n,a,o,h)}function Ry(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Cy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ju(n,f!==null?f.cachePool:null),f!==null?xg(n,f):Of(),Ng(n);else return o=n.lanes=536870912,Cy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Ju(n,f.cachePool),xg(n,f),ks(),n.memoizedState=null):(t!==null&&Ju(n,null),Of(),ks());return Qt(t,n,h,a),n.child}function fl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Cy(t,n,a,o,h){var f=Rf();return f=f===null?null:{parent:Ct._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Ju(n,null),Of(),Ng(n),t!==null&&Oa(t,n,o,!0),n.childLanes=h,null}function mc(t,n){return n=gc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Iy(t,n,a){return Fr(n,t.child,null,a),t=mc(n,n.pendingProps),t.flags|=2,bn(n),n.memoizedState=null,t}function oA(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ue){if(o.mode==="hidden")return t=mc(n,o),n.lanes=536870912,fl(null,t);if(Vf(n),(t=nt)?(t=z_(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Cs!==null?{id:Si,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=hg(t),a.return=n,n.child=a,Ft=n,nt=null)):t=null,t===null)throw xs(n);return n.lanes=536870912,null}return mc(n,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Vf(n),h)if(n.flags&256)n.flags&=-257,n=Iy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(xt||Oa(t,n,a,!1),h=(a&t.childLanes)!==0,xt||h){if(o=et,o!==null&&(_=Mo(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Ur(t,_),pn(o,t,_),td;wc(),n=Iy(t,n,a)}else t=f.treeContext,nt=zn(_.nextSibling),Ft=n,Ue=!0,Is=null,jn=!1,t!==null&&mg(n,t),n=mc(n,o),n.flags|=4096;return n}return t=Hi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function pc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function nd(t,n,a,o,h){return zr(n),a=Uf(t,n,a,o,void 0,h),o=Lf(),t!==null&&!xt?(jf(t,n,h),Xi(t,n,h)):(Ue&&o&&yf(n),n.flags|=1,Qt(t,n,a,h),n.child)}function xy(t,n,a,o,h,f){return zr(n),n.updateQueue=null,a=Og(n,o,a,h),Dg(t),o=Lf(),t!==null&&!xt?(jf(t,n,f),Xi(t,n,f)):(Ue&&o&&yf(n),n.flags|=1,Qt(t,n,a,f),n.child)}function Ny(t,n,a,o,h){if(zr(n),n.stateNode===null){var f=Ia,_=a.contextType;typeof _=="object"&&_!==null&&(f=Gt(_)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Wf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},If(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?Gt(_):Ia,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Jf(n,a,_,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Wf.enqueueReplaceState(f,f.state,null),ol(n,o,f,h),al(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=Qr(a,E);f.props=N;var P=f.context,K=a.contextType;_=Ia,typeof K=="object"&&K!==null&&(_=Gt(K));var $=a.getDerivedStateFromProps;K=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==_)&&gy(n,f,o,_),Ds=!1;var z=n.memoizedState;f.state=z,ol(n,o,f,h),al(),P=n.memoizedState,E||z!==P||Ds?(typeof $=="function"&&(Jf(n,a,$,o),P=n.memoizedState),(N=Ds||py(n,a,N,o,z,P,_))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=_,o=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,xf(t,n),_=n.memoizedProps,K=Qr(a,_),f.props=K,$=n.pendingProps,z=f.context,P=a.contextType,N=Ia,typeof P=="object"&&P!==null&&(N=Gt(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==$||z!==N)&&gy(n,f,o,N),Ds=!1,z=n.memoizedState,f.state=z,ol(n,o,f,h),al();var F=n.memoizedState;_!==$||z!==F||Ds||t!==null&&t.dependencies!==null&&$u(t.dependencies)?(typeof E=="function"&&(Jf(n,a,E,o),F=n.memoizedState),(K=Ds||py(n,a,K,o,z,F,N)||t!==null&&t.dependencies!==null&&$u(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=N,o=K):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,pc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Fr(n,t.child,null,h),n.child=Fr(n,null,a,h)):Qt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Xi(t,n,h),t}function Dy(t,n,a,o){return jr(),n.flags|=256,Qt(t,n,a,o),n.child}var id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sd(t){return{baseLanes:t,cachePool:Eg()}}function rd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=wn),t}function Oy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ue){if(h?Vs(n):ks(),(t=nt)?(t=z_(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Cs!==null?{id:Si,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=hg(t),a.return=n,n.child=a,Ft=n,nt=null)):t=null,t===null)throw xs(n);return Bd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(ks(),h=n.mode,E=gc({mode:"hidden",children:E},h),o=Lr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=sd(a),o.childLanes=rd(t,_,a),n.memoizedState=id,fl(null,o)):(Vs(n),ad(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(Vs(n),n.flags&=-257,n=od(t,n,a)):n.memoizedState!==null?(ks(),n.child=t.child,n.flags|=128,n=null):(ks(),E=o.fallback,h=n.mode,o=gc({mode:"visible",children:o.children},h),E=Lr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Fr(n,t.child,null,a),o=n.child,o.memoizedState=sd(a),o.childLanes=rd(t,_,a),n.memoizedState=id,n=fl(null,o));else if(Vs(n),Bd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var P=_.dgst;_=P,o=Error(r(419)),o.stack="",o.digest=_,el({value:o,source:null,stack:null}),n=od(t,n,a)}else if(xt||Oa(t,n,a,!1),_=(a&t.childLanes)!==0,xt||_){if(_=et,_!==null&&(o=Mo(_,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,Ur(t,o),pn(_,t,o),td;zd(E)||wc(),n=od(t,n,a)}else zd(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,nt=zn(E.nextSibling),Ft=n,Ue=!0,Is=null,jn=!1,t!==null&&mg(n,t),n=ad(n,o.children),n.flags|=4096);return n}return h?(ks(),E=o.fallback,h=n.mode,N=t.child,P=N.sibling,o=Hi(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,P!==null?E=Hi(P,E):(E=Lr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,fl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=sd(a):(h=E.cachePool,h!==null?(N=Ct._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Eg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=rd(t,_,a),n.memoizedState=id,fl(t.child,o)):(Vs(n),a=t.child,t=a.sibling,a=Hi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function ad(t,n){return n=gc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function gc(t,n){return t=Tn(22,t,null,n),t.lanes=0,t}function od(t,n,a){return Fr(n,t.child,null,a),t=ad(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function My(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Af(t.return,n,a)}function ld(t,n,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function Vy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=_t.current,E=(_&2)!==0;if(E?(_=_&1|2,n.flags|=128):_&=1,se(_t,_),Qt(t,n,o,a),o=Ue?Wo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&My(t,a,n);else if(t.tag===19)My(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&sc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),ld(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&sc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ld(n,!0,a,null,f,o);break;case"together":ld(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Xi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),js|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Oa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Hi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Hi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function ud(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&$u(t)))}function lA(t,n,a){switch(n.tag){case 3:Vt(n,n.stateNode.containerInfo),Ns(n,Ct,t.memoizedState.cache),jr();break;case 27:case 5:_r(n);break;case 4:Vt(n,n.stateNode.containerInfo);break;case 10:Ns(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Vf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Vs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Oy(t,n,a):(Vs(n),t=Xi(t,n,a),t!==null?t.sibling:null);Vs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Oa(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Vy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(_t,_t.current),o)break;return null;case 22:return n.lanes=0,Ry(t,n,a,n.pendingProps);case 24:Ns(n,Ct,t.memoizedState.cache)}return Xi(t,n,a)}function ky(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)xt=!0;else{if(!ud(t,a)&&(n.flags&128)===0)return xt=!1,lA(t,n,a);xt=(t.flags&131072)!==0}else xt=!1,Ue&&(n.flags&1048576)!==0&&dg(n,Wo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=qr(n.elementType),n.type=t,typeof t=="function")mf(t)?(o=Qr(t,o),n.tag=1,n=Ny(null,n,t,o,a)):(n.tag=0,n=nd(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===ge){n.tag=11,n=by(null,n,t,o,a);break e}else if(h===R){n.tag=14,n=Sy(null,n,t,o,a);break e}}throw n=qe(t)||t,Error(r(306,n,""))}}return n;case 0:return nd(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Qr(o,n.pendingProps),Ny(t,n,o,h,a);case 3:e:{if(Vt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,xf(t,n),ol(n,o,null,a);var _=n.memoizedState;if(o=_.cache,Ns(n,Ct,o),o!==f.cache&&bf(n,[Ct],a,!0),al(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Dy(t,n,o,a);break e}else if(o!==h){h=kn(Error(r(424)),n),el(h),n=Dy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=zn(t.firstChild),Ft=n,Ue=!0,Is=null,jn=!0,a=Rg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(jr(),o===h){n=Xi(t,n,a);break e}Qt(t,n,o,a)}n=n.child}return n;case 26:return pc(t,n),t===null?(a=Q_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ue||(a=n.type,t=n.pendingProps,o=Oc(Ce.current).createElement(a),o[St]=n,o[jt]=t,Kt(o,a,t),wt(o),n.stateNode=o):n.memoizedState=Q_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return _r(n),t===null&&Ue&&(o=n.stateNode=H_(n.type,n.pendingProps,Ce.current),Ft=n,jn=!0,h=nt,Hs(n.type)?(qd=h,nt=zn(o.firstChild)):nt=h),Qt(t,n,n.pendingProps.children,a),pc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ue&&((h=o=nt)&&(o=jA(o,n.type,n.pendingProps,jn),o!==null?(n.stateNode=o,Ft=n,nt=zn(o.firstChild),jn=!1,h=!0):h=!1),h||xs(n)),_r(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,Ld(h,f)?o=null:_!==null&&Ld(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Uf(t,n,W1,null,null,a),Cl._currentValue=h),pc(t,n),Qt(t,n,o,a),n.child;case 6:return t===null&&Ue&&((t=a=nt)&&(a=PA(a,n.pendingProps,jn),a!==null?(n.stateNode=a,Ft=n,nt=null,t=!0):t=!1),t||xs(n)),null;case 13:return Oy(t,n,a);case 4:return Vt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Fr(n,null,o,a):Qt(t,n,o,a),n.child;case 11:return by(t,n,n.type,n.pendingProps,a);case 7:return Qt(t,n,n.pendingProps,a),n.child;case 8:return Qt(t,n,n.pendingProps.children,a),n.child;case 12:return Qt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ns(n,n.type,o.value),Qt(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,zr(n),h=Gt(h),o=o(h),n.flags|=1,Qt(t,n,o,a),n.child;case 14:return Sy(t,n,n.type,n.pendingProps,a);case 15:return wy(t,n,n.type,n.pendingProps,a);case 19:return Vy(t,n,a);case 31:return oA(t,n,a);case 22:return Ry(t,n,a,n.pendingProps);case 24:return zr(n),o=Gt(Ct),t===null?(h=Rf(),h===null&&(h=et,f=Sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},If(n),Ns(n,Ct,h)):((t.lanes&a)!==0&&(xf(t,n),ol(n,null,null,a),al()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ns(n,Ct,o)):(o=f.cache,Ns(n,Ct,o),o!==h.cache&&bf(n,[Ct],a,!0))),Qt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function $i(t){t.flags|=4}function cd(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(l_())t.flags|=8192;else throw Hr=ec,Cf}else t.flags&=-16777217}function Uy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Z_(n))if(l_())t.flags|=8192;else throw Hr=ec,Cf}function yc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?bu():536870912,t.lanes|=n,Fa|=n)}function dl(t,n){if(!Ue)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function uA(t,n,a){var o=n.pendingProps;switch(_f(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Qi(Ct),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Da(n)?$i(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ef())),it(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?($i(n),f!==null?(it(n),Uy(n,f)):(it(n),cd(n,h,null,o,a))):f?f!==t.memoizedState?($i(n),it(n),Uy(n,f)):(it(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&$i(n),it(n),cd(n,h,t,o,a)),null;case 27:if(ua(n),a=Ce.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return it(n),null}t=le.current,Da(n)?pg(n):(t=H_(h,o,a),n.stateNode=t,$i(n))}return it(n),null;case 5:if(ua(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return it(n),null}if(f=le.current,Da(n))pg(n);else{var _=Oc(Ce.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[St]=n,f[jt]=o;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(Kt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&$i(n)}}return it(n),cd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&$i(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ce.current,Da(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[St]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||O_(t.nodeValue,a)),t||xs(n,!0)}else t=Oc(t).createTextNode(o),t[St]=n,n.stateNode=t}return it(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Da(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[St]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),t=!1}else a=Ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return it(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Da(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[St]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),h=!1}else h=Ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),yc(n,n.updateQueue),it(n),null);case 4:return ot(),t===null&&Od(n.stateNode.containerInfo),it(n),null;case 10:return Qi(n.type),it(n),null;case 19:if(J(_t),o=n.memoizedState,o===null)return it(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)dl(o,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=sc(t),f!==null){for(n.flags|=128,dl(o,!1),t=f.updateQueue,n.updateQueue=t,yc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)cg(a,t),a=a.sibling;return se(_t,_t.current&1|2),Ue&&Fi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&sn()>Ac&&(n.flags|=128,h=!0,dl(o,!1),n.lanes=4194304)}else{if(!h)if(t=sc(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,yc(n,t),dl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ue)return it(n),null}else 2*sn()-o.renderingStartTime>Ac&&a!==536870912&&(n.flags|=128,h=!0,dl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=sn(),t.sibling=null,a=_t.current,se(_t,h?a&1|2:a&1),Ue&&Fi(n,o.treeForkCount),t):(it(n),null);case 22:case 23:return bn(n),Mf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),a=n.updateQueue,a!==null&&yc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&J(Br),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Qi(Ct),it(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function cA(t,n){switch(_f(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Qi(Ct),ot(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ua(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(r(340));jr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(bn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));jr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return J(_t),null;case 4:return ot(),null;case 10:return Qi(n.type),null;case 22:case 23:return bn(n),Mf(),t!==null&&J(Br),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Qi(Ct),null;case 25:return null;default:return null}}function Ly(t,n){switch(_f(n),n.tag){case 3:Qi(Ct),ot();break;case 26:case 27:case 5:ua(n);break;case 4:ot();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:J(_t);break;case 10:Qi(n.type);break;case 22:case 23:bn(n),Mf(),t!==null&&J(Br);break;case 24:Qi(Ct)}}function ml(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){Xe(n,n.return,E)}}function Us(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=n;var N=a,P=E;try{P()}catch(K){Xe(h,N,K)}}}o=o.next}while(o!==f)}}catch(K){Xe(n,n.return,K)}}function jy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Ig(n,a)}catch(o){Xe(t,t.return,o)}}}function Py(t,n,a){a.props=Qr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Xe(t,n,o)}}function pl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Xe(t,n,h)}}function Ri(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Xe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,n,h)}else a.current=null}function zy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function hd(t,n,a){try{var o=t.stateNode;OA(o,t.type,a,n),o[jt]=n}catch(h){Xe(t,t.return,h)}}function By(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hs(t.type)||t.tag===4}function fd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||By(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dd(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Xn));else if(o!==4&&(o===27&&Hs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(dd(t,n,a),t=t.sibling;t!==null;)dd(t,n,a),t=t.sibling}function _c(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Hs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_c(t,n,a),t=t.sibling;t!==null;)_c(t,n,a),t=t.sibling}function qy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Kt(n,o,a),n[St]=t,n[jt]=a}catch(f){Xe(t,t.return,f)}}var Zi=!1,Nt=!1,md=!1,Hy=typeof WeakSet=="function"?WeakSet:Set,zt=null;function hA(t,n){if(t=t.containerInfo,kd=Pc,t=tg(t),of(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,E=-1,N=-1,P=0,K=0,$=t,z=null;t:for(;;){for(var F;$!==a||h!==0&&$.nodeType!==3||(E=_+h),$!==f||o!==0&&$.nodeType!==3||(N=_+o),$.nodeType===3&&(_+=$.nodeValue.length),(F=$.firstChild)!==null;)z=$,$=F;for(;;){if($===t)break t;if(z===a&&++P===h&&(E=_),z===f&&++K===o&&(N=_),(F=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=F}a=E===-1||N===-1?null:{start:E,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ud={focusedElem:t,selectionRange:a},Pc=!1,zt=n;zt!==null;)if(n=zt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,zt=t;else for(;zt!==null;){switch(n=zt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ue=Qr(a.type,h);t=o.getSnapshotBeforeUpdate(ue,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Xe(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Pd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,zt=t;break}zt=n.return}}function Fy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(t,a),o&4&&ml(5,a);break;case 1:if(Wi(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var h=Qr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}o&64&&jy(a),o&512&&pl(a,a.return);break;case 3:if(Wi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ig(t,n)}catch(_){Xe(a,a.return,_)}}break;case 27:n===null&&o&4&&qy(a);case 26:case 5:Wi(t,a),n===null&&o&4&&zy(a),o&512&&pl(a,a.return);break;case 12:Wi(t,a);break;case 31:Wi(t,a),o&4&&Ky(t,a);break;case 13:Wi(t,a),o&4&&Yy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=EA.bind(null,a),zA(t,a))));break;case 22:if(o=a.memoizedState!==null||Zi,!o){n=n!==null&&n.memoizedState!==null||Nt,h=Zi;var f=Nt;Zi=o,(Nt=n)&&!f?es(t,a,(a.subtreeFlags&8772)!==0):Wi(t,a),Zi=h,Nt=f}break;case 30:break;default:Wi(t,a)}}function Gy(t){var n=t.alternate;n!==null&&(t.alternate=null,Gy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ma(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,hn=!1;function Ji(t,n,a){for(a=a.child;a!==null;)Qy(t,n,a),a=a.sibling}function Qy(t,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:Nt||Ri(a,n),Ji(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Ri(a,n);var o=ut,h=hn;Hs(a.type)&&(ut=a.stateNode,hn=!1),Ji(t,n,a),Sl(a.stateNode),ut=o,hn=h;break;case 5:Nt||Ri(a,n);case 6:if(o=ut,h=hn,ut=null,Ji(t,n,a),ut=o,hn=h,ut!==null)if(hn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(f){Xe(a,n,f)}else try{ut.removeChild(a.stateNode)}catch(f){Xe(a,n,f)}break;case 18:ut!==null&&(hn?(t=ut,j_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ja(t)):j_(ut,a.stateNode));break;case 4:o=ut,h=hn,ut=a.stateNode.containerInfo,hn=!0,Ji(t,n,a),ut=o,hn=h;break;case 0:case 11:case 14:case 15:Us(2,a,n),Nt||Us(4,a,n),Ji(t,n,a);break;case 1:Nt||(Ri(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Py(a,n,o)),Ji(t,n,a);break;case 21:Ji(t,n,a);break;case 22:Nt=(o=Nt)||a.memoizedState!==null,Ji(t,n,a),Nt=o;break;default:Ji(t,n,a)}}function Ky(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ja(t)}catch(a){Xe(n,n.return,a)}}}function Yy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ja(t)}catch(a){Xe(n,n.return,a)}}function fA(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Hy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Hy),n;default:throw Error(r(435,t.tag))}}function vc(t,n){var a=fA(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=TA.bind(null,t,o);o.then(h,h)}})}function fn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=n,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(Hs(E.type)){ut=E.stateNode,hn=!1;break e}break;case 5:ut=E.stateNode,hn=!1;break e;case 3:case 4:ut=E.stateNode.containerInfo,hn=!0;break e}E=E.return}if(ut===null)throw Error(r(160));Qy(f,_,h),ut=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Xy(n,t),n=n.sibling}var ti=null;function Xy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(n,t),dn(t),o&4&&(Us(3,t,t.return),ml(3,t),Us(5,t,t.return));break;case 1:fn(n,t),dn(t),o&512&&(Nt||a===null||Ri(a,a.return)),o&64&&Zi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ti;if(fn(n,t),dn(t),o&512&&(Nt||a===null||Ri(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fi]||f[St]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Kt(f,o,a),f[St]=t,wt(f),o=f;break e;case"link":var _=X_("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}f=h.createElement(o),Kt(f,o,a),h.head.appendChild(f);break;case"meta":if(_=X_("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}f=h.createElement(o),Kt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[St]=t,wt(f),o=f}t.stateNode=o}else $_(h,t.type,t.stateNode);else t.stateNode=Y_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?$_(h,t.type,t.stateNode):Y_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&hd(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(n,t),dn(t),o&512&&(Nt||a===null||Ri(a,a.return)),a!==null&&o&4&&hd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(n,t),dn(t),o&512&&(Nt||a===null||Ri(a,a.return)),t.flags&32){h=t.stateNode;try{cn(h,"")}catch(ue){Xe(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,hd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(md=!0);break;case 6:if(fn(n,t),dn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ue){Xe(t,t.return,ue)}}break;case 3:if(kc=null,h=ti,ti=Mc(n.containerInfo),fn(n,t),ti=h,dn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ja(n.containerInfo)}catch(ue){Xe(t,t.return,ue)}md&&(md=!1,$y(t));break;case 4:o=ti,ti=Mc(t.stateNode.containerInfo),fn(n,t),dn(t),ti=o;break;case 12:fn(n,t),dn(t);break;case 31:fn(n,t),dn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,vc(t,o)));break;case 13:fn(n,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tc=sn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,vc(t,o)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,P=Zi,K=Nt;if(Zi=P||h,Nt=K||N,fn(n,t),Nt=K,Zi=P,dn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||Zi||Nt||Kr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=N.stateNode;var $=N.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ue){Xe(N,N.return,ue)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ue){Xe(N,N.return,ue)}}}else if(n.tag===18){if(a===null){N=n;try{var F=N.stateNode;h?P_(F,!0):P_(N.stateNode,!1)}catch(ue){Xe(N,N.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,vc(t,a))));break;case 19:fn(n,t),dn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,vc(t,o)));break;case 30:break;case 21:break;default:fn(n,t),dn(t)}}function dn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(By(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=fd(t);_c(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var E=fd(t);_c(t,E,_);break;case 3:case 4:var N=a.stateNode.containerInfo,P=fd(t);dd(t,P,N);break;default:throw Error(r(161))}}catch(K){Xe(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function $y(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;$y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Fy(t,n.alternate,n),n=n.sibling}function Kr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Us(4,n,n.return),Kr(n);break;case 1:Ri(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Py(n,n.return,a),Kr(n);break;case 27:Sl(n.stateNode);case 26:case 5:Ri(n,n.return),Kr(n);break;case 22:n.memoizedState===null&&Kr(n);break;case 30:Kr(n);break;default:Kr(n)}t=t.sibling}}function es(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:es(h,f,a),ml(4,f);break;case 1:if(es(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Xe(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Cg(N[h],E)}catch(P){Xe(o,o.return,P)}}a&&_&64&&jy(f),pl(f,f.return);break;case 27:qy(f);case 26:case 5:es(h,f,a),a&&o===null&&_&4&&zy(f),pl(f,f.return);break;case 12:es(h,f,a);break;case 31:es(h,f,a),a&&_&4&&Ky(h,f);break;case 13:es(h,f,a),a&&_&4&&Yy(h,f);break;case 22:f.memoizedState===null&&es(h,f,a),pl(f,f.return);break;case 30:break;default:es(h,f,a)}n=n.sibling}}function pd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function gd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t))}function ni(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zy(t,n,a,o),n=n.sibling}function Zy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ni(t,n,a,o),h&2048&&ml(9,n);break;case 1:ni(t,n,a,o);break;case 3:ni(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){ni(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Xe(n,n.return,N)}}else ni(t,n,a,o);break;case 31:ni(t,n,a,o);break;case 13:ni(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?ni(t,n,a,o):gl(t,n):f._visibility&2?ni(t,n,a,o):(f._visibility|=2,Ba(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&pd(_,n);break;case 24:ni(t,n,a,o),h&2048&&gd(n.alternate,n);break;default:ni(t,n,a,o)}}function Ba(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,E=a,N=o,P=_.flags;switch(_.tag){case 0:case 11:case 15:Ba(f,_,E,N,h),ml(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Ba(f,_,E,N,h):gl(f,_):(K._visibility|=2,Ba(f,_,E,N,h)),h&&P&2048&&pd(_.alternate,_);break;case 24:Ba(f,_,E,N,h),h&&P&2048&&gd(_.alternate,_);break;default:Ba(f,_,E,N,h)}n=n.sibling}}function gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:gl(a,o),h&2048&&pd(o.alternate,o);break;case 24:gl(a,o),h&2048&&gd(o.alternate,o);break;default:gl(a,o)}n=n.sibling}}var yl=8192;function qa(t,n,a){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)Jy(t,n,a),t=t.sibling}function Jy(t,n,a){switch(t.tag){case 26:qa(t,n,a),t.flags&yl&&t.memoizedState!==null&&JA(a,ti,t.memoizedState,t.memoizedProps);break;case 5:qa(t,n,a);break;case 3:case 4:var o=ti;ti=Mc(t.stateNode.containerInfo),qa(t,n,a),ti=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=yl,yl=16777216,qa(t,n,a),yl=o):qa(t,n,a));break;default:qa(t,n,a)}}function Wy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function _l(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];zt=o,t_(o,t)}Wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)e_(t),t=t.sibling}function e_(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&Us(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ec(t)):_l(t);break;default:_l(t)}}function Ec(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];zt=o,t_(o,t)}Wy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Us(8,n,n.return),Ec(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(n));break;default:Ec(n)}t=t.sibling}}function t_(t,n){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Us(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:tl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,zt=o;else e:for(a=t;zt!==null;){o=zt;var h=o.sibling,f=o.return;if(Gy(o),o===a){zt=null;break e}if(h!==null){h.return=f,zt=h;break e}zt=f}}}var dA={getCacheForType:function(t){var n=Gt(Ct),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Gt(Ct).controller.signal}},mA=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,xe=null,De=0,Ye=0,Sn=null,Ls=!1,Ha=!1,yd=!1,ts=0,mt=0,js=0,Yr=0,_d=0,wn=0,Fa=0,vl=null,mn=null,vd=!1,Tc=0,n_=0,Ac=1/0,bc=null,Ps=null,Ut=0,zs=null,Ga=null,ns=0,Ed=0,Td=null,i_=null,El=0,Ad=null;function Rn(){return(Fe&2)!==0&&De!==0?De&-De:Q.T!==null?Id():Su()}function s_(){if(wn===0)if((De&536870912)===0||Ue){var t=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),wn=t}else wn=536870912;return t=An.current,t!==null&&(t.flags|=32),wn}function pn(t,n,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),Bs(t,De,wn,!1)),Ar(t,a),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(Yr|=a),mt===4&&Bs(t,De,wn,!1)),Ci(t))}function r_(t,n,a){if((Fe&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Qn(t,n),h=o?yA(t,n):Sd(t,n,!0),f=o;do{if(h===0){Ha&&!o&&Bs(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!pA(a)){h=Sd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var E=t;h=vl;var N=E.current.memoizedState.isDehydrated;if(N&&(Qa(E,_).flags|=256),_=Sd(E,_,!1),_!==2){if(yd&&!N){E.errorRecoveryDisabledLanes|=f,Yr|=f,h=4;break e}f=mn,mn=h,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Qa(t,0),Bs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Bs(o,n,wn,!Ls);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Tc+300-sn(),10<h)){if(Bs(o,n,wn,!Ls),ui(o,0,!0)!==0)break e;ns=n,o.timeoutHandle=U_(a_.bind(null,o,a,mn,bc,vd,n,wn,Yr,Fa,Ls,f,"Throttled",-0,0),h);break e}a_(o,a,mn,bc,vd,n,wn,Yr,Fa,Ls,f,null,-0,0)}}break}while(!0);Ci(t)}function a_(t,n,a,o,h,f,_,E,N,P,K,$,z,F){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},Jy(n,f,$);var ue=(f&62914560)===f?Tc-sn():(f&4194048)===f?n_-sn():0;if(ue=WA($,ue),ue!==null){ns=f,t.cancelPendingCommit=ue(m_.bind(null,t,n,f,a,o,h,_,E,N,K,$,null,z,F)),Bs(t,f,_,!P);return}}m_(t,n,f,a,o,h,_,E,N)}function pA(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!En(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bs(t,n,a,o){n&=~_d,n&=~Yr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-gt(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&br(t,a,n)}function Sc(){return(Fe&6)===0?(Tl(0),!1):!0}function bd(){if(xe!==null){if(Ye===0)var t=xe.return;else t=xe,Gi=Pr=null,Pf(t),Ua=null,il=0,t=xe;for(;t!==null;)Ly(t.alternate,t),t=t.return;xe=null}}function Qa(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,kA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ns=0,bd(),et=t,xe=a=Hi(t.current,null),De=n,Ye=0,Sn=null,Ls=!1,Ha=Qn(t,n),yd=!1,Fa=wn=_d=Yr=js=mt=0,mn=vl=null,vd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-gt(o),f=1<<h;n|=t[h],o&=~f}return ts=n,Gu(),a}function o_(t,n){we=null,Q.H=hl,n===ka||n===Wu?(n=bg(),Ye=3):n===Cf?(n=bg(),Ye=4):Ye=n===td?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,xe===null&&(mt=1,dc(t,kn(n,t.current)))}function l_(){var t=An.current;return t===null?!0:(De&4194048)===De?Pn===null:(De&62914560)===De||(De&536870912)!==0?t===Pn:!1}function u_(){var t=Q.H;return Q.H=hl,t===null?hl:t}function c_(){var t=Q.A;return Q.A=dA,t}function wc(){mt=4,Ls||(De&4194048)!==De&&An.current!==null||(Ha=!0),(js&134217727)===0&&(Yr&134217727)===0||et===null||Bs(et,De,wn,!1)}function Sd(t,n,a){var o=Fe;Fe|=2;var h=u_(),f=c_();(et!==t||De!==n)&&(bc=null,Qa(t,n)),n=!1;var _=mt;e:do try{if(Ye!==0&&xe!==null){var E=xe,N=Sn;switch(Ye){case 8:bd(),_=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var P=Ye;if(Ye=0,Sn=null,Ka(t,E,N,P),a&&Ha){_=0;break e}break;default:P=Ye,Ye=0,Sn=null,Ka(t,E,N,P)}}gA(),_=mt;break}catch(K){o_(t,K)}while(!0);return n&&t.shellSuspendCounter++,Gi=Pr=null,Fe=o,Q.H=h,Q.A=f,xe===null&&(et=null,De=0,Gu()),_}function gA(){for(;xe!==null;)h_(xe)}function yA(t,n){var a=Fe;Fe|=2;var o=u_(),h=c_();et!==t||De!==n?(bc=null,Ac=sn()+500,Qa(t,n)):Ha=Qn(t,n);e:do try{if(Ye!==0&&xe!==null){n=xe;var f=Sn;t:switch(Ye){case 1:Ye=0,Sn=null,Ka(t,n,f,1);break;case 2:case 9:if(Tg(f)){Ye=0,Sn=null,f_(n);break}n=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),Ci(t)},f.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Tg(f)?(Ye=0,Sn=null,f_(n)):(Ye=0,Sn=null,Ka(t,n,f,7));break;case 5:var _=null;switch(xe.tag){case 26:_=xe.memoizedState;case 5:case 27:var E=xe;if(_?Z_(_):E.stateNode.complete){Ye=0,Sn=null;var N=E.sibling;if(N!==null)xe=N;else{var P=E.return;P!==null?(xe=P,Rc(P)):xe=null}break t}}Ye=0,Sn=null,Ka(t,n,f,5);break;case 6:Ye=0,Sn=null,Ka(t,n,f,6);break;case 8:bd(),mt=6;break e;default:throw Error(r(462))}}_A();break}catch(K){o_(t,K)}while(!0);return Gi=Pr=null,Q.H=o,Q.A=h,Fe=a,xe!==null?0:(et=null,De=0,Gu(),mt)}function _A(){for(;xe!==null&&!Wh();)h_(xe)}function h_(t){var n=ky(t.alternate,t,ts);t.memoizedProps=t.pendingProps,n===null?Rc(t):xe=n}function f_(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=xy(a,n,n.pendingProps,n.type,void 0,De);break;case 11:n=xy(a,n,n.pendingProps,n.type.render,n.ref,De);break;case 5:Pf(n);default:Ly(a,n),n=xe=cg(n,ts),n=ky(a,n,ts)}t.memoizedProps=t.pendingProps,n===null?Rc(t):xe=n}function Ka(t,n,a,o){Gi=Pr=null,Pf(n),Ua=null,il=0;var h=n.return;try{if(aA(t,h,n,a,De)){mt=1,dc(t,kn(a,t.current)),xe=null;return}}catch(f){if(h!==null)throw xe=h,f;mt=1,dc(t,kn(a,t.current)),xe=null;return}n.flags&32768?(Ue||o===1?t=!0:Ha||(De&536870912)!==0?t=!1:(Ls=t=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),d_(n,t)):Rc(n)}function Rc(t){var n=t;do{if((n.flags&32768)!==0){d_(n,Ls);return}t=n.return;var a=uA(n.alternate,n,ts);if(a!==null){xe=a;return}if(n=n.sibling,n!==null){xe=n;return}xe=n=t}while(n!==null);mt===0&&(mt=5)}function d_(t,n){do{var a=cA(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);mt=6,xe=null}function m_(t,n,a,o,h,f,_,E,N){t.cancelPendingCommit=null;do Cc();while(Ut!==0);if((Fe&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=ff,nf(t,a,f,_,E,N),t===et&&(xe=et=null,De=0),Ga=n,zs=t,ns=a,Ed=f,Td=h,i_=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,AA(ys,function(){return v_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=ie.p,ie.p=2,_=Fe,Fe|=4;try{hA(t,n,a)}finally{Fe=_,ie.p=h,Q.T=o}}Ut=1,p_(),g_(),y_()}}function p_(){if(Ut===1){Ut=0;var t=zs,n=Ga,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var o=ie.p;ie.p=2;var h=Fe;Fe|=4;try{Xy(n,t);var f=Ud,_=tg(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&eg(E.ownerDocument.documentElement,E)){if(N!==null&&of(E)){var P=N.start,K=N.end;if(K===void 0&&(K=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(K,E.value.length);else{var $=E.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var F=z.getSelection(),ue=E.textContent.length,pe=Math.min(N.start,ue),We=N.end===void 0?pe:Math.min(N.end,ue);!F.extend&&pe>We&&(_=We,We=pe,pe=_);var k=Wp(E,pe),O=Wp(E,We);if(k&&O&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var j=$.createRange();j.setStart(k.node,k.offset),F.removeAllRanges(),pe>We?(F.addRange(j),F.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),F.addRange(j))}}}}for($=[],F=E;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Pc=!!kd,Ud=kd=null}finally{Fe=h,ie.p=o,Q.T=a}}t.current=n,Ut=2}}function g_(){if(Ut===2){Ut=0;var t=zs,n=Ga,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var o=ie.p;ie.p=2;var h=Fe;Fe|=4;try{Fy(t,n.alternate,n)}finally{Fe=h,ie.p=o,Q.T=a}}Ut=3}}function y_(){if(Ut===4||Ut===3){Ut=0,yu();var t=zs,n=Ga,a=ns,o=i_;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ut=5:(Ut=0,Ga=zs=null,__(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ps=null),Pi(a),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Gn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,h=ie.p,ie.p=2,Q.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{Q.T=n,ie.p=h}}(ns&3)!==0&&Cc(),Ci(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Ad?El++:(El=0,Ad=t):El=0,Tl(0)}}function __(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,tl(n)))}function Cc(){return p_(),g_(),y_(),v_()}function v_(){if(Ut!==5)return!1;var t=zs,n=Ed;Ed=0;var a=Pi(ns),o=Q.T,h=ie.p;try{ie.p=32>a?32:a,Q.T=null,a=Td,Td=null;var f=zs,_=ns;if(Ut=0,Ga=zs=null,ns=0,(Fe&6)!==0)throw Error(r(331));var E=Fe;if(Fe|=4,e_(f.current),Zy(f,f.current,_,a),Fe=E,Tl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Gn,f)}catch{}return!0}finally{ie.p=h,Q.T=o,__(t,n)}}function E_(t,n,a){n=kn(a,n),n=ed(t.stateNode,n,2),t=Ms(t,n,2),t!==null&&(Ar(t,2),Ci(t))}function Xe(t,n,a){if(t.tag===3)E_(t,t,a);else for(;n!==null;){if(n.tag===3){E_(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ps===null||!Ps.has(o))){t=kn(a,t),a=Ty(2),o=Ms(n,a,2),o!==null&&(Ay(a,o,n,t),Ar(o,2),Ci(o));break}}n=n.return}}function wd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new mA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(yd=!0,h.add(a),t=vA.bind(null,t,n,a),n.then(t,t))}function vA(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(De&a)===a&&(mt===4||mt===3&&(De&62914560)===De&&300>sn()-Tc?(Fe&2)===0&&Qa(t,0):_d|=a,Fa===De&&(Fa=0)),Ci(t)}function T_(t,n){n===0&&(n=bu()),t=Ur(t,n),t!==null&&(Ar(t,n),Ci(t))}function EA(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),T_(t,a)}function TA(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),T_(t,a)}function AA(t,n){return kt(t,n)}var Ic=null,Ya=null,Rd=!1,xc=!1,Cd=!1,qs=0;function Ci(t){t!==Ya&&t.next===null&&(Ya===null?Ic=Ya=t:Ya=Ya.next=t),xc=!0,Rd||(Rd=!0,SA())}function Tl(t,n){if(!Cd&&xc){Cd=!0;do for(var a=!1,o=Ic;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-gt(42|t)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,w_(o,f))}else f=De,f=ui(o,o===et?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Qn(o,f)||(a=!0,w_(o,f));o=o.next}while(a);Cd=!1}}function bA(){A_()}function A_(){xc=Rd=!1;var t=0;qs!==0&&VA()&&(t=qs);for(var n=sn(),a=null,o=Ic;o!==null;){var h=o.next,f=b_(o,n);f===0?(o.next=null,a===null?Ic=h:a.next=h,h===null&&(Ya=a)):(a=o,(t!==0||(f&3)!==0)&&(xc=!0)),o=h}Ut!==0&&Ut!==5||Tl(t),qs!==0&&(qs=0)}function b_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-gt(f),E=1<<_,N=h[_];N===-1?((E&a)===0||(E&o)!==0)&&(h[_]=tf(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=et,a=De,a=ui(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&gs(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Qn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&gs(o),Pi(a)){case 2:case 8:a=Do;break;case 32:a=ys;break;case 268435456:a=_u;break;default:a=ys}return o=S_.bind(null,t),a=kt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&gs(o),t.callbackPriority=2,t.callbackNode=null,2}function S_(t,n){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Cc()&&t.callbackNode!==a)return null;var o=De;return o=ui(t,t===et?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(r_(t,o,n),b_(t,sn()),t.callbackNode!=null&&t.callbackNode===a?S_.bind(null,t):null)}function w_(t,n){if(Cc())return null;r_(t,n,!0)}function SA(){UA(function(){(Fe&6)!==0?kt(No,bA):A_()})}function Id(){if(qs===0){var t=Ma;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),qs=t}return qs}function R_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function C_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function wA(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=R_((h[jt]||null).action),_=o.submitter;_&&(n=(n=_[jt]||null)?R_(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new Ei("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(qs!==0){var N=_?C_(h,_):new FormData(h);Yf(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=_?C_(h,_):new FormData(h),Yf(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var xd=0;xd<hf.length;xd++){var Nd=hf[xd],RA=Nd.toLowerCase(),CA=Nd[0].toUpperCase()+Nd.slice(1);ei(RA,"on"+CA)}ei(sg,"onAnimationEnd"),ei(rg,"onAnimationIteration"),ei(ag,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(H1,"onTransitionRun"),ei(F1,"onTransitionStart"),ei(G1,"onTransitionCancel"),ei(og,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function I_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var E=o[_],N=E.instance,P=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(K){Fu(K)}h.currentTarget=null,f=N}else for(_=0;_<o.length;_++){if(E=o[_],N=E.instance,P=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(K){Fu(K)}h.currentTarget=null,f=N}}}}function Ne(t,n){var a=n[da];a===void 0&&(a=n[da]=new Set);var o=t+"__bubble";a.has(o)||(x_(n,t,2,!1),a.add(o))}function Dd(t,n,a){var o=0;n&&(o|=4),x_(a,t,o,n)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function Od(t){if(!t[Nc]){t[Nc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(IA.has(a)||Dd(a,!1,t),Dd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Nc]||(n[Nc]=!0,Dd("selectionchange",!1,n))}}function x_(t,n,a,o){switch(sv(n)){case 2:var h=nb;break;case 8:h=ib;break;default:h=Kd}a=h.bind(null,n,a,t),h=void 0,!Ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Md(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=di(E),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){o=f=_;continue e}E=E.parentNode}}o=o.return}bs(function(){var P=f,K=Dn(a),$=[];e:{var z=lg.get(t);if(z!==void 0){var F=Ei,ue=t;switch(t){case"keypress":if(Nr(a)===0)break e;case"keydown":case"keyup":F=Bu;break;case"focusin":ue="focus",F=Or;break;case"focusout":ue="blur",F=Or;break;case"beforeblur":case"afterblur":F=Or;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case sg:case rg:case ag:F=Vu;break;case og:F=b;break;case"scroll":case"scrollend":F=Qo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=qi;break;case"toggle":case"beforetoggle":F=Se}var pe=(n&4)!==0,We=!pe&&(t==="scroll"||t==="scrollend"),k=pe?z!==null?z+"Capture":null:z;pe=[];for(var O=P,j;O!==null;){var Y=O;if(j=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||j===null||k===null||(Y=$n(O,k),Y!=null&&pe.push(bl(O,Y,j))),We)break;O=O.return}0<pe.length&&(z=new F(z,ue,null,a,K),$.push({event:z,listeners:pe}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",z&&a!==Ho&&(ue=a.relatedTarget||a.fromElement)&&(di(ue)||ue[hi]))break e;if((F||z)&&(z=K.window===K?K:(z=K.ownerDocument)?z.defaultView||z.parentWindow:window,F?(ue=a.relatedTarget||a.toElement,F=P,ue=ue?di(ue):null,ue!==null&&(We=u(ue),pe=ue.tag,ue!==We||pe!==5&&pe!==27&&pe!==6)&&(ue=null)):(F=null,ue=P),F!==ue)){if(pe=Ko,Y="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(pe=qi,Y="onPointerLeave",k="onPointerEnter",O="pointer"),We=F==null?z:_n(F),j=ue==null?z:_n(ue),z=new pe(Y,O+"leave",F,a,K),z.target=We,z.relatedTarget=j,Y=null,di(K)===P&&(pe=new pe(k,O+"enter",ue,a,K),pe.target=j,pe.relatedTarget=We,Y=pe),We=Y,F&&ue)t:{for(pe=xA,k=F,O=ue,j=0,Y=k;Y;Y=pe(Y))j++;Y=0;for(var fe=O;fe;fe=pe(fe))Y++;for(;0<j-Y;)k=pe(k),j--;for(;0<Y-j;)O=pe(O),Y--;for(;j--;){if(k===O||O!==null&&k===O.alternate){pe=k;break t}k=pe(k),O=pe(O)}pe=null}else pe=null;F!==null&&N_($,z,F,pe,!1),ue!==null&&We!==null&&N_($,We,ue,pe,!0)}}e:{if(z=P?_n(P):window,F=z.nodeName&&z.nodeName.toLowerCase(),F==="select"||F==="input"&&z.type==="file")var ze=Kp;else if(Gp(z))if(Yp)ze=z1;else{ze=j1;var he=L1}else F=z.nodeName,!F||F.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ya(P.elementType)&&(ze=Kp):ze=P1;if(ze&&(ze=ze(t,P))){Qp($,ze,a,K);break e}he&&he(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&zo(z,"number",z.value)}switch(he=P?_n(P):window,t){case"focusin":(Gp(he)||he.contentEditable==="true")&&(wa=he,lf=P,Jo=null);break;case"focusout":Jo=lf=wa=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,ng($,a,K);break;case"selectionchange":if(q1)break;case"keydown":case"keyup":ng($,a,K)}var Ie;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Sa?Mr(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(bi&&a.locale!=="ko"&&(Sa||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Sa&&(Ie=Go()):(vi=K,Fo="value"in vi?vi.value:vi.textContent,Sa=!0)),he=Dc(P,Oe),0<he.length&&(Oe=new Ai(Oe,t,null,a,K),$.push({event:Oe,listeners:he}),Ie?Oe.data=Ie:(Ie=ba(a),Ie!==null&&(Oe.data=Ie)))),(Ie=Mn?M1(t,a):V1(t,a))&&(Oe=Dc(P,"onBeforeInput"),0<Oe.length&&(he=new Ai("onBeforeInput","beforeinput",null,a,K),$.push({event:he,listeners:Oe}),he.data=Ie)),wA($,t,P,a,K)}I_($,n)})}function bl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Dc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=$n(t,a),h!=null&&o.unshift(bl(t,h,f)),h=$n(t,n),h!=null&&o.push(bl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function xA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function N_(t,n,a,o,h){for(var f=n._reactName,_=[];a!==null&&a!==o;){var E=a,N=E.alternate,P=E.stateNode;if(E=E.tag,N!==null&&N===o)break;E!==5&&E!==26&&E!==27||P===null||(N=P,h?(P=$n(a,f),P!=null&&_.unshift(bl(a,P,N))):h||(P=$n(a,f),P!=null&&_.push(bl(a,P,N)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var NA=/\r\n?/g,DA=/\u0000|\uFFFD/g;function D_(t){return(typeof t=="string"?t:""+t).replace(NA,`
`).replace(DA,"")}function O_(t,n){return n=D_(n),D_(t)===n}function Je(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||cn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&cn(t,""+o);break;case"className":vn(t,"class",o);break;case"tabIndex":vn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,o);break;case"style":qo(t,o,f);break;case"data":if(n!=="object"){vn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=_a(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Je(t,n,"name",h.name,h,null),Je(t,n,"formEncType",h.formEncType,h,null),Je(t,n,"formMethod",h.formMethod,h,null),Je(t,n,"formTarget",h.formTarget,h,null)):(Je(t,n,"encType",h.encType,h,null),Je(t,n,"method",h.method,h,null),Je(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=_a(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Xn);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=_a(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),pa(t,"popover",o);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":pa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Du.get(a)||a,pa(t,a,o))}}function Vd(t,n,a,o,h,f){switch(a){case"style":qo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?cn(t,o):(typeof o=="number"||typeof o=="bigint")&&cn(t,""+o);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[jt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):pa(t,a,o)}}}function Kt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Je(t,n,f,_,a,null)}}h&&Je(t,n,"srcSet",a.srcSet,a,null),o&&Je(t,n,"src",a.src,a,null);return;case"input":Ne("invalid",t);var E=f=_=h=null,N=null,P=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":h=K;break;case"type":_=K;break;case"checked":N=K;break;case"defaultChecked":P=K;break;case"value":f=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:Je(t,n,o,K,a,null)}}Iu(t,f,E,N,P,_,h,!1);return;case"select":Ne("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Je(t,n,h,E,a,null)}n=f,a=_,t.multiple=!!o,n!=null?vs(t,!!o,n,!1):a!=null&&vs(t,!!o,a,!0);return;case"textarea":Ne("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Je(t,n,_,E,a,null)}Es(t,o,h,f);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Je(t,n,N,o,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(o=0;o<Al.length;o++)Ne(Al[o],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(o=a[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Je(t,n,P,o,a,null)}return;default:if(ya(n)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&Vd(t,n,K,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Je(t,n,E,o,a,null))}function OA(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,N=null,P=null,K=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=$;default:o.hasOwnProperty(F)||Je(t,n,F,null,o,$)}}for(var z in o){var F=o[z];if($=a[z],o.hasOwnProperty(z)&&(F!=null||$!=null))switch(z){case"type":f=F;break;case"name":h=F;break;case"checked":P=F;break;case"defaultChecked":K=F;break;case"value":_=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==$&&Je(t,n,z,F,o,$)}}ga(t,_,E,N,P,K,f,h);return;case"select":F=_=E=z=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":F=N;default:o.hasOwnProperty(f)||Je(t,n,f,null,o,N)}for(h in o)if(f=o[h],N=a[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==N&&Je(t,n,h,f,o,N)}n=E,a=_,o=F,z!=null?vs(t,!!a,z,!1):!!o!=!!a&&(n!=null?vs(t,!!a,n,!0):vs(t,!!a,a?[]:"",!1));return;case"textarea":F=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Je(t,n,E,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":z=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Je(t,n,_,h,o,f)}xu(t,z,F);return;case"option":for(var ue in a)if(z=a[ue],a.hasOwnProperty(ue)&&z!=null&&!o.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:Je(t,n,ue,null,o,z)}for(N in o)if(z=o[N],F=a[N],o.hasOwnProperty(N)&&z!==F&&(z!=null||F!=null))switch(N){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Je(t,n,N,z,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)z=a[pe],a.hasOwnProperty(pe)&&z!=null&&!o.hasOwnProperty(pe)&&Je(t,n,pe,null,o,z);for(P in o)if(z=o[P],F=a[P],o.hasOwnProperty(P)&&z!==F&&(z!=null||F!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Je(t,n,P,z,o,F)}return;default:if(ya(n)){for(var We in a)z=a[We],a.hasOwnProperty(We)&&z!==void 0&&!o.hasOwnProperty(We)&&Vd(t,n,We,void 0,o,z);for(K in o)z=o[K],F=a[K],!o.hasOwnProperty(K)||z===F||z===void 0&&F===void 0||Vd(t,n,K,z,o,F);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&Je(t,n,k,null,o,z);for($ in o)z=o[$],F=a[$],!o.hasOwnProperty($)||z===F||z==null&&F==null||Je(t,n,$,z,o,F)}function M_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&M_(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],P=N.startTime;if(P>E)break;var K=N.transferSize,$=N.initiatorType;K&&M_($)&&(N=N.responseEnd,_+=K*(N<E?1:(E-P)/(N-P)))}if(--o,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var kd=null,Ud=null;function Oc(t){return t.nodeType===9?t:t.ownerDocument}function V_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ld(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var jd=null;function VA(){var t=window.event;return t&&t.type==="popstate"?t===jd?!1:(jd=t,!0):(jd=null,!1)}var U_=typeof setTimeout=="function"?setTimeout:void 0,kA=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,UA=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(t){return L_.resolve(null).then(t).catch(LA)}:U_;function LA(t){setTimeout(function(){throw t})}function Hs(t){return t==="head"}function j_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Ja(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Sl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Sl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[fi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Sl(t.ownerDocument.body);a=h}while(a);Ja(n)}function P_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Pd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pd(a),ma(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function jA(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[fi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function PA(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function z_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=zn(t.nextSibling),t===null))return null;return t}function zd(t){return t.data==="$?"||t.data==="$~"}function Bd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function zA(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var qd=null;function B_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return zn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function q_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function H_(t,n,a){switch(n=Oc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Sl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ma(t)}var Bn=new Map,F_=new Set;function Mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var is=ie.d;ie.d={f:BA,r:qA,D:HA,C:FA,L:GA,m:QA,X:YA,S:KA,M:XA};function BA(){var t=is.f(),n=Sc();return t||n}function qA(t){var n=Nn(t);n!==null&&n.tag===5&&n.type==="form"?oy(n):is.r(t)}var Xa=typeof document>"u"?null:document;function G_(t,n,a){var o=Xa;if(o&&typeof n=="string"&&n){var h=un(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),F_.has(h)||(F_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Kt(n,"link",t),wt(n),o.head.appendChild(n)))}}function HA(t){is.D(t),G_("dns-prefetch",t,null)}function FA(t,n){is.C(t,n),G_("preconnect",t,n)}function GA(t,n,a){is.L(t,n,a);var o=Xa;if(o&&t&&n){var h='link[rel="preload"][as="'+un(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+un(a.imageSizes)+'"]')):h+='[href="'+un(t)+'"]';var f=h;switch(n){case"style":f=$a(t);break;case"script":f=Za(t)}Bn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Bn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(wl(f))||n==="script"&&o.querySelector(Rl(f))||(n=o.createElement("link"),Kt(n,"link",t),wt(n),o.head.appendChild(n)))}}function QA(t,n){is.m(t,n);var a=Xa;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+un(o)+'"][href="'+un(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Za(t)}if(!Bn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Bn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(f)))return}o=a.createElement("link"),Kt(o,"link",t),wt(o),a.head.appendChild(o)}}}function KA(t,n,a){is.S(t,n,a);var o=Xa;if(o&&t){var h=mi(o).hoistableStyles,f=$a(t);n=n||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(wl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Bn.get(f))&&Hd(t,a);var N=_=o.createElement("link");wt(N),Kt(N,"link",t),N._p=new Promise(function(P,K){N.onload=P,N.onerror=K}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Vc(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function YA(t,n){is.X(t,n);var a=Xa;if(a&&t){var o=mi(a).hoistableScripts,h=Za(t),f=o.get(h);f||(f=a.querySelector(Rl(h)),f||(t=S({src:t,async:!0},n),(n=Bn.get(h))&&Fd(t,n),f=a.createElement("script"),wt(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function XA(t,n){is.M(t,n);var a=Xa;if(a&&t){var o=mi(a).hoistableScripts,h=Za(t),f=o.get(h);f||(f=a.querySelector(Rl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Bn.get(h))&&Fd(t,n),f=a.createElement("script"),wt(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Q_(t,n,a,o){var h=(h=Ce.current)?Mc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=$a(a.href),a=mi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=$a(a.href);var f=mi(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(wl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),f||$A(h,t,a,_.state))),n&&o===null)throw Error(r(528,""));return _}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Za(a),a=mi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function $a(t){return'href="'+un(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function K_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function $A(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Kt(n,"link",a),wt(n),t.head.appendChild(n))}function Za(t){return'[src="'+un(t)+'"]'}function Rl(t){return"script[async]"+t}function Y_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(o)return n.instance=o,wt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),wt(o),Kt(o,"style",h),Vc(o,a.precedence,t),n.instance=o;case"stylesheet":h=$a(a.href);var f=t.querySelector(wl(h));if(f)return n.state.loading|=4,n.instance=f,wt(f),f;o=K_(a),(h=Bn.get(h))&&Hd(o,h),f=(t.ownerDocument||t).createElement("link"),wt(f);var _=f;return _._p=new Promise(function(E,N){_.onload=E,_.onerror=N}),Kt(f,"link",o),n.state.loading|=4,Vc(f,a.precedence,t),n.instance=f;case"script":return f=Za(a.src),(h=t.querySelector(Rl(f)))?(n.instance=h,wt(h),h):(o=a,(h=Bn.get(f))&&(o=S({},a),Fd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),wt(h),Kt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Vc(o,a.precedence,t));return n.instance}function Vc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Hd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Fd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var kc=null;function X_(t,n,a){if(kc===null){var o=new Map,h=kc=new Map;h.set(a,o)}else h=kc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[fi]||f[St]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function $_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function ZA(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Z_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function JA(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=$a(o.href),f=n.querySelector(wl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Uc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,wt(f);return}f=n.ownerDocument||n,o=K_(o),(h=Bn.get(h))&&Hd(o,h),f=f.createElement("link"),wt(f);var _=f;_._p=new Promise(function(E,N){_.onload=E,_.onerror=N}),Kt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Gd=0;function WA(t,n){return t.stylesheets&&t.count===0&&jc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&jc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Gd===0&&(Gd=62500*MA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&jc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Gd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lc=null;function jc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lc=new Map,n.forEach(eb,t),Lc=null,Uc.call(t))}function eb(t,n){if(!(n.state.loading&4)){var a=Lc.get(t);if(a)var o=a.get(null);else{a=new Map,Lc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=Uc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Cl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function tb(t,n,a,o,h,f,_,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function J_(t,n,a,o,h,f,_,E,N,P,K,$){return t=new tb(t,n,a,_,N,P,K,$,E),n=1,f===!0&&(n|=24),f=Tn(3,null,null,n),t.current=f,f.stateNode=t,n=Sf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},If(f),t}function W_(t){return t?(t=Ia,t):Ia}function ev(t,n,a,o,h,f){h=W_(h),o.context===null?o.context=h:o.pendingContext=h,o=Os(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ms(t,o,n),a!==null&&(pn(a,t,n),rl(a,t,n))}function tv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Qd(t,n){tv(t,n),(t=t.alternate)&&tv(t,n)}function nv(t){if(t.tag===13||t.tag===31){var n=Ur(t,67108864);n!==null&&pn(n,t,67108864),Qd(t,67108864)}}function iv(t){if(t.tag===13||t.tag===31){var n=Rn();n=Sr(n);var a=Ur(t,n);a!==null&&pn(a,t,n),Qd(t,n)}}var Pc=!0;function nb(t,n,a,o){var h=Q.T;Q.T=null;var f=ie.p;try{ie.p=2,Kd(t,n,a,o)}finally{ie.p=f,Q.T=h}}function ib(t,n,a,o){var h=Q.T;Q.T=null;var f=ie.p;try{ie.p=8,Kd(t,n,a,o)}finally{ie.p=f,Q.T=h}}function Kd(t,n,a,o){if(Pc){var h=Yd(o);if(h===null)Md(t,n,o,zc,a),rv(t,o);else if(rb(h,t,n,a,o))o.stopPropagation();else if(rv(t,o),n&4&&-1<sb.indexOf(t)){for(;h!==null;){var f=Nn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=li(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var N=1<<31-gt(_);E.entanglements[1]|=N,_&=~N}Ci(f),(Fe&6)===0&&(Ac=sn()+500,Tl(0))}}break;case 31:case 13:E=Ur(f,2),E!==null&&pn(E,f,2),Sc(),Qd(f,2)}if(f=Yd(o),f===null&&Md(t,n,o,zc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Md(t,n,o,null,a)}}function Yd(t){return t=Dn(t),Xd(t)}var zc=null;function Xd(t){if(zc=null,t=di(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return zc=t,null}function sv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case No:return 2;case Do:return 8;case ys:case ef:return 32;case _u:return 268435456;default:return 32}default:return 32}}var $d=!1,Fs=null,Gs=null,Qs=null,Il=new Map,xl=new Map,Ks=[],sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rv(t,n){switch(t){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":Il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(n.pointerId)}}function Nl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Nn(n),n!==null&&nv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function rb(t,n,a,o,h){switch(n){case"focusin":return Fs=Nl(Fs,t,n,a,o,h),!0;case"dragenter":return Gs=Nl(Gs,t,n,a,o,h),!0;case"mouseover":return Qs=Nl(Qs,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Il.set(f,Nl(Il.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,xl.set(f,Nl(xl.get(f)||null,t,n,a,o,h)),!0}return!1}function av(t){var n=di(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Kn(t.priority,function(){iv(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Kn(t.priority,function(){iv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Yd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Ho=o,a.target.dispatchEvent(o),Ho=null}else return n=Nn(a),n!==null&&nv(n),t.blockedOn=a,!1;n.shift()}return!0}function ov(t,n,a){Bc(t)&&a.delete(n)}function ab(){$d=!1,Fs!==null&&Bc(Fs)&&(Fs=null),Gs!==null&&Bc(Gs)&&(Gs=null),Qs!==null&&Bc(Qs)&&(Qs=null),Il.forEach(ov),xl.forEach(ov)}function qc(t,n){t.blockedOn===n&&(t.blockedOn=null,$d||($d=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ab)))}var Hc=null;function lv(t){Hc!==t&&(Hc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Hc===t&&(Hc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Xd(o||a)===null)continue;break}var f=Nn(a);f!==null&&(t.splice(n,3),n-=3,Yf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ja(t){function n(N){return qc(N,t)}Fs!==null&&qc(Fs,t),Gs!==null&&qc(Gs,t),Qs!==null&&qc(Qs,t),Il.forEach(n),xl.forEach(n);for(var a=0;a<Ks.length;a++){var o=Ks[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ks.length&&(a=Ks[0],a.blockedOn===null);)av(a),a.blockedOn===null&&Ks.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[jt]||null;if(typeof f=="function")_||lv(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[jt]||null)E=_.formAction;else if(Xd(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),lv(a)}}}function uv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Zd(t){this._internalRoot=t}Fc.prototype.render=Zd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Rn();ev(a,o,t,n,null,null)},Fc.prototype.unmount=Zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ev(t.current,2,null,t,null,null),Sc(),n[hi]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Su();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ks.length&&n!==0&&n<Ks[a].priority;a++);Ks.splice(a,0,t),a===0&&av(t)}};var cv=e.version;if(cv!=="19.2.0")throw Error(r(527,cv,"19.2.0"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var ob={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{Gn=Gc.inject(ob),qt=Gc}catch{}}return Ol.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=yy,f=_y,_=vy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=J_(t,1,!1,null,null,a,o,null,h,f,_,uv),t[hi]=n.current,Od(t),new Zd(n)},Ol.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=yy,_=_y,E=vy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=J_(t,1,!0,n,a??null,o,h,N,f,_,E,uv),n.context=W_(null),a=n.current,o=Rn(),o=Sr(o),h=Os(o),h.callback=null,Ms(a,h,o),a=o,n.current.lanes=a,Ar(n,a),Ci(n),t[hi]=n.current,Od(t),new Fc(n)},Ol.version="19.2.0",Ol}var Ev;function _b(){if(Ev)return em.exports;Ev=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),em.exports=yb(),em.exports}var vb=_b();const Eb=W0(vb),Tb=()=>{};var Tv={};const eE=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Ab=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],d=s[i++],p=s[i++],g=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},tE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,A=u>>2,S=(u&3)<<4|p>>4;let x=(p&15)<<2|y>>6,B=y&63;g||(B=64,d||(x=64)),r.push(i[A],i[S],i[x],i[B])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(eE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Ab(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||p==null||y==null||S==null)throw new bb;const x=u<<2|p>>4;if(r.push(x),y!==64){const B=p<<4&240|y>>2;if(r.push(B),S!==64){const q=y<<6&192|S;r.push(q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class bb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sb=function(s){const e=eE(s);return tE.encodeByteArray(e,!0)},ch=function(s){return Sb(s).replace(/\./g,"")},nE=function(s){try{return tE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Rb=()=>wb().__FIREBASE_DEFAULTS__,Cb=()=>{if(typeof process>"u"||typeof Tv>"u")return;const s=Tv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Ib=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&nE(s[1]);return e&&JSON.parse(e)},xh=()=>{try{return Tb()||Rb()||Cb()||Ib()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},iE=s=>xh()?.emulatorHosts?.[s],xb=s=>{const e=iE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},sE=()=>xh()?.config,rE=s=>xh()?.[`_${s}`];class Nb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function _o(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aE(s){return(await fetch(s,{credentials:"include"})).ok}function Db(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ch(JSON.stringify(i)),ch(JSON.stringify(d)),""].join(".")}const Pl={};function Ob(){const s={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?s.emulator.push(e):s.prod.push(e);return s}function Mb(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Av=!1;function oE(s,e){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||Pl[s]===e||Pl[s]||Av)return;Pl[s]=e;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",u=Ob().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,B){x.setAttribute("width","24"),x.setAttribute("id",B),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Av=!0,d()},x}function A(x,B){x.setAttribute("id",B),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=Mb(r),B=i("text"),q=document.getElementById(B)||document.createElement("span"),G=i("learnmore"),Z=document.getElementById(G)||document.createElement("a"),ne=i("preprendIcon"),ee=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ae=x.element;p(ae),A(Z,G);const ge=y();g(ee,ne),ae.append(ee,q,Z,ge),document.body.appendChild(ae)}u?(q.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function kb(){const s=xh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ub(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function jb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pb(){const s=nn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function zb(){return!kb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bb(){try{return typeof indexedDB=="object"}catch{return!1}}function qb(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const Hb="FirebaseError";class ps extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=Hb,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?Fb(u,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ps(l,p,r)}}function Fb(s,e){return s.replace(Gb,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const Gb=/\{\$([^}]+)}/g;function Qb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function us(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(bv(u)&&bv(d)){if(!us(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function bv(s){return s!==null&&typeof s=="object"}function iu(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ml(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Vl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function Kb(s,e){const i=new Yb(s,e);return i.subscribe.bind(i)}class Yb{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");Xb(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=sm),l.error===void 0&&(l.error=sm),l.complete===void 0&&(l.complete=sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xb(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function sm(){}function Tt(s){return s&&s._delegate?s._delegate:s}class Wr{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xr="[DEFAULT]";class $b{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new Nb;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jb(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zb(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zb(s){return s===Xr?void 0:s}function Jb(s){return s.instantiationMode==="EAGER"}class Wb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new $b(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Me;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Me||(Me={}));const eS={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},tS=Me.INFO,nS={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},iS=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=nS[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qm{constructor(e){this.name=e,this._logLevel=tS,this._logHandler=iS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const sS=(s,e)=>e.some(i=>s instanceof i);let Sv,wv;function rS(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aS(){return wv||(wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lE=new WeakMap,ym=new WeakMap,uE=new WeakMap,rm=new WeakMap,Km=new WeakMap;function oS(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(nr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&lE.set(i,s)}).catch(()=>{}),Km.set(e,s),e}function lS(s){if(ym.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});ym.set(s,e)}let _m={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return ym.get(s);if(e==="objectStoreNames")return s.objectStoreNames||uE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return nr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function uS(s){_m=s(_m)}function cS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(am(this),e,...i);return uE.set(r,e.sort?e.sort():[e]),nr(r)}:aS().includes(s)?function(...e){return s.apply(am(this),e),nr(lE.get(this))}:function(...e){return nr(s.apply(am(this),e))}}function hS(s){return typeof s=="function"?cS(s):(s instanceof IDBTransaction&&lS(s),sS(s,rS())?new Proxy(s,_m):s)}function nr(s){if(s instanceof IDBRequest)return oS(s);if(rm.has(s))return rm.get(s);const e=hS(s);return e!==s&&(rm.set(s,e),Km.set(e,s)),e}const am=s=>Km.get(s);function fS(s,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),p=nr(d);return r&&d.addEventListener("upgradeneeded",g=>{r(nr(d.result),g.oldVersion,g.newVersion,nr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const dS=["get","getKey","getAll","getAllKeys","count"],mS=["put","add","delete","clear"],om=new Map;function Rv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(om.get(e))return om.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=mS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||dS.includes(i)))return;const u=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&g.done]))[0]};return om.set(e,u),u}uS(s=>({...s,get:(e,i,r)=>Rv(e,i)||s.get(e,i,r),has:(e,i)=>!!Rv(e,i)||s.has(e,i)}));class pS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(gS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function gS(s){return s.getComponent()?.type==="VERSION"}const vm="@firebase/app",Cv="0.14.6";const cs=new Qm("@firebase/app"),yS="@firebase/app-compat",_S="@firebase/analytics-compat",vS="@firebase/analytics",ES="@firebase/app-check-compat",TS="@firebase/app-check",AS="@firebase/auth",bS="@firebase/auth-compat",SS="@firebase/database",wS="@firebase/data-connect",RS="@firebase/database-compat",CS="@firebase/functions",IS="@firebase/functions-compat",xS="@firebase/installations",NS="@firebase/installations-compat",DS="@firebase/messaging",OS="@firebase/messaging-compat",MS="@firebase/performance",VS="@firebase/performance-compat",kS="@firebase/remote-config",US="@firebase/remote-config-compat",LS="@firebase/storage",jS="@firebase/storage-compat",PS="@firebase/firestore",zS="@firebase/ai",BS="@firebase/firestore-compat",qS="firebase",HS="12.6.0";const Em="[DEFAULT]",FS={[vm]:"fire-core",[yS]:"fire-core-compat",[vS]:"fire-analytics",[_S]:"fire-analytics-compat",[TS]:"fire-app-check",[ES]:"fire-app-check-compat",[AS]:"fire-auth",[bS]:"fire-auth-compat",[SS]:"fire-rtdb",[wS]:"fire-data-connect",[RS]:"fire-rtdb-compat",[CS]:"fire-fn",[IS]:"fire-fn-compat",[xS]:"fire-iid",[NS]:"fire-iid-compat",[DS]:"fire-fcm",[OS]:"fire-fcm-compat",[MS]:"fire-perf",[VS]:"fire-perf-compat",[kS]:"fire-rc",[US]:"fire-rc-compat",[LS]:"fire-gcs",[jS]:"fire-gcs-compat",[PS]:"fire-fst",[BS]:"fire-fst-compat",[zS]:"fire-vertex","fire-js":"fire-js",[qS]:"fire-js-all"};const hh=new Map,GS=new Map,Tm=new Map;function Iv(s,e){try{s.container.addComponent(e)}catch(i){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function lo(s){const e=s.name;if(Tm.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;Tm.set(e,s);for(const i of hh.values())Iv(i,s);for(const i of GS.values())Iv(i,s);return!0}function Ym(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function qn(s){return s==null?!1:s.settings!==void 0}const QS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new nu("app","Firebase",QS);class KS{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const vo=HS;function cE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Em,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw ir.create("bad-app-name",{appName:String(l)});if(i||(i=sE()),!i)throw ir.create("no-options");const u=hh.get(l);if(u){if(us(i,u.options)&&us(r,u.config))return u;throw ir.create("duplicate-app",{appName:l})}const d=new Wb(l);for(const g of Tm.values())d.addComponent(g);const p=new KS(i,r,d);return hh.set(l,p),p}function hE(s=Em){const e=hh.get(s);if(!e&&s===Em&&sE())return cE();if(!e)throw ir.create("no-app",{appName:s});return e}function sr(s,e,i){let r=FS[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(d.join(" "));return}lo(new Wr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const YS="firebase-heartbeat-database",XS=1,Gl="firebase-heartbeat-store";let lm=null;function fE(){return lm||(lm=fS(YS,XS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Gl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ir.create("idb-open",{originalErrorMessage:s.message})})),lm}async function $S(s){try{const i=(await fE()).transaction(Gl),r=await i.objectStore(Gl).get(dE(s));return await i.done,r}catch(e){if(e instanceof ps)cs.warn(e.message);else{const i=ir.create("idb-get",{originalErrorMessage:e?.message});cs.warn(i.message)}}}async function xv(s,e){try{const r=(await fE()).transaction(Gl,"readwrite");await r.objectStore(Gl).put(e,dE(s)),await r.done}catch(i){if(i instanceof ps)cs.warn(i.message);else{const r=ir.create("idb-set",{originalErrorMessage:i?.message});cs.warn(r.message)}}}function dE(s){return`${s.name}!${s.options.appId}`}const ZS=1024,JS=30;class WS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new tw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Nv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>JS){const l=nw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Nv(),{heartbeatsToSend:i,unsentEntries:r}=ew(this._heartbeatsCache.heartbeats),l=ch(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return cs.warn(e),""}}}function Nv(){return new Date().toISOString().substring(0,10)}function ew(s,e=ZS){const i=[];let r=s.slice();for(const l of s){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),Dv(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Dv(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class tw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bb()?qb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await $S(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Dv(s){return ch(JSON.stringify({version:2,heartbeats:s})).length}function nw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function iw(s){lo(new Wr("platform-logger",e=>new pS(e),"PRIVATE")),lo(new Wr("heartbeat",e=>new WS(e),"PRIVATE")),sr(vm,Cv,s),sr(vm,Cv,"esm2020"),sr("fire-js","")}iw("");var sw="firebase",rw="12.6.0";sr(sw,rw,"app");function mE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aw=mE,pE=new nu("auth","Firebase",mE());const fh=new Qm("@firebase/auth");function ow(s,...e){fh.logLevel<=Me.WARN&&fh.warn(`Auth (${vo}): ${s}`,...e)}function eh(s,...e){fh.logLevel<=Me.ERROR&&fh.error(`Auth (${vo}): ${s}`,...e)}function si(s,...e){throw Xm(s,...e)}function xi(s,...e){return Xm(s,...e)}function gE(s,e,i){const r={...aw(),[e]:i};return new nu("auth","Firebase",r).create(e,{appName:s.name})}function as(s){return gE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xm(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return pE.create(s,...e)}function ye(s,e,...i){if(!s)throw Xm(e,...i)}function ss(s){const e="INTERNAL ASSERTION FAILED: "+s;throw eh(e),new Error(e)}function hs(s,e){s||ss(e)}function Am(){return typeof self<"u"&&self.location?.href||""}function lw(){return Ov()==="http:"||Ov()==="https:"}function Ov(){return typeof self<"u"&&self.location?.protocol||null}function uw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lw()||Lb()||"connection"in navigator)?navigator.onLine:!0}function cw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class su{constructor(e,i){this.shortDelay=e,this.longDelay=i,hs(i>e,"Short delay should be less than long delay!"),this.isMobile=Vb()||jb()}get(){return uw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $m(s,e){hs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class yE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dw=new su(3e4,6e4);function dr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function mr(s,e,i,r,l={}){return _E(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const p=iu({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...u};return Ub()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&_o(s.emulatorConfig.host)&&(y.credentials="include"),yE.fetch()(await vE(s,s.config.apiHost,i,p),y)})}async function _E(s,e,i){s._canInitEmulator=!1;const r={...hw,...e};try{const l=new pw(s),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Qc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Qc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Qc(s,"user-disabled",d);const A=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw gE(s,A,y);si(s,A)}}catch(l){if(l instanceof ps)throw l;si(s,"network-request-failed",{message:String(l)})}}async function ru(s,e,i,r,l={}){const u=await mr(s,e,i,r,l);return"mfaPendingCredential"in u&&si(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function vE(s,e,i,r){const l=`${e}${i}?${r}`,u=s,d=u.config.emulator?$m(s.config,l):`${s.config.apiScheme}://${l}`;return fw.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function mw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),dw.get())})}}function Qc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=xi(s,e,r);return l.customData._tokenResponse=i,l}function Mv(s){return s!==void 0&&s.enterprise!==void 0}class gw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return mw(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yw(s,e){return mr(s,"GET","/v2/recaptchaConfig",dr(s,e))}async function _w(s,e){return mr(s,"POST","/v1/accounts:delete",e)}async function dh(s,e){return mr(s,"POST","/v1/accounts:lookup",e)}function zl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vw(s,e=!1){const i=Tt(s),r=await i.getIdToken(e),l=Zm(r);ye(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:zl(um(l.auth_time)),issuedAtTime:zl(um(l.iat)),expirationTime:zl(um(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function um(s){return Number(s)*1e3}function Zm(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const l=nE(i);return l?JSON.parse(l):(eh("Failed to decode base64 JWT payload"),null)}catch(l){return eh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Vv(s){const e=Zm(s);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ql(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof ps&&Ew(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Ew({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Tw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class bm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function mh(s){const e=s.auth,i=await s.getIdToken(),r=await Ql(s,dh(e,{idToken:i}));ye(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?EE(l.providerUserInfo):[],d=bw(s.providerData,u),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,y=p?g:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new bm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function Aw(s){const e=Tt(s);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bw(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function EE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Sw(s,e){const i=await _E(s,{},async()=>{const r=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await vE(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&_o(s.emulatorConfig.host)&&(g.credentials="include"),yE.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function ww(s,e){return mr(s,"POST","/v2/accounts:revokeToken",dr(s,e))}class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const i=Vv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await Sw(e,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,d=new so;return r&&(ye(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(ye(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(ye(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return ss("not implemented")}}function Xs(s,e){ye(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Tw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new bm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return ye(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return vw(this,e)}reload(){return Aw(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(as(this.auth));const e=await this.getIdToken();return await Ql(this,_w(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,g=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:B,providerData:q,stsTokenManager:G}=i;ye(S&&G,e,"internal-error");const Z=so.fromJSON(this.name,G);ye(typeof S=="string",e,"internal-error"),Xs(r,e.name),Xs(l,e.name),ye(typeof x=="boolean",e,"internal-error"),ye(typeof B=="boolean",e,"internal-error"),Xs(u,e.name),Xs(d,e.name),Xs(p,e.name),Xs(g,e.name),Xs(y,e.name),Xs(A,e.name);const ne=new ii({uid:S,auth:e,email:l,emailVerified:x,displayName:r,isAnonymous:B,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:Z,createdAt:y,lastLoginAt:A});return q&&Array.isArray(q)&&(ne.providerData=q.map(ee=>({...ee}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,i,r=!1){const l=new so;l.updateFromServerResponse(i);const u=new ii({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await mh(u),u}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];ye(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?EE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new so;p.updateFromIdToken(r);const g=new ii({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new bm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const kv=new Map;function rs(s){hs(s instanceof Function,"Expected a class definition");let e=kv.get(s);return e?(hs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,kv.set(s,e),e)}class TE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}TE.type="NONE";const Uv=TE;function th(s,e,i){return`firebase:${s}:${e}:${i}`}class ro{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=th(this.userKey,l.apiKey,u),this.fullPersistenceKey=th("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await dh(this.auth,{idToken:e}).catch(()=>{});return i?ii._fromGetAccountInfoResponse(this.auth,i,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new ro(rs(Uv),e,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||rs(Uv);const d=th(r,e.config.apiKey,e.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const x=await dh(e,{idToken:A}).catch(()=>{});if(!x)break;S=await ii._fromGetAccountInfoResponse(e,x,A)}else S=ii._fromJSON(e,A);y!==u&&(p=S),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new ro(u,e,r):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new ro(u,e,r))}}function Lv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CE(e))return"Blackberry";if(IE(e))return"Webos";if(bE(e))return"Safari";if((e.includes("chrome/")||SE(e))&&!e.includes("edge/"))return"Chrome";if(RE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function AE(s=nn()){return/firefox\//i.test(s)}function bE(s=nn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SE(s=nn()){return/crios\//i.test(s)}function wE(s=nn()){return/iemobile/i.test(s)}function RE(s=nn()){return/android/i.test(s)}function CE(s=nn()){return/blackberry/i.test(s)}function IE(s=nn()){return/webos/i.test(s)}function Jm(s=nn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Rw(s=nn()){return Jm(s)&&!!window.navigator?.standalone}function Cw(){return Pb()&&document.documentMode===10}function xE(s=nn()){return Jm(s)||RE(s)||IE(s)||CE(s)||/windows phone/i.test(s)||wE(s)}function NE(s,e=[]){let i;switch(s){case"Browser":i=Lv(nn());break;case"Worker":i=`${Lv(nn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${vo}/${r}`}class Iw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((d,p)=>{try{const g=e(u);d(g)}catch(g){p(g)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function xw(s,e={}){return mr(s,"GET","/v2/passwordPolicy",dr(s,e))}const Nw=6;class Dw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Nw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class Ow{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jv(this),this.idTokenSubscription=new jv(this),this.beforeStateQueue=new Iw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=rs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ro.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await dh(this,{idToken:e}),r=await ii._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(as(this));const i=e?Tt(e):null;return i&&ye(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(as(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(as(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xw(this),i=new Dw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await ww(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&rs(e)||this._popupRedirectResolver;ye(i,this,"argument-error"),this.redirectPersistenceManager=await ro.create(this,[rs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ow(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ra(s){return Tt(s)}class jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Kb(i=>this.observer=i)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mw(s){Nh=s}function DE(s){return Nh.loadJS(s)}function Vw(){return Nh.recaptchaEnterpriseScript}function kw(){return Nh.gapiScript}function Uw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Lw{constructor(){this.enterprise=new jw}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class jw{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const Pw="recaptcha-enterprise",OE="NO_RECAPTCHA";class zw{constructor(e){this.type=Pw,this.auth=ra(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{yw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new gw(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function l(u,d,p){const g=window.grecaptcha;Mv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{d(y)}).catch(()=>{d(OE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Lw().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(p=>{if(!i&&Mv(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Vw();g.length!==0&&(g+=p),DE(g).then(()=>{l(p,u,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function Pv(s,e,i,r=!1,l=!1){const u=new zw(s);let d;if(l)d=OE;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Sm(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Pv(s,e,i,i==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Pv(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function Bw(s,e){const i=Ym(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(us(u,e??{}))return l;si(l,"already-initialized")}return i.initialize({options:e})}function qw(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(rs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function Hw(s,e,i){const r=ra(s);ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=ME(e),{host:d,port:p}=Fw(e),g=p===null?"":`:${p}`,y={url:`${u}//${d}${g}/`},A=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ye(us(y,r.config.emulator)&&us(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,_o(d)?(aE(`${u}//${d}${g}`),oE("Auth",!0)):Gw()}function ME(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Fw(s){const e=ME(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:zv(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:zv(d)}}}function zv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Gw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Wm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ss("not implemented")}_getIdTokenResponse(e){return ss("not implemented")}_linkToIdToken(e,i){return ss("not implemented")}_getReauthenticationResolver(e){return ss("not implemented")}}async function Qw(s,e){return mr(s,"POST","/v1/accounts:signUp",e)}async function Kw(s,e){return ru(s,"POST","/v1/accounts:signInWithPassword",dr(s,e))}async function Yw(s,e){return ru(s,"POST","/v1/accounts:signInWithEmailLink",dr(s,e))}async function Xw(s,e){return ru(s,"POST","/v1/accounts:signInWithEmailLink",dr(s,e))}class Kl extends Wm{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Kl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Kl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(e,i,"signInWithPassword",Kw);case"emailLink":return Yw(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(e,r,"signUpPassword",Qw);case"emailLink":return Xw(e,{idToken:i,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ao(s,e){return ru(s,"POST","/v1/accounts:signInWithIdp",dr(s,e))}const $w="http://localhost";class ea extends Wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):si("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=i;if(!r||!l)return null;const d=new ea(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ao(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,ao(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ao(e,i)}buildRequest(){const e={requestUri:$w,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=iu(i)}return e}}function Zw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jw(s){const e=Ml(Vl(s)).link,i=e?Ml(Vl(e)).deep_link_id:null,r=Ml(Vl(s)).deep_link_id;return(r?Ml(Vl(r)).link:null)||r||i||e||s}class ep{constructor(e){const i=Ml(Vl(e)),r=i.apiKey??null,l=i.oobCode??null,u=Zw(i.mode??null);ye(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=Jw(e);try{return new ep(i)}catch{return null}}}class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(e,i){return Kl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=ep.parseLink(i);return ye(r,"argument-error"),Kl._fromEmailAndCode(e,r.code,r.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class VE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class au extends VE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $s extends au{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";class Zs extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ea._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Zs.credential(i,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";class Js extends au{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";class Ws extends au{constructor(){super("twitter.com")}static credential(e,i){return ea._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Ws.credential(i,r)}catch{return null}}}Ws.TWITTER_SIGN_IN_METHOD="twitter.com";Ws.PROVIDER_ID="twitter.com";async function Ww(s,e){return ru(s,"POST","/v1/accounts:signUp",dr(s,e))}class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const u=await ii._fromIdTokenResponse(e,r,l),d=Bv(r);return new ta({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=Bv(r);return new ta({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function Bv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class ph extends ps{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new ph(e,i,r,l)}}function kE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(s,u,e,r):u})}async function e2(s,e,i=!1){const r=await Ql(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ta._forOperation(s,"link",r)}async function t2(s,e,i=!1){const{auth:r}=s;if(qn(r.app))return Promise.reject(as(r));const l="reauthenticate";try{const u=await Ql(s,kE(r,l,e,s),i);ye(u.idToken,r,"internal-error");const d=Zm(u.idToken);ye(d,r,"internal-error");const{sub:p}=d;return ye(s.uid===p,r,"user-mismatch"),ta._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&si(r,"user-mismatch"),u}}async function UE(s,e,i=!1){if(qn(s.app))return Promise.reject(as(s));const r="signIn",l=await kE(s,r,e),u=await ta._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(u.user),u}async function n2(s,e){return UE(ra(s),e)}async function LE(s){const e=ra(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function i2(s,e,i){if(qn(s.app))return Promise.reject(as(s));const r=ra(s),d=await Sm(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ww).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&LE(s),g}),p=await ta._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function s2(s,e,i){return qn(s.app)?Promise.reject(as(s)):n2(Tt(s),Eo.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&LE(s),r})}function r2(s,e,i,r){return Tt(s).onIdTokenChanged(e,i,r)}function a2(s,e,i){return Tt(s).beforeAuthStateChanged(e,i)}function o2(s,e,i,r){return Tt(s).onAuthStateChanged(e,i,r)}function l2(s){return Tt(s).signOut()}const gh="__sak";class jE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const u2=1e3,c2=10;class PE extends jE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);Cw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,c2):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},u2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}PE.type="LOCAL";const h2=PE;class zE extends jE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}zE.type="SESSION";const BE=zE;function f2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Dh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,u)),g=await f2(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];function tp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class d2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const y=tp("",20);l.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const x=S;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(x.data.response);break;default:clearTimeout(A),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function m2(s){Ni().location.href=s}function qE(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function p2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g2(){return navigator?.serviceWorker?.controller||null}function y2(){return qE()?self:null}const HE="firebaseLocalStorageDb",_2=1,yh="firebaseLocalStorage",FE="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Oh(s,e){return s.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function v2(){const s=indexedDB.deleteDatabase(HE);return new ou(s).toPromise()}function wm(){const s=indexedDB.open(HE,_2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(yh,{keyPath:FE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(yh)?e(r):(r.close(),await v2(),e(await wm()))})})}async function qv(s,e,i){const r=Oh(s,!0).put({[FE]:e,value:i});return new ou(r).toPromise()}async function E2(s,e){const i=Oh(s,!1).get(e),r=await new ou(i).toPromise();return r===void 0?null:r.value}function Hv(s,e){const i=Oh(s,!0).delete(e);return new ou(i).toPromise()}const T2=800,A2=3;class GE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>A2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(y2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await p2(),!this.activeServiceWorker)return;this.sender=new d2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wm();return await qv(e,gh,"1"),await Hv(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>qv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>E2(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Hv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Oh(l,!1).getAll();return new ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GE.type="LOCAL";const b2=GE;new su(3e4,6e4);function S2(s,e){return e?rs(e):(ye(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class np extends Wm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ao(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function w2(s){return UE(s.auth,new np(s),s.bypassAuthState)}function R2(s){const{auth:e,user:i}=s;return ye(i,e,"internal-error"),t2(i,new np(s),s.bypassAuthState)}async function C2(s){const{auth:e,user:i}=s;return ye(i,e,"internal-error"),e2(i,new np(s),s.bypassAuthState)}class QE{constructor(e,i,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w2;case"linkViaPopup":case"linkViaRedirect":return C2;case"reauthViaPopup":case"reauthViaRedirect":return R2;default:si(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const I2=new su(2e3,1e4);class io extends QE{constructor(e,i,r,l,u){super(e,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I2.get())};e()}}io.currentPopupAction=null;const x2="pendingRedirect",nh=new Map;class N2 extends QE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const r=await D2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function D2(s,e){const i=V2(e),r=M2(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function O2(s,e){nh.set(s._key(),e)}function M2(s){return rs(s._redirectPersistence)}function V2(s){return th(x2,s.config.apiKey,s.name)}async function k2(s,e,i=!1){if(qn(s.app))return Promise.reject(as(s));const r=ra(s),l=S2(r,e),d=await new N2(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const U2=600*1e3;class L2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!KE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(xi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fv(e))}saveEventToCache(e){this.cachedEventUids.add(Fv(e)),this.lastProcessedEventTime=Date.now()}}function Fv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function KE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function j2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KE(s);default:return!1}}async function P2(s,e={}){return mr(s,"GET","/v1/projects",e)}const z2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B2=/^https?/;async function q2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await P2(s);for(const i of e)try{if(H2(i))return}catch{}si(s,"unauthorized-domain")}function H2(s){const e=Am(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!B2.test(i))return!1;if(z2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const F2=new su(3e4,6e4);function Gv(){const s=Ni().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function G2(s){return new Promise((e,i)=>{function r(){Gv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gv(),i(xi(s,"network-request-failed"))},timeout:F2.get()})}if(Ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ni().gapi?.load)r();else{const l=Uw("iframefcb");return Ni()[l]=()=>{gapi.load?r():i(xi(s,"network-request-failed"))},DE(`${kw()}?onload=${l}`).catch(u=>i(u))}}).catch(e=>{throw ih=null,e})}let ih=null;function Q2(s){return ih=ih||G2(s),ih}const K2=new su(5e3,15e3),Y2="__/auth/iframe",X2="emulator/auth/iframe",$2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J2(s){const e=s.config;ye(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?$m(e,X2):`https://${s.config.authDomain}/${Y2}`,r={apiKey:e.apiKey,appName:s.name,v:vo},l=Z2.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${iu(r).slice(1)}`}async function W2(s){const e=await Q2(s),i=Ni().gapi;return ye(i,s,"internal-error"),e.open({where:document.body,url:J2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$2,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=xi(s,"network-request-failed"),p=Ni().setTimeout(()=>{u(d)},K2.get());function g(){Ni().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{u(d)})}))}const eR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tR=500,nR=600,iR="_blank",sR="http://localhost";class Qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rR(s,e,i,r=tR,l=nR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...eR,width:r.toString(),height:l.toString(),top:u,left:d},y=nn().toLowerCase();i&&(p=SE(y)?iR:i),AE(y)&&(e=e||sR,g.scrollbars="yes");const A=Object.entries(g).reduce((x,[B,q])=>`${x}${B}=${q},`,"");if(Rw(y)&&p!=="_self")return aR(e||"",p),new Qv(null);const S=window.open(e||"",p,A);ye(S,s,"popup-blocked");try{S.focus()}catch{}return new Qv(S)}function aR(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const oR="__/auth/handler",lR="emulator/auth/handler",uR=encodeURIComponent("fac");async function Kv(s,e,i,r,l,u){ye(s.config.authDomain,s,"auth-domain-config-required"),ye(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:vo,eventId:l};if(e instanceof VE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",Qb(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(e instanceof au){const A=e.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const g=await s._getAppCheckToken(),y=g?`#${uR}=${encodeURIComponent(g)}`:"";return`${cR(s)}?${iu(p).slice(1)}${y}`}function cR({config:s}){return s.emulator?$m(s,lR):`https://${s.authDomain}/${oR}`}const cm="webStorageSupport";class hR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BE,this._completeRedirectFn=k2,this._overrideRedirectResult=O2}async _openPopup(e,i,r,l){hs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Kv(e,i,r,Am(),l);return rR(e,u,tp())}async _openRedirect(e,i,r,l){await this._originValidation(e);const u=await Kv(e,i,r,Am(),l);return m2(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(hs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await W2(e),r=new L2(e);return i.register("authEvent",l=>(ye(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(cm,{type:cm},l=>{const u=l?.[0]?.[cm];u!==void 0&&i(!!u),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=q2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return xE()||bE()||Jm()}}const fR=hR;var Yv="@firebase/auth",Xv="1.11.1";class dR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pR(s){lo(new Wr("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;ye(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NE(s)},y=new Ow(r,l,u,g);return qw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),lo(new Wr("auth-internal",e=>{const i=ra(e.getProvider("auth").getImmediate());return(r=>new dR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(Yv,Xv,mR(s)),sr(Yv,Xv,"esm2020")}const gR=300,yR=rE("authIdTokenMaxAge")||gR;let $v=null;const _R=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>yR)return;const l=i?.token;$v!==l&&($v=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function vR(s=hE()){const e=Ym(s,"auth");if(e.isInitialized())return e.getImmediate();const i=Bw(s,{popupRedirectResolver:fR,persistence:[b2,h2,BE]}),r=rE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=_R(u.toString());a2(i,d,()=>d(i.currentUser)),r2(i,p=>d(p))}}const l=iE("auth");return l&&Hw(i,`http://${l}`),i}function ER(){return document.getElementsByTagName("head")?.[0]??document}Mw({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=xi("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",ER().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pR("Browser");var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rr,YE;(function(){var s;function e(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(V,D,U){for(var I=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)I[qe-2]=arguments[qe];return w.prototype[D].apply(V,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],D=R.g[2];let U=R.g[3],I;I=w+(U^C&(D^U))+V[0]+3614090360&4294967295,w=C+(I<<7&4294967295|I>>>25),I=U+(D^w&(C^D))+V[1]+3905402710&4294967295,U=w+(I<<12&4294967295|I>>>20),I=D+(C^U&(w^C))+V[2]+606105819&4294967295,D=U+(I<<17&4294967295|I>>>15),I=C+(w^D&(U^w))+V[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(U^C&(D^U))+V[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=U+(D^w&(C^D))+V[5]+1200080426&4294967295,U=w+(I<<12&4294967295|I>>>20),I=D+(C^U&(w^C))+V[6]+2821735955&4294967295,D=U+(I<<17&4294967295|I>>>15),I=C+(w^D&(U^w))+V[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(U^C&(D^U))+V[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=U+(D^w&(C^D))+V[9]+2336552879&4294967295,U=w+(I<<12&4294967295|I>>>20),I=D+(C^U&(w^C))+V[10]+4294925233&4294967295,D=U+(I<<17&4294967295|I>>>15),I=C+(w^D&(U^w))+V[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(U^C&(D^U))+V[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=U+(D^w&(C^D))+V[13]+4254626195&4294967295,U=w+(I<<12&4294967295|I>>>20),I=D+(C^U&(w^C))+V[14]+2792965006&4294967295,D=U+(I<<17&4294967295|I>>>15),I=C+(w^D&(U^w))+V[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(D^U&(C^D))+V[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=U+(C^D&(w^C))+V[6]+3225465664&4294967295,U=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(U^w))+V[11]+643717713&4294967295,D=U+(I<<14&4294967295|I>>>18),I=C+(U^w&(D^U))+V[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^U&(C^D))+V[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=U+(C^D&(w^C))+V[10]+38016083&4294967295,U=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(U^w))+V[15]+3634488961&4294967295,D=U+(I<<14&4294967295|I>>>18),I=C+(U^w&(D^U))+V[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^U&(C^D))+V[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=U+(C^D&(w^C))+V[14]+3275163606&4294967295,U=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(U^w))+V[3]+4107603335&4294967295,D=U+(I<<14&4294967295|I>>>18),I=C+(U^w&(D^U))+V[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^U&(C^D))+V[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=U+(C^D&(w^C))+V[2]+4243563512&4294967295,U=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(U^w))+V[7]+1735328473&4294967295,D=U+(I<<14&4294967295|I>>>18),I=C+(U^w&(D^U))+V[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(C^D^U)+V[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=U+(w^C^D)+V[8]+2272392833&4294967295,U=w+(I<<11&4294967295|I>>>21),I=D+(U^w^C)+V[11]+1839030562&4294967295,D=U+(I<<16&4294967295|I>>>16),I=C+(D^U^w)+V[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^U)+V[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=U+(w^C^D)+V[4]+1272893353&4294967295,U=w+(I<<11&4294967295|I>>>21),I=D+(U^w^C)+V[7]+4139469664&4294967295,D=U+(I<<16&4294967295|I>>>16),I=C+(D^U^w)+V[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^U)+V[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=U+(w^C^D)+V[0]+3936430074&4294967295,U=w+(I<<11&4294967295|I>>>21),I=D+(U^w^C)+V[3]+3572445317&4294967295,D=U+(I<<16&4294967295|I>>>16),I=C+(D^U^w)+V[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^U)+V[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=U+(w^C^D)+V[12]+3873151461&4294967295,U=w+(I<<11&4294967295|I>>>21),I=D+(U^w^C)+V[15]+530742520&4294967295,D=U+(I<<16&4294967295|I>>>16),I=C+(D^U^w)+V[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(D^(C|~U))+V[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=U+(C^(w|~D))+V[7]+1126891415&4294967295,U=w+(I<<10&4294967295|I>>>22),I=D+(w^(U|~C))+V[14]+2878612391&4294967295,D=U+(I<<15&4294967295|I>>>17),I=C+(U^(D|~w))+V[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~U))+V[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=U+(C^(w|~D))+V[3]+2399980690&4294967295,U=w+(I<<10&4294967295|I>>>22),I=D+(w^(U|~C))+V[10]+4293915773&4294967295,D=U+(I<<15&4294967295|I>>>17),I=C+(U^(D|~w))+V[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~U))+V[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=U+(C^(w|~D))+V[15]+4264355552&4294967295,U=w+(I<<10&4294967295|I>>>22),I=D+(w^(U|~C))+V[6]+2734768916&4294967295,D=U+(I<<15&4294967295|I>>>17),I=C+(U^(D|~w))+V[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~U))+V[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=U+(C^(w|~D))+V[11]+3174756917&4294967295,U=w+(I<<10&4294967295|I>>>22),I=D+(w^(U|~C))+V[2]+718787259&4294967295,D=U+(I<<15&4294967295|I>>>17),I=C+(U^(D|~w))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+U&4294967295}r.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<w;){if(D==0)for(;U<=C;)l(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<w;)if(V[D++]=R.charCodeAt(U++),D==this.blockSize){l(this,V),D=0;break}}else for(;U<w;)if(V[D++]=R[U++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)R[w++]=this.g[C]>>>V&255;return R};function u(R,w){var C=p;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function d(R,w){this.h=w;const C=[];let V=!0;for(let D=R.length-1;D>=0;D--){const U=R[D]|0;V&&U==w||(C[D]=U,V=!1)}this.g=C}var p={};function g(R){return-128<=R&&R<128?u(R,function(w){return new d([w|0],w<0?-1:0)}):new d([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return S;if(R<0)return Z(y(-R));const w=[];let C=1;for(let V=0;R>=C;V++)w[V]=R/C|0,C*=4294967296;return new d(w,0)}function A(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return Z(A(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let V=S;for(let U=0;U<R.length;U+=8){var D=Math.min(8,R.length-U);const I=parseInt(R.substring(U,U+D),w);D<8?(D=y(Math.pow(w,D)),V=V.j(D).add(y(I))):(V=V.j(C),V=V.add(y(I)))}return V}var S=g(0),x=g(1),B=g(16777216);s=d.prototype,s.m=function(){if(G(this))return-Z(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);R+=(V>=0?V:4294967296+V)*w,w*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(q(this))return"0";if(G(this))return"-"+Z(this).toString(R);const w=y(Math.pow(R,6));var C=this;let V="";for(;;){const D=ge(C,w).g;C=ne(C,D.j(w));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=D,q(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function q(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function G(R){return R.h==-1}s.l=function(R){return R=ne(this,R),G(R)?-1:q(R)?0:1};function Z(R){const w=R.g.length,C=[];for(let V=0;V<w;V++)C[V]=~R.g[V];return new d(C,~R.h).add(x)}s.abs=function(){return G(this)?Z(this):this},s.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let V=0;for(let D=0;D<=w;D++){let U=V+(this.i(D)&65535)+(R.i(D)&65535),I=(U>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);V=I>>>16,U&=65535,I&=65535,C[D]=I<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ne(R,w){return R.add(Z(w))}s.j=function(R){if(q(this)||q(R))return S;if(G(this))return G(R)?Z(this).j(Z(R)):Z(Z(this).j(R));if(G(R))return Z(this.j(Z(R)));if(this.l(B)<0&&R.l(B)<0)return y(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<R.g.length;D++){const U=this.i(V)>>>16,I=this.i(V)&65535,qe=R.i(D)>>>16,at=R.i(D)&65535;C[2*V+2*D]+=I*at,ee(C,2*V+2*D),C[2*V+2*D+1]+=U*at,ee(C,2*V+2*D+1),C[2*V+2*D+1]+=I*qe,ee(C,2*V+2*D+1),C[2*V+2*D+2]+=U*qe,ee(C,2*V+2*D+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new d(C,0)};function ee(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function ae(R,w){this.g=R,this.h=w}function ge(R,w){if(q(w))throw Error("division by zero");if(q(R))return new ae(S,S);if(G(R))return w=ge(Z(R),w),new ae(Z(w.g),Z(w.h));if(G(w))return w=ge(R,Z(w)),new ae(Z(w.g),w.h);if(R.g.length>30){if(G(R)||G(w))throw Error("slowDivide_ only works with positive integers.");for(var C=x,V=w;V.l(R)<=0;)C=Re(C),V=Re(V);var D=be(C,1),U=be(V,1);for(V=be(V,2),C=be(C,2);!q(V);){var I=U.add(V);I.l(R)<=0&&(D=D.add(C),U=I),V=be(V,1),C=be(C,1)}return w=ne(R,D.j(w)),new ae(D,w)}for(D=S;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(C),I=U.j(w);G(I)||I.l(R)>0;)C-=V,U=y(C),I=U.j(w);q(U)&&(U=x),D=D.add(U),R=ne(R,I)}return new ae(D,R)}s.B=function(R){return ge(this,R).h},s.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&R.i(V);return new d(C,this.h&R.h)},s.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|R.i(V);return new d(C,this.h|R.h)},s.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^R.i(V);return new d(C,this.h^R.h)};function Re(R){const w=R.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=R.i(V)<<1|R.i(V-1)>>>31;return new d(C,R.h)}function be(R,w){const C=w>>5;w%=32;const V=R.g.length-C,D=[];for(let U=0;U<V;U++)D[U]=w>0?R.i(U+C)>>>w|R.i(U+C+1)<<32-w:R.i(U+C);return new d(D,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,YE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,rr=d}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var XE,kl,$E,sh,Rm,ZE,JE,WE;(function(){var s,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(c,m){if(m)e:{var v=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var L=c[b];if(!(L in v))break e;v=v[L]}c=c[c.length-1],b=v[c],m=m(b),m!=b&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=g,y.apply(null,arguments)}function A(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,L,H){for(var te=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)te[Se-2]=arguments[Se];return m.prototype[L].apply(b,te)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function B(c){const m=c.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=c[b];return v}return[]}function q(c,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const H=L.length||0;c.length=v+H;for(let te=0;te<H;te++)c[v+te]=L[te]}else c.push(L)}}class G{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(c){d.setTimeout(()=>{throw c},0)}function ne(){var c=R;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ee{constructor(){this.h=this.g=null}add(m,v){const b=ae.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ae=new G(()=>new ge,c=>c.reset());class ge{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,be=!1,R=new ee,w=()=>{const c=Promise.resolve(void 0);Re=()=>{c.then(C)}};function C(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){Z(v)}var m=ae;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}be=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function qe(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(qe,D),qe.prototype.init=function(c,m){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var at="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ie(c,m,v,b,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++Q,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pe(c,m,v){for(const b in c)m.call(v,c[b],b,c)}function Qe(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)c[v]=b[v];for(let H=0;H<J.length;H++)v=J[H],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,m,v,b,L){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const te=Ce(c,m,b,L);return te>-1?(m=c[te],v||(m.fa=!1)):(m=new ie(m,this.src,H,!!b,L),m.fa=v,c.push(m)),m};function ve(c,m){const v=m.type;if(v in c.g){var b=c.g[v],L=Array.prototype.indexOf.call(b,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(b,L,1),H&&(me(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,m,v,b){for(let L=0;L<c.length;++L){const H=c[L];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==b)return L}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Vt={};function ot(c,m,v,b,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)ot(c,m[H],v,b,L);return null}return v=xo(v),c&&c[at]?c.J(m,v,p(b)?!!b.capture:!1,L):_r(c,m,v,!1,b,L)}function _r(c,m,v,b,L,H){if(!m)throw Error("Invalid event type");const te=p(L)?!!L.capture:!!L;let Se=vr(c);if(Se||(c[Le]=Se=new le(c)),v=Se.add(m,v,b,te,H),v.proxy)return v;if(b=ua(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)U||(L=te),L===void 0&&(L=!1),c.addEventListener(m.toString(),b,L);else if(c.attachEvent)c.attachEvent(ai(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ua(){function c(v){return m.call(c.src,c.listener,v)}const m=Co;return c}function ca(c,m,v,b,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)ca(c,m[H],v,b,L);else b=p(b)?!!b.capture:!!b,v=xo(v),c&&c[at]?(c=c.i,H=String(m).toString(),H in c.g&&(m=c.g[H],v=Ce(m,v,b,L),v>-1&&(me(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[H],c.h--)))):c&&(c=vr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Ce(m,v,b,L)),(v=c>-1?m[c]:null)&&ha(v))}function ha(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[at])ve(m.i,c);else{var v=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(v,b,c.capture):m.detachEvent?m.detachEvent(ai(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=vr(m))?(ve(v,c),v.h==0&&(v.src=null,m[Le]=null)):me(c)}}}function ai(c){return c in Vt?Vt[c]:Vt[c]="on"+c}function Co(c,m){if(c.da)c=!0;else{m=new qe(m,this);const v=c.listener,b=c.ha||c.src;c.fa&&ha(c),c=v.call(b,m)}return c}function vr(c){return c=c[Le],c instanceof le?c:null}var Io="__closure_events_fn_"+(Math.random()*1e9>>>0);function xo(c){return typeof c=="function"?c:(c[Io]||(c[Io]=function(m){return c.handleEvent(m)}),c[Io])}function At(){V.call(this),this.i=new le(this),this.M=this,this.G=null}S(At,V),At.prototype[at]=!0,At.prototype.removeEventListener=function(c,m,v,b){ca(this,c,m,v,b)};function kt(c,m){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var L=m;m=new D(b,c),se(m,L)}L=!0;let H,te;if(v)for(te=v.length-1;te>=0;te--)H=m.g=v[te],L=gs(H,b,!0,m)&&L;if(H=m.g=c,L=gs(H,b,!0,m)&&L,L=gs(H,b,!1,m)&&L,v)for(te=0;te<v.length;te++)H=m.g=v[te],L=gs(H,b,!1,m)&&L}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let b=0;b<v.length;b++)me(v[b]);delete c.g[m],c.h--}}this.G=null},At.prototype.J=function(c,m,v,b){return this.i.add(String(c),m,!1,v,b)},At.prototype.K=function(c,m,v,b){return this.i.add(String(c),m,!0,v,b)};function gs(c,m,v,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const te=m[H];if(te&&!te.da&&te.capture==v){const Se=te.listener,yt=te.ha||te.src;te.fa&&ve(c.i,te),L=Se.call(yt,b)!==!1&&L}}return L&&!b.defaultPrevented}function Wh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function yu(c){c.g=Wh(()=>{c.g=null,c.i&&(c.i=!1,yu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class sn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:yu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(c){V.call(this),this.h=c,this.g={}}S(Er,V);var No=[];function Do(c){Pe(c.g,function(m,v){this.g.hasOwnProperty(v)&&ha(m)},c),c.g={}}Er.prototype.N=function(){Er.Z.N.call(this),Do(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ys=d.JSON.stringify,ef=d.JSON.parse,_u=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function vu(){}function Eu(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){D.call(this,"d")}S(qt,D);function xn(){D.call(this,"c")}S(xn,D);var gt={},Tu=null;function fa(){return Tu=Tu||new At}gt.Ia="serverreachability";function Au(c){D.call(this,gt.Ia,c)}S(Au,D);function oi(c){const m=fa();kt(m,new Au(m))}gt.STAT_EVENT="statevent";function Tr(c,m){D.call(this,gt.STAT_EVENT,c),this.stat=m}S(Tr,D);function bt(c){const m=fa();kt(m,new Tr(m,c))}gt.Ja="timingevent";function li(c,m){D.call(this,gt.Ja,c),this.size=m}S(li,D);function ui(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function tf(c,m,v,b,L,H){c.info(function(){if(c.g)if(H){var te="",Se=H.split("&");for(let He=0;He<Se.length;He++){var yt=Se[He].split("=");if(yt.length>1){const lt=yt[0];yt=yt[1];const Mn=lt.split("_");te=Mn.length>=2&&Mn[1]=="type"?te+(lt+"="+yt+"&"):te+(lt+"=redacted&")}}}else te=null;else te=H;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+te})}function bu(c,m,v,b,L,H,te){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+H+" "+te})}function ci(c,m,v,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+nf(c,v)+(b?" "+b:"")})}function Ar(c,m){c.info(function(){return"TIMEOUT: "+m})}Qn.prototype.info=function(){};function nf(c,m){if(!c.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let te=1;te<b.length;te++)b[te]=""}}}}return ys(H)}catch{return m}}var br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mo;function Sr(){}S(Sr,vu),Sr.prototype.g=function(){return new XMLHttpRequest},Mo=new Sr;function Pi(c){return encodeURIComponent(String(c))}function Su(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Kn(c,m,v,b){this.j=c,this.i=m,this.l=v,this.S=b||1,this.V=new Er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var St={},jt={};function hi(c,m,v){c.M=1,c.A=wr(Rt(m)),c.u=v,c.R=!0,da(c,null)}function da(c,m){c.F=Date.now(),fi(c),c.B=Rt(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),ya(v.i,"t",b),c.C=0,v=c.j.L,c.h=new Yn,c.g=Pu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new sn(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,b=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(No[0]=L.toString()),L=No);for(let H=0;H<L.length;H++){const te=ot(v,L[H],b||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),oi(),tf(c.i,c.v,c.B,c.l,c.S,c.u)}Kn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Zn(c)==3?m.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=Zn(this.g),yt=this.g.ya(),He=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Se!=4||yt==7||(yt==8||He<=0?oi(3):oi(2)),di(this);var m=this.g.ca();this.X=m;var v=sf(this);if(this.o=m==200,bu(this.i,this.v,this.B,this.l,this.S,Se,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var H=b;break t}}H=null}if(c=H)ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,c);else{this.o=!1,this.m=3,bt(12),_n(this),Nn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=Ru(this,v),lt==jt){Se==4&&(this.m=4,bt(14),c=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==St){this.m=4,bt(15),ci(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ci(this.i,this.l,lt,null),mi(this,lt);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,bt(16),c=!1),this.o=this.o&&c,!c)ci(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(te),te.P=!0,bt(11))}}else ci(this.i,this.l,v,null),mi(this,v);Se==4&&_n(this),this.o&&!this.K&&(Se==4?ku(this.j,this):(this.o=!1,fi(this)))}else Bi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),_n(this),Nn(this)}}}catch{}finally{}};function sf(c){if(!wu(c))return c.g.la();const m=Ht(c.g);if(m==="")return"";let v="";const b=m.length,L=Zn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),Nn(c),"";c.h.i=new d.TextDecoder}for(let H=0;H<b;H++)c.h.h=!0,v+=c.h.i.decode(m[H],{stream:!(L&&H==b-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function wu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ru(c,m){var v=c.C,b=m.indexOf(`
`,v);return b==-1?jt:(v=Number(m.substring(v,b)),isNaN(v)?St:(b+=1,b+v>m.length?jt:(m=m.slice(b,b+v),c.C=b+v,m)))}Kn.prototype.cancel=function(){this.K=!0,_n(this)};function fi(c){c.T=Date.now()+c.H,ma(c,c.H)}function ma(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ui(y(c.aa,c),m)}function di(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(oi(),bt(17)),_n(this),this.m=2,Nn(this)):ma(this,this.T-c)};function Nn(c){c.j.I==0||c.K||ku(c.j,c)}function _n(c){di(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Do(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function mi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||gi(v.h,c))){if(!c.L&&gi(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Aa(v),ws(v);else break e;Or(v),bt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ui(y(v.Va,v),6e3));pi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((c.L||v.g==c)&&Aa(v),!I(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let He=L[m];const lt=He[0];if(!(lt<=v.K))if(v.K=lt,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Mn=He[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const bi=He[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Jn=He[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(b=1.5*Jn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Wn=c.g;if(Wn){const Mr=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var H=b.h;H.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Uo(H,H.h),H.h=null))}if(b.G){const ba=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(b.wa=ba,Ke(b.J,b.G,ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var te=c;if(b.na=ju(b,b.L?b.ba:null,b.W),te.L){Lo(b.h,te);var Se=te,yt=b.O;yt&&(Se.H=yt),Se.D&&(di(Se),fi(Se)),b.g=te}else Mu(b);v.i.length>0&&Ti(v)}else He[0]!="stop"&&He[0]!="close"||Ai(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ai(v,7):Qo(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}oi(4)}catch{}}var wt=class{constructor(c,m){this.g=c,this.map=m}};function Vo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pi(c){return c.h?1:c.g?c.g.size:0}function gi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Uo(c,m){c.g?c.g.add(m):c.h=m}function Lo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Vo.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return B(c.i)}var Cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let L,H=null;b>=0?(L=c[v].substring(0,b),H=c[v].substring(b+1)):L=c[v],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof vn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,_s(this,c.u),this.h=c.h,Po(this,Du(c.i)),this.m=c.m):c&&(m=String(c).match(Cu))?(this.l=!1,Pt(this,m[1]||"",!0),this.o=yi(m[2]||""),this.g=yi(m[3]||"",!0),_s(this,m[4]),this.h=yi(m[5]||"",!0),Po(this,m[6]||"",!0),this.m=yi(m[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}vn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Rr(m,ga,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Rr(m,ga,!0),"@"),c.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Rr(v,v.charAt(0)=="/"?zo:Iu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Rr(v,xu)),c.join("")},vn.prototype.resolve=function(c){const m=Rt(this);let v=!!c.j;v?Pt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var b=c.h;if(v)_s(m,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let te=0;te<L.length;){const Se=L[te++];Se=="."?b&&te==L.length&&H.push(""):Se==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&te==L.length&&H.push("")):(H.push(Se),b=!0)}b=H.join("/")}else b=L}return v?m.h=b:v=c.i.toString()!=="",v?Po(m,Du(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Rt(c){return new vn(c)}function Pt(c,m,v){c.j=v?yi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function _s(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Po(c,m,v){m instanceof Es?(c.i=m,_a(c.i,c.l)):(v||(m=Rr(m,vs)),c.i=new Es(m,c.l))}function Ke(c,m,v){c.i.set(m,v)}function wr(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function yi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,un),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ga=/[#\/\?@]/g,Iu=/[#\?:]/g,zo=/[#\?]/g,vs=/[#\?@]/g,xu=/#/g;function Es(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&pa(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Es.prototype,s.add=function(c,m){cn(this),this.i=null,c=Ts(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Nu(c,m){cn(c),m=Ts(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Bo(c,m){return cn(c),m=Ts(c,m),c.g.has(m)}s.forEach=function(c,m){cn(this),this.g.forEach(function(v,b){v.forEach(function(L){c.call(m,L,b,this)},this)},this)};function qo(c,m){cn(c);let v=[];if(typeof m=="string")Bo(c,m)&&(v=v.concat(c.g.get(Ts(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return cn(this),this.i=null,c=Ts(this,c),Bo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=qo(this,c),c.length>0?String(c[0]):m):m};function ya(c,m,v){Nu(c,m),v.length>0&&(c.i=null,c.g.set(Ts(c,m),B(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Pi(v);v=qo(this,v);for(let H=0;H<v.length;H++){let te=L;v[H]!==""&&(te+="="+Pi(v[H])),c.push(te)}}return this.i=c.join("&")};function Du(c){const m=new Es;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Ts(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function _a(c,m){m&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(Nu(this,b),ya(this,L,v))},c)),c.j=m}function Xn(c,m){const v=new Qn;if(d.Image){const b=new Image;b.onload=A(Dn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=A(Dn,v,"TestLoadImage: error",!1,m,b),b.onabort=A(Dn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(Dn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function Ho(c,m){const v=new Qn,b=new AbortController,L=setTimeout(()=>{b.abort(),Dn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(H=>{clearTimeout(L),H.ok?Dn(v,"TestPingServer: ok",!0,m):Dn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Dn(v,"TestPingServer: error",!1,m)})}function Dn(c,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function As(){this.g=new _u}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}S(_i,vu),_i.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(c,m){At.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Cr,At),s=Cr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,$n(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;va(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function va(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?bs(this):$n(this),this.readyState==3&&va(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,bs(this))},s.Na=function(c){this.g&&(this.response=c,bs(this))},s.ga=function(){this.g&&bs(this)};function bs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let m="";return Pe(c,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ir(c,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=On(v),typeof c=="string"?v!=null&&Pi(v):Ke(c,m,v))}function $e(c){At.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($e,At);var vi=/^https?$/i,Fo=["POST","PUT"];s=$e.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mo.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(H){xr(this,H);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())v.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Fo,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,te]of v)this.g.setRequestHeader(H,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){xr(this,H)}};function xr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Go(c),zi(c)}function Go(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),zi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),$e.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},s.Xa=function(){Nr(this)};function Nr(c){if(c.h&&typeof u<"u"){if(c.v&&Zn(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),Zn(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=H===0){let te=String(c.D).match(Cu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),b=!vi.test(te?te.toLowerCase():"")}v=b}if(v)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var L=Zn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Go(c)}}finally{zi(c)}}}}function zi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||kt(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),ef(m)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(c){const m={};c=(c.g&&Zn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(I(c[b]))continue;var v=Su(c[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[L]||[];m[L]=H,H.push(v)}Qe(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Ss(c){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,c),this.Za=Ei("retryDelaySeedMs",1e4,c),this.Ta=Ei("forwardChannelMaxRetries",2,c),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(c&&c.concurrentRequestLimit),this.Ba=new As,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ss.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,b){bt(0),this.W=c,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=ju(this,null,this.W),Ti(this)};function Qo(c){if(Ea(c),c.I==3){var m=c.V++,v=Rt(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",m),Ke(v,"TYPE","terminate"),Dr(c,v),m=new Kn(c,c.j,m),m.M=2,m.A=wr(Rt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Pu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}Lu(c)}function ws(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function Ea(c){ws(c),c.v&&(d.clearTimeout(c.v),c.v=null),Aa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ti(c){if(!ko(c.h)&&!c.m){c.m=!0;var m=c.Ea;Re||w(),be||(Re(),be=!0),R.add(m,c),c.D=0}}function Ta(c,m){return pi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ui(y(c.Ea,c,m),Uu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Kn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=M(H),se(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ou(this,L,m),v=Rt(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Dr(this,v),H&&(this.R?m="headers="+Pi(On(H))+"&"+m:this.u&&Ir(v,this.u,H)),Uo(this.h,L),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",m),Ke(v,"SID","null"),L.U=!0,hi(L,v,null)):hi(L,v,m),this.I=2}}else this.I==3&&(c?Ko(this,c):this.i.length==0||ko(this.h)||Ko(this))};function Ko(c,m){var v;m?v=m.l:v=c.V++;const b=Rt(c.J);Ke(b,"SID",c.M),Ke(b,"RID",v),Ke(b,"AID",c.K),Dr(c,b),c.u&&c.o&&Ir(b,c.u,c.o),v=new Kn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Ou(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,v),hi(v,b,m)}function Dr(c,m){c.H&&Pe(c.H,function(v,b){Ke(m,b,v)}),c.l&&Pe({},function(v,b){Ke(m,b,v)})}function Ou(c,m,v){v=Math.min(c.i.length,v);const b=c.l?y(c.l.Ka,c.l,c):null;e:{var L=c.i;let Se=-1;for(;;){const yt=["count="+v];Se==-1?v>0?(Se=L[0].g,yt.push("ofs="+Se)):Se=0:yt.push("ofs="+Se);let He=!0;for(let lt=0;lt<v;lt++){var H=L[lt].g;const Mn=L[lt].map;if(H-=Se,H<0)Se=Math.max(0,L[lt].g-100),He=!1;else try{H="req"+H+"_"||"";try{var te=Mn instanceof Map?Mn:Object.entries(Mn);for(const[bi,Jn]of te){let Wn=Jn;p(Jn)&&(Wn=ys(Jn)),yt.push(H+bi+"="+encodeURIComponent(Wn))}}catch(bi){throw yt.push(H+"type="+encodeURIComponent("_badmap")),bi}}catch{b&&b(Mn)}}if(He){te=yt.join("&");break e}}te=void 0}return c=c.i.splice(0,v),m.G=c,te}function Mu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Re||w(),be||(Re(),be=!0),R.add(m,c),c.A=0}}function Or(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ui(y(c.Da,c),Uu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ui(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),ws(this),Vu(this))};function Yo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Vu(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Rt(c.na);Ke(m,"RID","rpc"),Ke(m,"SID",c.M),Ke(m,"AID",c.K),Ke(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(m,"TO",c.ia),Ke(m,"TYPE","xmlhttp"),Dr(c,m),c.u&&c.o&&Ir(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=wr(Rt(m)),v.u=null,v.R=!0,da(v,c)}s.Va=function(){this.C!=null&&(this.C=null,ws(this),Or(this),bt(19))};function Aa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function ku(c,m){var v=null;if(c.g==m){Aa(c),Yo(c),c.g=null;var b=2}else if(gi(c.h,m))v=m.G,Lo(c.h,m),b=1;else return;if(c.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;b=fa(),kt(b,new li(b,v)),Ti(c)}else Mu(c);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&Ta(c,m)||b==2&&Or(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function Uu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ai(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),b=c.Ua;const L=!b;b=new vn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pt(b,"https"),wr(b),L?Xn(b.toString(),v):Ho(b.toString(),v)}else bt(2);c.I=0,c.l&&c.l.pa(m),Lu(c),Ea(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Lu(c){if(c.I=0,c.ja=[],c.l){const m=jo(c.h);(m.length!=0||c.i.length!=0)&&(q(c.ja,m),q(c.ja,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.oa()}}function ju(c,m,v){var b=v instanceof vn?Rt(v):new vn(v);if(b.g!="")m&&(b.g=m+"."+b.g),_s(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new vn(null);b&&Pt(H,b),m&&(H.g=m),L&&_s(H,L),v&&(H.h=v),b=H}return v=c.G,m=c.wa,v&&m&&Ke(b,v,m),Ke(b,"VER",c.ka),Dr(c,b),b}function Pu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new $e(new _i({ab:v})):new $e(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}s=zu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Rs(){}Rs.prototype.g=function(c,m){return new rn(c,m)};function rn(c,m){At.call(this),this.g=new Ss(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!I(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new qi(this)}S(rn,At),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Qo(this.g)},rn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ys(c),c=v);m.i.push(new wt(m.Ya++,c)),m.I==3&&Ti(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,rn.Z.N.call(this)};function Bu(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Bu,qt);function qu(){xn.call(this),this.status=1}S(qu,xn);function qi(c){this.g=c}S(qi,zu),qi.prototype.ra=function(){kt(this.g,"a")},qi.prototype.qa=function(c){kt(this.g,new Bu(c))},qi.prototype.pa=function(c){kt(this.g,new qu)},qi.prototype.oa=function(){kt(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,WE=function(){return new Rs},JE=function(){return fa()},ZE=gt,Rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,sh=br,Oo.COMPLETE="complete",$E=Oo,Eu.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",At.prototype.listen=At.prototype.J,kl=Eu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,XE=$e}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore",Wv="4.9.2";let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let To="12.3.0";const na=new Qm("@firebase/firestore");function Wa(){return na.logLevel}function oe(s,...e){if(na.logLevel<=Me.DEBUG){const i=e.map(ip);na.debug(`Firestore (${To}): ${s}`,...i)}}function fs(s,...e){if(na.logLevel<=Me.ERROR){const i=e.map(ip);na.error(`Firestore (${To}): ${s}`,...i)}}function uo(s,...e){if(na.logLevel<=Me.WARN){const i=e.map(ip);na.warn(`Firestore (${To}): ${s}`,...i)}}function ip(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _e(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,eT(s,r,i)}function eT(s,e,i){let r=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw fs(r),new Error(r)}function Ge(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||eT(e,l,r)}function Ae(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends ps{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class os{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class tT{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Wt.UNAUTHENTICATED)))}shutdown(){}}class AR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class bR{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ge(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let u=new os;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new os,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new os)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new tT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class SR{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wR{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new SR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class e0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ge(this.o===void 0,3512);const r=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new e0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ge(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new e0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function CR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class sp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=CR(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=e.charAt(l[u]%62))}return r}}function Ve(s,e){return s<e?-1:s>e?1:0}function Cm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return hm(l)===hm(u)?Ve(l,u):hm(l)?1:-1}return Ve(s.length,e.length)}const IR=55296,xR=57343;function hm(s){const e=s.charCodeAt(0);return e>=IR&&e<=xR}function co(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const t0="__name__";class Ii{constructor(e,i,r){i===void 0?i=0:i>e.length&&_e(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&_e(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const u=Ii.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return Ve(e.length,i.length)}static compareSegments(e,i){const r=Ii.isNumericId(e),l=Ii.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ii.extractNumericId(e).compare(Ii.extractNumericId(i)):Cm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rr.fromString(e.substring(4,e.length-2))}}class tt extends Ii{construct(e,i,r){return new tt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new tt(i)}static emptyPath(){return new tt([])}}const NR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Ii{construct(e,i,r){return new Xt(e,i,r)}static isValidIdentifier(e){return NR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===t0}static keyField(){return new Xt([t0])}static fromServerFormat(e){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new re(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new re(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new re(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(u(),l++)}if(u(),d)throw new re(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(i)}static emptyPath(){return new Xt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(tt.fromString(e))}static fromName(e){return new de(tt.fromString(e).popFirst(5))}static empty(){return new de(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return tt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new tt(e.slice()))}}function nT(s,e,i){if(!i)throw new re(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function DR(s,e,i,r){if(e===!0&&r===!0)throw new re(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function n0(s){if(!de.isDocumentKey(s))throw new re(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function i0(s){if(de.isDocumentKey(s))throw new re(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function iT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Mh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function on(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new re(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Mh(s);throw new re(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Mt(s,e){const i={typeString:s};return e&&(i.value=e),i}function lu(s,e){if(!iT(s))throw new re(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new re(X.INVALID_ARGUMENT,i);return!0}const s0=-62135596800,r0=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*r0);return new st(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new re(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new re(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<s0)throw new re(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-s0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Mt("string",st._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new st(0,0))}static max(){return new Ee(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yl=-1;function OR(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ee.fromTimestamp(r===1e9?new st(i+1,0):new st(i,r));return new or(l,de.empty(),e)}function MR(s){return new or(s.readTime,s.key,Yl)}class or{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new or(Ee.min(),de.empty(),Yl)}static max(){return new or(Ee.max(),de.empty(),Yl)}}function VR(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=de.comparator(s.documentKey,e.documentKey),i!==0?i:Ve(s.largestBatchId,e.largestBatchId))}const kR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ao(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==kR)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):W.reject(i)}static resolve(e){return new W(((i,r)=>{i(e)}))}static reject(e){return new W(((i,r)=>{r(e)}))}static waitFor(e){return new W(((i,r)=>{let l=0,u=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&i()}),(g=>r(g)))})),d=!0,u===l&&i()}))}static or(e){let i=W.resolve(!1);for(const r of e)i=i.next((l=>l?W.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(e,i){return new W(((r,l)=>{const u=e.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;i(e[y]).next((A=>{d[y]=A,++p,p===u&&r(d)}),(A=>l(A)))}}))}static doWhile(e,i){return new W(((r,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):r()};u()}))}}function LR(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bo(s){return s.name==="IndexedDbTransactionError"}class Vh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vh.ce=-1;const rp=-1;function kh(s){return s==null}function _h(s){return s===0&&1/s==-1/0}function jR(s){return typeof s=="number"&&Number.isInteger(s)&&!_h(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const sT="";function PR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=a0(e)),e=zR(s.get(i),e);return a0(e)}function zR(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case sT:i+="";break;default:i+=u}}return i}function a0(s){return s+sT+""}function o0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function pr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function rT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ft{constructor(e,i){this.comparator=e,this.root=i||Yt.EMPTY}insert(e,i){return new ft(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yc(this.root,e,this.comparator,!0)}}class Yc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??Yt.RED,this.left=l??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,u){return new Yt(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Yt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,i,r,l,u){return this}insert(e,i,r){return new Yt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new l0(this.data.getIterator())}getIteratorFrom(e){return new l0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Lt(this.comparator);return i.data=e,i}}class l0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Cn([])}unionWith(e){let i=new Lt(Xt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Cn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class aT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new aT("Invalid base64 string: "+u):u}})(e);return new $t(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new $t(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const BR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(s){if(Ge(!!s,39018),typeof s=="string"){let e=0;const i=BR.exec(s);if(Ge(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(s.seconds),nanos:Et(s.nanos)}}function Et(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ur(s){return typeof s=="string"?$t.fromBase64String(s):$t.fromUint8Array(s)}const oT="server_timestamp",lT="__type__",uT="__previous_value__",cT="__local_write_time__";function ap(s){return(s?.mapValue?.fields||{})[lT]?.stringValue===oT}function Uh(s){const e=s.mapValue.fields[uT];return ap(e)?Uh(e):e}function Xl(s){const e=lr(s.mapValue.fields[cT].timestampValue);return new st(e.seconds,e.nanos)}class qR{constructor(e,i,r,l,u,d,p,g,y,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=A}}const vh="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||vh}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}const hT="__type__",HR="__max__",Xc={mapValue:{}},fT="__vector__",Eh="value";function cr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ap(s)?4:GR(s)?9007199254740991:FR(s)?10:11:_e(28295,{value:s})}function Li(s,e){if(s===e)return!0;const i=cr(s);if(i!==cr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Xl(s).isEqual(Xl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=lr(l.timestampValue),p=lr(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return ur(l.bytesValue).isEqual(ur(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return Et(l.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(l.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Et(l.integerValue)===Et(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Et(l.doubleValue),p=Et(u.doubleValue);return d===p?_h(d)===_h(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return co(s.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(o0(d)!==o0(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Li(d[g],p[g])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function Zl(s,e){return(s.values||[]).find((i=>Li(i,e)))!==void 0}function ho(s,e){if(s===e)return 0;const i=cr(s),r=cr(e);if(i!==r)return Ve(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ve(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=Et(u.integerValue||u.doubleValue),g=Et(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return u0(s.timestampValue,e.timestampValue);case 4:return u0(Xl(s),Xl(e));case 5:return Cm(s.stringValue,e.stringValue);case 6:return(function(u,d){const p=ur(u),g=ur(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const A=Ve(p[y],g[y]);if(A!==0)return A}return Ve(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=Ve(Et(u.latitude),Et(d.latitude));return p!==0?p:Ve(Et(u.longitude),Et(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return c0(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},y=p[Eh]?.arrayValue,A=g[Eh]?.arrayValue,S=Ve(y?.values?.length||0,A?.values?.length||0);return S!==0?S:c0(y,A)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Xc.mapValue&&d===Xc.mapValue)return 0;if(u===Xc.mapValue)return 1;if(d===Xc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=d.fields||{},A=Object.keys(y);g.sort(),A.sort();for(let S=0;S<g.length&&S<A.length;++S){const x=Cm(g[S],A[S]);if(x!==0)return x;const B=ho(p[g[S]],y[A[S]]);if(B!==0)return B}return Ve(g.length,A.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{he:i})}}function u0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ve(s,e);const i=lr(s),r=lr(e),l=Ve(i.seconds,r.seconds);return l!==0?l:Ve(i.nanos,r.nanos)}function c0(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=ho(i[l],r[l]);if(u)return u}return Ve(i.length,r.length)}function fo(s){return Im(s)}function Im(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=lr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ur(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return de.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=Im(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${Im(i.fields[d])}`;return l+"}"})(s.mapValue):_e(61005,{value:s})}function rh(s){switch(cr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(s);return e?16+rh(e):16;case 5:return 2*s.stringValue.length;case 6:return ur(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+rh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return pr(r.fields,((u,d)=>{l+=u.length+rh(d)})),l})(s.mapValue);default:throw _e(13486,{value:s})}}function h0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function xm(s){return!!s&&"integerValue"in s}function op(s){return!!s&&"arrayValue"in s}function f0(s){return!!s&&"nullValue"in s}function d0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ah(s){return!!s&&"mapValue"in s}function FR(s){return(s?.mapValue?.fields||{})[hT]?.stringValue===fT}function Bl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return pr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Bl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Bl(s.arrayValue.values[i]);return e}return{...s}}function GR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===HR}class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!ah(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(i)}setAll(e){let i=Xt.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Bl(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(e){const i=this.field(e.popLast());ah(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];ah(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){pr(i,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new yn(Bl(this.value))}}function dT(s){const e=[];return pr(s.fields,((i,r)=>{const l=new Xt([i]);if(ah(r)){const u=dT(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new Cn(e)}class tn{constructor(e,i,r,l,u,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new tn(e,0,Ee.min(),Ee.min(),Ee.min(),yn.empty(),0)}static newFoundDocument(e,i,r,l){return new tn(e,1,i,Ee.min(),r,l,0)}static newNoDocument(e,i){return new tn(e,2,i,Ee.min(),Ee.min(),yn.empty(),0)}static newUnknownDocument(e,i){return new tn(e,3,i,Ee.min(),Ee.min(),yn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Th{constructor(e,i){this.position=e,this.inclusive=i}}function m0(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=de.comparator(de.fromName(d.referenceValue),i.key):r=ho(d,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function p0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Li(s.position[i],e.position[i]))return!1;return!0}class Jl{constructor(e,i="asc"){this.field=e,this.dir=i}}function QR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class mT{}class Ot extends mT{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new YR(e,i,r):i==="array-contains"?new ZR(e,r):i==="in"?new JR(e,r):i==="not-in"?new WR(e,r):i==="array-contains-any"?new eC(e,r):new Ot(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new XR(e,r):new $R(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ho(i,this.value)):i!==null&&cr(this.value)===cr(i)&&this.matchesComparison(ho(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends mT{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ri(e,i)}matches(e){return pT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pT(s){return s.op==="and"}function gT(s){return KR(s)&&pT(s)}function KR(s){for(const e of s.filters)if(e instanceof ri)return!1;return!0}function Nm(s){if(s instanceof Ot)return s.field.canonicalString()+s.op.toString()+fo(s.value);if(gT(s))return s.filters.map((e=>Nm(e))).join(",");{const e=s.filters.map((i=>Nm(i))).join(",");return`${s.op}(${e})`}}function yT(s,e){return s instanceof Ot?(function(r,l){return l instanceof Ot&&r.op===l.op&&r.field.isEqual(l.field)&&Li(r.value,l.value)})(s,e):s instanceof ri?(function(r,l){return l instanceof ri&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,p)=>u&&yT(d,l.filters[p])),!0):!1})(s,e):void _e(19439)}function _T(s){return s instanceof Ot?(function(i){return`${i.field.canonicalString()} ${i.op} ${fo(i.value)}`})(s):s instanceof ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(_T).join(" ,")+"}"})(s):"Filter"}class YR extends Ot{constructor(e,i,r){super(e,i,r),this.key=de.fromName(r.referenceValue)}matches(e){const i=de.comparator(e.key,this.key);return this.matchesComparison(i)}}class XR extends Ot{constructor(e,i){super(e,"in",i),this.keys=vT("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class $R extends Ot{constructor(e,i){super(e,"not-in",i),this.keys=vT("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function vT(s,e){return(e.arrayValue?.values||[]).map((i=>de.fromName(i.referenceValue)))}class ZR extends Ot{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return op(i)&&Zl(i.arrayValue,this.value)}}class JR extends Ot{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Zl(this.value.arrayValue,i)}}class WR extends Ot{constructor(e,i){super(e,"not-in",i)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Zl(this.value.arrayValue,i)}}class eC extends Ot{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!op(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Zl(this.value.arrayValue,r)))}}class tC{constructor(e,i=null,r=[],l=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function g0(s,e=null,i=[],r=[],l=null,u=null,d=null){return new tC(s,e,i,r,l,u,d)}function lp(s){const e=Ae(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Nm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),kh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>fo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>fo(r))).join(",")),e.Te=i}return e.Te}function up(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!QR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!yT(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!p0(s.startAt,e.startAt)&&p0(s.endAt,e.endAt)}function Dm(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class So{constructor(e,i=null,r=[],l=[],u=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nC(s,e,i,r,l,u,d,p){return new So(s,e,i,r,l,u,d,p)}function Lh(s){return new So(s)}function y0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ET(s){return s.collectionGroup!==null}function ql(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Lt(Xt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Jl(u,r))})),i.has(Xt.keyField().canonicalString())||e.Ie.push(new Jl(Xt.keyField(),r))}return e.Ie}function Di(s){const e=Ae(s);return e.Ee||(e.Ee=iC(e,ql(s))),e.Ee}function iC(s,e){if(s.limitType==="F")return g0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Jl(l.field,u)}));const i=s.endAt?new Th(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Th(s.startAt.position,s.startAt.inclusive):null;return g0(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Om(s,e){const i=s.filters.concat([e]);return new So(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Mm(s,e,i){return new So(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function jh(s,e){return up(Di(s),Di(e))&&s.limitType===e.limitType}function TT(s){return`${lp(Di(s))}|lt:${s.limitType}`}function eo(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>_T(l))).join(", ")}]`),kh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>fo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>fo(l))).join(",")),`Target(${r})`})(Di(s))}; limitType=${s.limitType})`}function Ph(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):de.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of ql(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const y=m0(d,p,g);return d.inclusive?y<=0:y<0})(r.startAt,ql(r),l)||r.endAt&&!(function(d,p,g){const y=m0(d,p,g);return d.inclusive?y>=0:y>0})(r.endAt,ql(r),l))})(s,e)}function sC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function AT(s){return(e,i)=>{let r=!1;for(const l of ql(s)){const u=rC(l,e,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function rC(s,e,i){const r=s.field.isKeyField()?de.comparator(e.key,i.key):(function(u,d,p){const g=d.data.field(u),y=p.data.field(u);return g!==null&&y!==null?ho(g,y):_e(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:s.dir})}}class aa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){pr(this.inner,((i,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return rT(this.inner)}size(){return this.innerSize}}const aC=new ft(de.comparator);function ds(){return aC}const bT=new ft(de.comparator);function Ul(...s){let e=bT;for(const i of s)e=e.insert(i.key,i);return e}function ST(s){let e=bT;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function $r(){return Hl()}function wT(){return Hl()}function Hl(){return new aa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const oC=new ft(de.comparator),lC=new Lt(de.comparator);function ke(...s){let e=lC;for(const i of s)e=e.add(i);return e}const uC=new Lt(Ve);function cC(){return uC}function cp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function RT(s){return{integerValue:""+s}}function hC(s,e){return jR(e)?RT(e):cp(s,e)}class zh{constructor(){this._=void 0}}function fC(s,e,i){return s instanceof Wl?(function(l,u){const d={fields:{[lT]:{stringValue:oT},[cT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&ap(u)&&(u=Uh(u)),u&&(d.fields[uT]=u),{mapValue:d}})(i,e):s instanceof mo?IT(s,e):s instanceof po?xT(s,e):(function(l,u){const d=CT(l,u),p=_0(d)+_0(l.Ae);return xm(d)&&xm(l.Ae)?RT(p):cp(l.serializer,p)})(s,e)}function dC(s,e,i){return s instanceof mo?IT(s,e):s instanceof po?xT(s,e):i}function CT(s,e){return s instanceof Ah?(function(r){return xm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Wl extends zh{}class mo extends zh{constructor(e){super(),this.elements=e}}function IT(s,e){const i=NT(e);for(const r of s.elements)i.some((l=>Li(l,r)))||i.push(r);return{arrayValue:{values:i}}}class po extends zh{constructor(e){super(),this.elements=e}}function xT(s,e){let i=NT(e);for(const r of s.elements)i=i.filter((l=>!Li(l,r)));return{arrayValue:{values:i}}}class Ah extends zh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function _0(s){return Et(s.integerValue||s.doubleValue)}function NT(s){return op(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class hp{constructor(e,i){this.field=e,this.transform=i}}function mC(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof mo&&l instanceof mo||r instanceof po&&l instanceof po?co(r.elements,l.elements,Li):r instanceof Ah&&l instanceof Ah?Li(r.Ae,l.Ae):r instanceof Wl&&l instanceof Wl})(s.transform,e.transform)}class pC{constructor(e,i){this.version=e,this.transformResults=i}}class ln{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ln}static exists(e){return new ln(void 0,e)}static updateTime(e){return new ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Bh{}function DT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new qh(s.key,ln.none()):new uu(s.key,s.data,ln.none());{const i=s.data,r=yn.empty();let l=new Lt(Xt.comparator);for(let u of e.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new gr(s.key,r,new Cn(l.toArray()),ln.none())}}function gC(s,e,i){s instanceof uu?(function(l,u,d){const p=l.value.clone(),g=E0(l.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof gr?(function(l,u,d){if(!oh(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=E0(l.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(OT(l)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Fl(s,e,i,r){return s instanceof uu?(function(u,d,p,g){if(!oh(u.precondition,d))return p;const y=u.value.clone(),A=T0(u.fieldTransforms,g,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof gr?(function(u,d,p,g){if(!oh(u.precondition,d))return p;const y=T0(u.fieldTransforms,g,d),A=d.data;return A.setAll(OT(u)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(u,d,p){return oh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function yC(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=CT(r.transform,l||null);u!=null&&(i===null&&(i=yn.empty()),i.set(r.field,u))}return i||null}function v0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&co(r,l,((u,d)=>mC(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class uu extends Bh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class gr extends Bh{constructor(e,i,r,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function OT(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function E0(s,e,i){const r=new Map;Ge(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const u=s[l],d=u.transform,p=e.data.field(u.field);r.set(u.field,dC(d,p,i[l]))}return r}function T0(s,e,i){const r=new Map;for(const l of s){const u=l.transform,d=i.data.field(l.field);r.set(l.field,fC(u,d,e))}return r}class qh extends Bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _C extends Bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vC{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&gC(u,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=wT();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=i.has(l.key)?null:p;const g=DT(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Ee.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ke())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,((i,r)=>v0(i,r)))&&co(this.baseMutations,e.baseMutations,((i,r)=>v0(i,r)))}}class fp{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){Ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return oC})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new fp(e,i,r,l)}}class EC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TC{constructor(e,i){this.count=e,this.unchangedNames=i}}var Dt,je;function AC(s){switch(s){case X.OK:return _e(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function MT(s){if(s===void 0)return fs("GRPC error has no .code"),X.UNKNOWN;switch(s){case Dt.OK:return X.OK;case Dt.CANCELLED:return X.CANCELLED;case Dt.UNKNOWN:return X.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return X.INTERNAL;case Dt.UNAVAILABLE:return X.UNAVAILABLE;case Dt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Dt.NOT_FOUND:return X.NOT_FOUND;case Dt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Dt.ABORTED:return X.ABORTED;case Dt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Dt.DATA_LOSS:return X.DATA_LOSS;default:return _e(39323,{code:s})}}(je=Dt||(Dt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function bC(){return new TextEncoder}const SC=new rr([4294967295,4294967295],0);function A0(s){const e=bC().encode(s),i=new YE;return i.update(e),new Uint8Array(i.digest())}function b0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new rr([i,r],0),new rr([l,u],0)]}class dp{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ll(`Invalid padding: ${i}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=rr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(rr.fromNumber(r)));return l.compare(SC)===1&&(l=new rr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=A0(e),[r,l]=b0(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new dp(u,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=A0(e),[r,l]=b0(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hh{constructor(e,i,r,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Hh(Ee.min(),l,new ft(Ve),ds(),ke())}}class cu{constructor(e,i,r,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new cu(r,i,ke(),ke(),ke())}}class lh{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class VT{constructor(e,i){this.targetId=e,this.Ce=i}}class kT{constructor(e,i,r=$t.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class S0{constructor(){this.ve=0,this.Fe=w0(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),i=ke(),r=ke();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:_e(38017,{changeType:u})}})),new cu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=w0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ds(),this.Je=$c(),this.He=$c(),this.Ye=new ft(Ve)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(Dm(u))if(r===0){const d=new de(u.path);this.et(i,d,tn.newNoDocument(d,Ee.min()))}else Ge(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let d,p;try{d=ur(r).toUint8Array()}catch(g){if(g instanceof aT)return uo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new dp(d,l,u)}catch(g){return uo(g instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Dm(p.target)){const g=new de(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,tn.newNoDocument(g,e))}u.Be&&(i.set(d,u.ke()),u.qe())}}));let r=ke();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Hh(e,i,this.Ye,this.je,r);return this.je=ds(),this.Je=$c(),this.He=$c(),this.Ye=new ft(Ve),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new S0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Lt(Ve),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Lt(Ve),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new S0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function $c(){return new ft(de.comparator)}function w0(){return new ft(de.comparator)}const RC={asc:"ASCENDING",desc:"DESCENDING"},CC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IC={and:"AND",or:"OR"};class xC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Vm(s,e){return s.useProto3Json||kh(e)?e:{value:e}}function bh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function NC(s,e){return bh(s,e.toTimestamp())}function Oi(s){return Ge(!!s,49232),Ee.fromTimestamp((function(i){const r=lr(i);return new st(r.seconds,r.nanos)})(s))}function mp(s,e){return km(s,e).canonicalString()}function km(s,e){const i=(function(l){return new tt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function LT(s){const e=tt.fromString(s);return Ge(qT(e),10190,{key:e.toString()}),e}function Um(s,e){return mp(s.databaseId,e.path)}function fm(s,e){const i=LT(e);if(i.get(1)!==s.databaseId.projectId)throw new re(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new re(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new de(PT(i))}function jT(s,e){return mp(s.databaseId,e)}function DC(s){const e=LT(s);return e.length===4?tt.emptyPath():PT(e)}function Lm(s){return new tt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function PT(s){return Ge(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function R0(s,e,i){return{name:Um(s,e),fields:i.value.mapValue.fields}}function OC(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,A){return y.useProto3Json?(Ge(A===void 0||typeof A=="string",58123),$t.fromBase64String(A||"")):(Ge(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),$t.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?X.UNKNOWN:MT(y.code);return new re(A,y.message||"")})(d);i=new kT(r,l,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=fm(s,r.document.name),u=Oi(r.document.updateTime),d=r.document.createTime?Oi(r.document.createTime):Ee.min(),p=new yn({mapValue:{fields:r.document.fields}}),g=tn.newFoundDocument(l,u,d,p),y=r.targetIds||[],A=r.removedTargetIds||[];i=new lh(y,A,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=fm(s,r.document),u=r.readTime?Oi(r.readTime):Ee.min(),d=tn.newNoDocument(l,u),p=r.removedTargetIds||[];i=new lh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=fm(s,r.document),u=r.removedTargetIds||[];i=new lh([],u,l,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new TC(l,u),p=r.targetId;i=new VT(p,d)}}return i}function MC(s,e){let i;if(e instanceof uu)i={update:R0(s,e.key,e.value)};else if(e instanceof qh)i={delete:Um(s,e.key)};else if(e instanceof gr)i={update:R0(s,e.key,e.data),updateMask:qC(e.fieldMask)};else{if(!(e instanceof _C))return _e(16599,{Vt:e.type});i={verify:Um(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof Wl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof mo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof po)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ah)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _e(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:NC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(s,e.precondition)),i}function VC(s,e){return s&&s.length>0?(Ge(e!==void 0,14353),s.map((i=>(function(l,u){let d=l.updateTime?Oi(l.updateTime):Oi(u);return d.isEqual(Ee.min())&&(d=Oi(u)),new pC(d,l.transformResults||[])})(i,e)))):[]}function kC(s,e){return{documents:[jT(s,e.path)]}}function UC(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=jT(s,l);const u=(function(y){if(y.length!==0)return BT(ri.create(y,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((A=>(function(x){return{field:to(x.field),direction:PC(x.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Vm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function LC(s){let e=DC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Ge(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let u=[];i.where&&(u=(function(S){const x=zT(S);return x instanceof ri&&gT(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((x=>(function(q){return new Jl(no(q.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let x;return x=typeof S=="object"?S.value:S,kh(x)?null:x})(i.limit));let g=null;i.startAt&&(g=(function(S){const x=!!S.before,B=S.values||[];return new Th(B,x)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const x=!S.before,B=S.values||[];return new Th(B,x)})(i.endAt)),nC(e,l,d,u,p,"F",g,y)}function jC(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function zT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=no(i.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=no(i.unaryFilter.field);return Ot.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(i.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=no(i.unaryFilter.field);return Ot.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ot.create(no(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ri.create(i.compositeFilter.filters.map((r=>zT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(i.compositeFilter.op))})(s):_e(30097,{filter:s})}function PC(s){return RC[s]}function zC(s){return CC[s]}function BC(s){return IC[s]}function to(s){return{fieldPath:s.canonicalString()}}function no(s){return Xt.fromServerFormat(s.fieldPath)}function BT(s){return s instanceof Ot?(function(i){if(i.op==="=="){if(d0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NAN"}};if(f0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(d0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NOT_NAN"}};if(f0(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(i.field),op:zC(i.op),value:i.value}}})(s):s instanceof ri?(function(i){const r=i.getFilters().map((l=>BT(l)));return r.length===1?r[0]:{compositeFilter:{op:BC(i.op),filters:r}}})(s):_e(54877,{filter:s})}function qC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function qT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class er{constructor(e,i,r,l,u=Ee.min(),d=Ee.min(),p=$t.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class HC{constructor(e){this.yt=e}}function FC(s){const e=LC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Mm(e,e.limit,"L"):e}class GC{constructor(){this.Cn=new QC}addToCollectionParentIndex(e,i){return this.Cn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(or.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(or.min())}updateCollectionGroup(e,i,r){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class QC{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Lt(tt.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Lt(tt.comparator)).toArray()}}const C0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HT=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(HT,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class go{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}const I0="LruGarbageCollector",KC=1048576;function x0([s,e],[i,r]){const l=Ve(s,i);return l===0?Ve(e,r):l}class YC{constructor(e){this.Ir=e,this.buffer=new Lt(x0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();x0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class XC{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(I0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bo(i)?oe(I0,"Ignoring IndexedDB error during garbage collection: ",i):await Ao(i)}await this.Vr(3e5)}))}}class $C{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return W.resolve(Vh.ce);const r=new YC(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(C0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,u,d,p,g,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,i)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),Wa()<=Me.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-A}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function ZC(s,e){return new $C(s,e)}class JC{constructor(){this.changes=new aa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?W.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class WC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class eI{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Fl(r.mutation,l,Cn.empty(),st.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,ke()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=ke()){const l=$r();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((u=>{let d=Ul();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=$r();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,ke())))}populateOverlays(e,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let u=ds();const d=Hl(),p=(function(){return Hl()})();return i.forEach(((g,y)=>{const A=r.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof gr)?u=u.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Fl(A.mutation,y,A.mutation.getFieldMask(),st.now())):d.set(y.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new WC(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Hl();let l=new ft(((d,p)=>d-p)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let A=r.get(g)||Cn.empty();A=p.applyToLocalView(y,A),r.set(g,A);const S=(l.get(p.batchId)||ke()).add(g);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,A=g.value,S=wT();A.forEach((x=>{if(!u.has(x)){const B=DT(i.get(x),r.get(x));B!==null&&S.set(x,B),u=u.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return W.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return de.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):ET(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-u.size):W.resolve($r());let p=Yl,g=u;return d.next((y=>W.forEach(y,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(A)?W.resolve():this.remoteDocumentCache.getEntry(e,A).next((x=>{g=g.insert(A,x)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,ke()))).next((A=>({batchId:p,changes:ST(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new de(i)).next((r=>{let l=Ul();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const u=i.collectionGroup;let d=Ul();return this.indexManager.getCollectionParents(e,u).next((p=>W.forEach(p,(g=>{const y=(function(S,x){return new So(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((A=>{A.forEach(((S,x)=>{d=d.insert(S,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,u,l)))).next((d=>{u.forEach(((g,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,tn.newInvalidDocument(A)))}));let p=Ul();return d.forEach(((g,y)=>{const A=u.get(g);A!==void 0&&Fl(A.mutation,y,Cn.empty(),st.now()),Ph(i,y)&&(p=p.insert(g,y))})),p}))}}class tI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:FC(l.bundledQuery),readTime:Oi(l.readTime)}})(i)),W.resolve()}}class nI{constructor(){this.overlays=new ft(de.comparator),this.qr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const r=$r();return W.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,u)=>{this.St(e,i,u)})),W.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,i,r){const l=$r(),u=i.length+1,d=new de(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&l.set(g.getKey(),g)}return W.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let u=new ft(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=u.get(y.largestBatchId);A===null&&(A=$r(),u=u.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=$r(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return W.resolve(p)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new EC(i,r));let u=this.qr.get(i);u===void 0&&(u=ke(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class iI{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}class pp{constructor(){this.Qr=new Lt(Bt.$r),this.Ur=new Lt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Bt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Bt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new de(new tt([])),r=new Bt(i,e),l=new Bt(i,e+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new de(new tt([])),r=new Bt(i,e),l=new Bt(i,e+1);let u=ke();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new Bt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return de.comparator(e.key,i.key)||Ve(e.Yr,i.Yr)}static Kr(e,i){return Ve(e.Yr,i.Yr)||de.comparator(e.key,i.key)}}class sI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(Bt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vC(u,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Bt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),u=l<0?0:l;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?rp:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Bt(i,0),l=new Bt(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);u.push(p)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Lt(Ve);return i.forEach((l=>{const u=new Bt(l,0),d=new Bt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{r=r.add(p.Yr)}))})),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let u=r;de.isDocumentKey(u)||(u=u.child(""));const d=new Bt(new de(u),0);let p=new Lt(Ve);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),W.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Ge(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(i.mutations,(l=>{const u=new Bt(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Bt(i,0),l=this.Zr.firstAfterOrEqual(r);return W.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class rI{constructor(e){this.ri=e,this.docs=(function(){return new ft(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return W.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(i))}getEntries(e,i){let r=ds();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():tn.newInvalidDocument(l))})),W.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let u=ds();const d=i.path,p=new de(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:A}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||VR(MR(A),r)<=0||(l.has(A.key)||Ph(i,A))&&(u=u.insert(A.key,A.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,i,r,l){_e(9500)}ii(e,i){return W.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new aI(this)}getSize(e){return W.resolve(this.size)}}class aI extends JC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),W.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class oI{constructor(e){this.persistence=e,this.si=new aa((i=>lp(i)),up),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new pp,this.targetCount=0,this.ai=go.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),W.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new go(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.Pr(i),W.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,r){let l=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),W.waitFor(u).next((()=>l))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return W.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),W.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return W.resolve(r)}containsKey(e,i){return W.resolve(this._i.containsKey(i))}}class FT{constructor(e,i){this.ui={},this.overlays={},this.ci=new Vh(0),this.li=!1,this.li=!0,this.hi=new iI,this.referenceDelegate=e(this),this.Pi=new oI(this),this.indexManager=new GC,this.remoteDocumentCache=(function(l){return new rI(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new HC(i),this.Ii=new tI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new nI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new sI(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){oe("MemoryPersistence","Starting transaction:",e);const l=new lI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,i){return W.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class lI extends UR{constructor(e){super(),this.currentSequenceNumber=e}}class gp{constructor(e){this.persistence=e,this.Ri=new pp,this.Vi=null}static mi(e){return new gp(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),W.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(r=>{const l=de.fromPath(r);return this.gi(e,l).next((u=>{u||i.removeEntry(l,Ee.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Sh{constructor(e,i){this.persistence=e,this.pi=new aa((r=>PR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=ZC(this,i)}static mi(e,i){return new Sh(e,i)}Ei(){}di(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return W.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?W.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,u.removeEntry(d,Ee.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=rh(e.data.value)),i}br(e,i,r){return W.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return W.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class yp{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=ke(),l=ke();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new yp(e,i.fromCache,r,l)}}class uI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class cI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zb()?8:LR(nn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const u={result:null};return this.ys(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,i,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new uI;return this.Ss(e,i,d).next((p=>{if(u.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>u.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(Wa()<=Me.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",eo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Wa()<=Me.DEBUG&&oe("QueryEngine","Query:",eo(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Wa()<=Me.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",eo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(i))):W.resolve())}ys(e,i){if(y0(i))return W.resolve(null);let r=Di(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Mm(i,null,"F"),r=Di(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=ke(...u);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(i,p);return this.Cs(i,y,d,g.readTime)?this.ys(e,Mm(i,null,"F")):this.vs(e,y,i,g)}))))})))))}ws(e,i,r,l){return y0(i)||l.isEqual(Ee.min())?W.resolve(null):this.ps.getDocuments(e,r).next((u=>{const d=this.Ds(i,u);return this.Cs(i,d,r,l)?W.resolve(null):(Wa()<=Me.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),eo(i)),this.vs(e,d,i,OR(l,Yl)).next((p=>p)))}))}Ds(e,i){let r=new Lt(AT(e));return i.forEach(((l,u)=>{Ph(e,u)&&(r=r.add(u))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,i,r){return Wa()<=Me.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",eo(i)),this.ps.getDocumentsMatchingQuery(e,i,or.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const _p="LocalStore",hI=3e8;class fI{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new ft(Ve),this.xs=new aa((u=>lp(u)),up),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function dI(s,e,i,r){return new fI(s,e,i,r)}async function GT(s,e){const i=Ae(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let g=ke();for(const y of l){d.push(y.batchId);for(const A of y.mutations)g=g.add(A.key)}for(const y of u){p.push(y.batchId);for(const A of y.mutations)g=g.add(A.key)}return i.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function mI(s,e){const i=Ae(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,A){const S=y.batch,x=S.keys();let B=W.resolve();return x.forEach((q=>{B=B.next((()=>A.getEntry(g,q))).next((G=>{const Z=y.docVersions.get(q);Ge(Z!==null,48541),G.version.compareTo(Z)<0&&(S.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),A.addEntry(G)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(i,r,e,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=ke();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function QT(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function pI(s,e){const i=Ae(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((A,S)=>{const x=l.get(S);if(!x)return;p.push(i.Pi.removeMatchingKeys(u,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(u,A.addedDocuments,S))));let B=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?B=B.withResumeToken($t.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):A.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(A.resumeToken,r)),l=l.insert(S,B),(function(G,Z,ne){return G.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=hI?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(x,B,A)&&p.push(i.Pi.updateTargetData(u,B))}));let g=ds(),y=ke();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,A))})),p.push(gI(u,d,e.documentUpdates).next((A=>{g=A.ks,y=A.qs}))),!r.isEqual(Ee.min())){const A=i.Pi.getLastRemoteSnapshotVersion(u).next((S=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(A)}return W.waitFor(p).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(i.Ms=l,u)))}function gI(s,e,i){let r=ke(),l=ke();return i.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=ds();return i.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):oe(_p,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function yI(s,e){const i=Ae(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=rp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function _I(s,e){const i=Ae(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((u=>u?(l=u,W.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new er(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function jm(s,e,i){const r=Ae(s),l=r.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!bo(d))throw d;oe(_p,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function N0(s,e,i){const r=Ae(s);let l=Ee.min(),u=ke();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,A){const S=Ae(g),x=S.xs.get(A);return x!==void 0?W.resolve(S.Ms.get(x)):S.Pi.getTargetData(y,A)})(r,d,Di(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:Ee.min(),i?u:ke()))).next((p=>(vI(r,sC(e),p),{documents:p,Qs:u})))))}function vI(s,e,i){let r=s.Os.get(e)||Ee.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class D0{constructor(){this.activeTargetIds=cC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EI{constructor(){this.Mo=new D0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new D0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TI{Oo(e){}shutdown(){}}const O0="ConnectivityMonitor";class M0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(O0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(O0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zc=null;function Pm(){return Zc===null?Zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zc++,"0x"+Zc.toString(16)}const dm="RestConnection",AI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===vh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,u){const d=Pm(),p=this.zo(e,i.toUriEncodedString());oe(dm,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:y}=new URL(p),A=_o(y);return this.Jo(e,p,g,r,A).then((S=>(oe(dm,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw uo(dm,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(e,i,r,l,u,d){return this.Go(e,i,r,l,u)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+To})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,i){const r=AI[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class SI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class wI extends bI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,u){const d=Pm();return new Promise(((p,g)=>{const y=new XE;y.setWithCredentials(!0),y.listenOnce($E.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case sh.NO_ERROR:const S=y.getResponseJson();oe(Jt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case sh.TIMEOUT:oe(Jt,`RPC '${e}' ${d} timed out`),g(new re(X.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const x=y.getStatus();if(oe(Jt,`RPC '${e}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const q=B?.error;if(q&&q.status&&q.message){const G=(function(ne){const ee=ne.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ee)>=0?ee:X.UNKNOWN})(q.status);g(new re(G,q.message))}else g(new re(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new re(X.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(Jt,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);oe(Jt,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",A,r,15)}))}T_(e,i,r){const l=Pm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=WE(),p=JE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const A=u.join("");oe(Jt,`Creating RPC '${e}' stream ${l}: ${A}`,g);const S=d.createWebChannel(A,g);this.I_(S);let x=!1,B=!1;const q=new SI({Yo:Z=>{B?oe(Jt,`Not sending because RPC '${e}' stream ${l} is closed:`,Z):(x||(oe(Jt,`Opening RPC '${e}' stream ${l} transport.`),S.open(),x=!0),oe(Jt,`RPC '${e}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),G=(Z,ne,ee)=>{Z.listen(ne,(ae=>{try{ee(ae)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return G(S,kl.EventType.OPEN,(()=>{B||(oe(Jt,`RPC '${e}' stream ${l} transport opened.`),q.o_())})),G(S,kl.EventType.CLOSE,(()=>{B||(B=!0,oe(Jt,`RPC '${e}' stream ${l} transport closed`),q.a_(),this.E_(S))})),G(S,kl.EventType.ERROR,(Z=>{B||(B=!0,uo(Jt,`RPC '${e}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),q.a_(new re(X.UNAVAILABLE,"The operation could not be completed")))})),G(S,kl.EventType.MESSAGE,(Z=>{if(!B){const ne=Z.data[0];Ge(!!ne,16349);const ee=ne,ae=ee?.error||ee[0]?.error;if(ae){oe(Jt,`RPC '${e}' stream ${l} received error:`,ae);const ge=ae.status;let Re=(function(w){const C=Dt[w];if(C!==void 0)return MT(C)})(ge),be=ae.message;Re===void 0&&(Re=X.INTERNAL,be="Unknown error status: "+ge+" with message "+ae.message),B=!0,q.a_(new re(Re,be)),S.close()}else oe(Jt,`RPC '${e}' stream ${l} received:`,ne),q.u_(ne)}})),G(p,ZE.STAT_EVENT,(Z=>{Z.stat===Rm.PROXY?oe(Jt,`RPC '${e}' stream ${l} detected buffering proxy`):Z.stat===Rm.NOPROXY&&oe(Jt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function mm(){return typeof document<"u"?document:null}function Fh(s){return new xC(s,!0)}class KT{constructor(e,i,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const V0="PersistentStream";class YT{constructor(e,i,r,l,u,d,p,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(fs(i.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new re(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(V0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(oe(V0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RI extends YT{constructor(e,i,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=OC(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Ee.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ee.min():d.readTime?Oi(d.readTime):Ee.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Lm(this.serializer),i.addTarget=(function(u,d){let p;const g=d.target;if(p=Dm(g)?{documents:kC(u,g)}:{query:UC(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=UT(u,d.resumeToken);const y=Vm(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ee.min())>0){p.readTime=bh(u,d.snapshotVersion.toTimestamp());const y=Vm(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=jC(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Lm(this.serializer),i.removeTarget=e,this.q_(i)}}class CI extends YT{constructor(e,i,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=VC(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Lm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>MC(this.serializer,r)))};this.q_(i)}}class II{}class xI extends II{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new re(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,km(i,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new re(X.UNKNOWN,u.toString())}))}Ho(e,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,km(i,r),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new re(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class DI{constructor(e,i,r,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{oa(this)&&(oe(ia,"Restarting streams for network reachability change."),await(async function(g){const y=Ae(g);y.Ea.add(4),await hu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Gh(y)})(this))}))})),this.Ra=new NI(r,l)}}async function Gh(s){if(oa(s))for(const e of s.da)await e(!0)}async function hu(s){for(const e of s.da)await e(!1)}function XT(s,e){const i=Ae(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Ap(i)?Tp(i):wo(i).O_()&&Ep(i,e))}function vp(s,e){const i=Ae(s),r=wo(i);i.Ia.delete(e),r.O_()&&$T(i,e),i.Ia.size===0&&(r.O_()?r.L_():oa(i)&&i.Ra.set("Unknown"))}function Ep(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}wo(s).Y_(e)}function $T(s,e){s.Va.Ue(e),wo(s).Z_(e)}function Tp(s){s.Va=new wC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),wo(s).start(),s.Ra.ua()}function Ap(s){return oa(s)&&!wo(s).x_()&&s.Ia.size>0}function oa(s){return Ae(s).Ea.size===0}function ZT(s){s.Va=void 0}async function OI(s){s.Ra.set("Online")}async function MI(s){s.Ia.forEach(((e,i)=>{Ep(s,e)}))}async function VI(s,e){ZT(s),Ap(s)?(s.Ra.ha(e),Tp(s)):s.Ra.set("Unknown")}async function kI(s,e,i){if(s.Ra.set("Online"),e instanceof kT&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){oe(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wh(s,r)}else if(e instanceof lh?s.Va.Ze(e):e instanceof VT?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ee.min()))try{const r=await QT(s.localStore);i.compareTo(r)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const A=u.Ia.get(y);A&&u.Ia.set(y,A.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const A=u.Ia.get(g);if(!A)return;u.Ia.set(g,A.withResumeToken($t.EMPTY_BYTE_STRING,A.snapshotVersion)),$T(u,g);const S=new er(A.target,g,y,A.sequenceNumber);Ep(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){oe(ia,"Failed to raise snapshot:",r),await wh(s,r)}}async function wh(s,e,i){if(!bo(e))throw e;s.Ea.add(1),await hu(s),s.Ra.set("Offline"),i||(i=()=>QT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(ia,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Gh(s)}))}function JT(s,e){return e().catch((i=>wh(s,i,e)))}async function Qh(s){const e=Ae(s),i=hr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rp;for(;UI(e);)try{const l=await yI(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,LI(e,l)}catch(l){await wh(e,l)}WT(e)&&e1(e)}function UI(s){return oa(s)&&s.Ta.length<10}function LI(s,e){s.Ta.push(e);const i=hr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function WT(s){return oa(s)&&!hr(s).x_()&&s.Ta.length>0}function e1(s){hr(s).start()}async function jI(s){hr(s).ra()}async function PI(s){const e=hr(s);for(const i of s.Ta)e.ea(i.mutations)}async function zI(s,e,i){const r=s.Ta.shift(),l=fp.from(r,e,i);await JT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Qh(s)}async function BI(s,e){e&&hr(s).X_&&await(async function(r,l){if((function(d){return AC(d)&&d!==X.ABORTED})(l.code)){const u=r.Ta.shift();hr(r).B_(),await JT(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Qh(r)}})(s,e),WT(s)&&e1(s)}async function k0(s,e){const i=Ae(s);i.asyncQueue.verifyOperationInProgress(),oe(ia,"RemoteStore received new credentials");const r=oa(i);i.Ea.add(3),await hu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Gh(i)}async function qI(s,e){const i=Ae(s);e?(i.Ea.delete(2),await Gh(i)):e||(i.Ea.add(2),await hu(i),i.Ra.set("Unknown"))}function wo(s){return s.ma||(s.ma=(function(i,r,l){const u=Ae(i);return u.sa(),new RI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:OI.bind(null,s),t_:MI.bind(null,s),r_:VI.bind(null,s),H_:kI.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Ap(s)?Tp(s):s.Ra.set("Unknown")):(await s.ma.stop(),ZT(s))}))),s.ma}function hr(s){return s.fa||(s.fa=(function(i,r,l){const u=Ae(i);return u.sa(),new CI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:jI.bind(null,s),r_:BI.bind(null,s),ta:PI.bind(null,s),na:zI.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Qh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class bp{constructor(e,i,r,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,u){const d=Date.now()+r,p=new bp(e,i,d,l,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sp(s,e){if(fs("AsyncQueue",`${e}: ${s}`),bo(s))return new re(X.UNAVAILABLE,`${e}: ${s}`);throw s}class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||de.comparator(i.key,r.key):(i,r)=>de.comparator(i.key,r.key),this.keyedMap=Ul(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class U0{constructor(){this.ga=new ft(de.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class yo{constructor(e,i,r,l,u,d,p,g,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,l,u){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new yo(e,i,oo.emptySet(i),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class HI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class FI{constructor(){this.queries=L0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ae(i),u=l.queries;l.queries=L0(),u.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new re(X.ABORTED,"Firestore shutting down"))}}function L0(){return new aa((s=>TT(s)),jh)}async function wp(s,e){const i=Ae(s);let r=3;const l=e.query;let u=i.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new HI,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Sp(d,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&Cp(i)}async function Rp(s,e){const i=Ae(s),r=e.query;let l=3;const u=i.queries.get(r);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function GI(s,e){const i=Ae(s);let r=!1;for(const l of e){const u=l.query,d=i.queries.get(u);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Cp(i)}function QI(s,e,i){const r=Ae(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(i);r.queries.delete(e)}function Cp(s){s.Ca.forEach((e=>{e.next()}))}var zm,j0;(j0=zm||(zm={})).Ma="default",j0.Cache="cache";class Ip{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zm.Cache}}class t1{constructor(e){this.key=e}}class n1{constructor(e){this.key=e}}class KI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=AT(e),this.tu=new oo(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new U0,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,S)=>{const x=l.get(A),B=Ph(this.query,S)?S:null,q=!!x&&this.mutatedKeys.has(x.key),G=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Z=!1;x&&B?x.data.isEqual(B.data)?q!==G&&(r.track({type:3,doc:B}),Z=!0):this.su(x,B)||(r.track({type:2,doc:B}),Z=!0,(g&&this.eu(B,g)>0||y&&this.eu(B,y)<0)&&(p=!0)):!x&&B?(r.track({type:0,doc:B}),Z=!0):x&&!B&&(r.track({type:1,doc:x}),Z=!0,(g||y)&&(p=!0)),Z&&(B?(d=d.add(B),u=G?u.add(A):u.delete(A)):(d=d.delete(A),u=u.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(B,q){const G=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:Z})}};return G(B)-G(q)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new yo(this.query,e.tu,u,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new U0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new n1(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new t1(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=ke();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xp="SyncEngine";class YI{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class XI{constructor(e){this.key=e,this.hu=!1}}class $I{constructor(e,i,r,l,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new aa((p=>TT(p)),jh),this.Iu=new Map,this.Eu=new Set,this.du=new ft(de.comparator),this.Au=new Map,this.Ru=new pp,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZI(s,e,i=!0){const r=l1(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await i1(r,e,i,!0),l}async function JI(s,e){const i=l1(s);await i1(i,e,!0,!1)}async function i1(s,e,i,r){const l=await _I(s.localStore,Di(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let p;return r&&(p=await WI(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&XT(s.remoteStore,l),p}async function WI(s,e,i,r,l){s.pu=(S,x,B)=>(async function(G,Z,ne,ee){let ae=Z.view.ru(ne);ae.Cs&&(ae=await N0(G.localStore,Z.query,!1).then((({documents:R})=>Z.view.ru(R,ae))));const ge=ee&&ee.targetChanges.get(Z.targetId),Re=ee&&ee.targetMismatches.get(Z.targetId)!=null,be=Z.view.applyChanges(ae,G.isPrimaryClient,ge,Re);return z0(G,Z.targetId,be.au),be.snapshot})(s,S,x,B);const u=await N0(s.localStore,e,!0),d=new KI(e,u.Qs),p=d.ru(u.documents),g=cu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,g);z0(s,i,y.au);const A=new YI(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function ex(s,e,i){const r=Ae(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!jh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await jm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&vp(r.remoteStore,l.targetId),Bm(r,l.targetId)})).catch(Ao)):(Bm(r,l.targetId),await jm(r.localStore,l.targetId,!0))}async function tx(s,e){const i=Ae(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),vp(i.remoteStore,r.targetId))}async function nx(s,e,i){const r=ux(s);try{const l=await(function(d,p){const g=Ae(d),y=st.now(),A=p.reduce(((B,q)=>B.add(q.key)),ke());let S,x;return g.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let q=ds(),G=ke();return g.Ns.getEntries(B,A).next((Z=>{q=Z,q.forEach(((ne,ee)=>{ee.isValidDocument()||(G=G.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(B,q))).next((Z=>{S=Z;const ne=[];for(const ee of p){const ae=yC(ee,S.get(ee.key).overlayedDocument);ae!=null&&ne.push(new gr(ee.key,ae,dT(ae.value.mapValue),ln.exists(!0)))}return g.mutationQueue.addMutationBatch(B,y,ne,p)})).next((Z=>{x=Z;const ne=Z.applyToLocalDocumentSet(S,G);return g.documentOverlayCache.saveOverlays(B,Z.batchId,ne)}))})).then((()=>({batchId:x.batchId,changes:ST(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new ft(Ve)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await fu(r,l.changes),await Qh(r.remoteStore)}catch(l){const u=Sp(l,"Failed to persist write");i.reject(u)}}async function s1(s,e){const i=Ae(s);try{const r=await pI(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=i.Au.get(u);d&&(Ge(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ge(d.hu,14607):l.removedDocuments.size>0&&(Ge(d.hu,42227),d.hu=!1))})),await fu(i,r,e)}catch(r){await Ao(r)}}function P0(s,e,i){const r=Ae(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Ae(d);g.onlineState=p;let y=!1;g.queries.forEach(((A,S)=>{for(const x of S.Sa)x.va(p)&&(y=!0)})),y&&Cp(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ix(s,e,i){const r=Ae(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new ft(de.comparator);d=d.insert(u,tn.newNoDocument(u,Ee.min()));const p=ke().add(u),g=new Hh(Ee.min(),new Map,new ft(Ve),d,p);await s1(r,g),r.du=r.du.remove(u),r.Au.delete(e),Np(r)}else await jm(r.localStore,e,!1).then((()=>Bm(r,e,i))).catch(Ao)}async function sx(s,e){const i=Ae(s),r=e.batch.batchId;try{const l=await mI(i.localStore,e);a1(i,r,null),r1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await fu(i,l)}catch(l){await Ao(l)}}async function rx(s,e,i){const r=Ae(s);try{const l=await(function(d,p){const g=Ae(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return g.mutationQueue.lookupMutationBatch(y,p).next((S=>(Ge(S!==null,37113),A=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>g.localDocuments.getDocuments(y,A)))}))})(r.localStore,e);a1(r,e,i),r1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await fu(r,l)}catch(l){await Ao(l)}}function r1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function a1(s,e,i){const r=Ae(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Bm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||o1(s,r)}))}function o1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(vp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Np(s))}function z0(s,e,i){for(const r of i)r instanceof t1?(s.Ru.addReference(r.key,e),ax(s,r)):r instanceof n1?(oe(xp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||o1(s,r.key)):_e(19791,{wu:r})}function ax(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(oe(xp,"New document in limbo: "+i),s.Eu.add(r),Np(s))}function Np(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new de(tt.fromString(e)),r=s.fu.next();s.Au.set(r,new XI(i)),s.du=s.du.insert(i,r),XT(s.remoteStore,new er(Di(Lh(i.path)),r,"TargetPurposeLimboResolution",Vh.ce))}}async function fu(s,e,i){const r=Ae(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(y){l.push(y);const A=yp.As(g.targetId,y);u.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,y){const A=Ae(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(y,(x=>W.forEach(x.Es,(B=>A.persistence.referenceDelegate.addReference(S,x.targetId,B))).next((()=>W.forEach(x.ds,(B=>A.persistence.referenceDelegate.removeReference(S,x.targetId,B)))))))))}catch(S){if(!bo(S))throw S;oe(_p,"Failed to update sequence numbers: "+S)}for(const S of y){const x=S.targetId;if(!S.fromCache){const B=A.Ms.get(x),q=B.snapshotVersion,G=B.withLastLimboFreeSnapshotVersion(q);A.Ms=A.Ms.insert(x,G)}}})(r.localStore,u))}async function ox(s,e){const i=Ae(s);if(!i.currentUser.isEqual(e)){oe(xp,"User change. New user:",e.toKey());const r=await GT(i.localStore,e);i.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new re(X.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fu(i,r.Ls)}}function lx(s,e){const i=Ae(s),r=i.Au.get(e);if(r&&r.hu)return ke().add(r.key);{let l=ke();const u=i.Iu.get(e);if(!u)return l;for(const d of u){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function l1(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=s1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ix.bind(null,e),e.Pu.H_=GI.bind(null,e.eventManager),e.Pu.yu=QI.bind(null,e.eventManager),e}function ux(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rx.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return dI(this.persistence,new cI,e.initialUser,this.serializer)}Cu(e){return new FT(gp.mi,this.serializer)}Du(e){return new EI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class cx extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ge(this.persistence.referenceDelegate instanceof Sh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XC(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new FT((r=>Sh.mi(r,i)),this.serializer)}}class qm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>P0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ox.bind(null,this.syncEngine),await qI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FI})()}createDatastore(e){const i=Fh(e.databaseInfo.databaseId),r=(function(u){return new wI(u)})(e.databaseInfo);return(function(u,d,p,g){return new xI(u,d,p,g)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,u,d,p){return new DI(r,l,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>P0(this.syncEngine,i,0)),(function(){return M0.v()?new M0:new TI})())}createSyncEngine(e,i){return(function(l,u,d,p,g,y,A){const S=new $I(l,u,d,p,g,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ae(i);oe(ia,"RemoteStore shutting down."),r.Ea.add(5),await hu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qm.provider={build:()=>new qm};class Dp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const fr="FirestoreClient";class hx{constructor(e,i,r,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Wt.UNAUTHENTICATED,this.clientId=sp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{oe(fr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(oe(fr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Sp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function pm(s,e){s.asyncQueue.verifyOperationInProgress(),oe(fr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await GT(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function B0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await fx(s);oe(fr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>k0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>k0(e.remoteStore,l))),s._onlineComponents=e}async function fx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(fr,"Using user provided OfflineComponentProvider");try{await pm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;uo("Error using user provided cache. Falling back to memory cache: "+i),await pm(s,new Rh)}}else oe(fr,"Using default OfflineComponentProvider"),await pm(s,new cx(void 0));return s._offlineComponents}async function u1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(fr,"Using user provided OnlineComponentProvider"),await B0(s,s._uninitializedComponentsProvider._online)):(oe(fr,"Using default OnlineComponentProvider"),await B0(s,new qm))),s._onlineComponents}function dx(s){return u1(s).then((e=>e.syncEngine))}async function Ch(s){const e=await u1(s),i=e.eventManager;return i.onListen=ZI.bind(null,e.syncEngine),i.onUnlisten=ex.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=JI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=tx.bind(null,e.syncEngine),i}function mx(s,e,i={}){const r=new os;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const A=new Dp({next:x=>{A.Nu(),d.enqueueAndForget((()=>Rp(u,S)));const B=x.docs.has(p);!B&&x.fromCache?y.reject(new re(X.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&x.fromCache&&g&&g.source==="server"?y.reject(new re(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),S=new Ip(Lh(p.path),A,{includeMetadataChanges:!0,qa:!0});return wp(u,S)})(await Ch(s),s.asyncQueue,e,i,r))),r.promise}function px(s,e,i={}){const r=new os;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const A=new Dp({next:x=>{A.Nu(),d.enqueueAndForget((()=>Rp(u,S))),x.fromCache&&g.source==="server"?y.reject(new re(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),S=new Ip(p,A,{includeMetadataChanges:!0,qa:!0});return wp(u,S)})(await Ch(s),s.asyncQueue,e,i,r))),r.promise}function c1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const q0=new Map;const h1="firestore.googleapis.com",H0=!0;class F0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h1,this.ssl=H0}else this.host=e.host,this.ssl=e.ssl??H0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KC)throw new re(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new TR;switch(r.type){case"firstParty":return new wR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=q0.get(i);r&&(oe("ComponentProvider","Removing Datastore"),q0.delete(i),r.terminate())})(this),Promise.resolve()}}function gx(s,e,i,r={}){s=on(s,Kh);const l=_o(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(aE(`https://${p}`),oE("Firestore",!0)),u.host!==h1&&u.host!==p&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:r};if(!us(g,d)&&(s._setSettings(g),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=Wt.MOCK_USER;else{y=Db(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new re(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Wt(S)}s._authCredentials=new AR(new tT(y,A))}}class yr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yr(this.firestore,e,this._query)}}class pt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(lu(i,pt._jsonSchema))return new pt(e,r||null,new de(tt.fromString(i.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Mt("string",pt._jsonSchemaVersion),referencePath:Mt("string")};class ar extends yr{constructor(e,i,r){super(e,i,Lh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new de(e))}withConverter(e){return new ar(this.firestore,e,this._path)}}function ht(s,e,...i){if(s=Tt(s),nT("collection","path",e),s instanceof Kh){const r=tt.fromString(e,...i);return i0(r),new ar(s,null,r)}{if(!(s instanceof pt||s instanceof ar))throw new re(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(tt.fromString(e,...i));return i0(r),new ar(s.firestore,null,r)}}function ct(s,e,...i){if(s=Tt(s),arguments.length===1&&(e=sp.newId()),nT("doc","path",e),s instanceof Kh){const r=tt.fromString(e,...i);return n0(r),new pt(s,null,new de(r))}{if(!(s instanceof pt||s instanceof ar))throw new re(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(tt.fromString(e,...i));return n0(r),new pt(s.firestore,s instanceof ar?s.converter:null,new de(r))}}const G0="AsyncQueue";class Q0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KT(this,"async_queue_retry"),this._c=()=>{const r=mm();r&&oe(G0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=mm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=mm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bo(e))throw e;oe(G0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",K0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=bp.createAndSchedule(this,e,i,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&_e(47125,{Pc:K0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function K0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Y0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class ji extends Kh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new Q0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q0(e),this._firestoreClient=void 0,await e}}}function yx(s,e){const i=typeof s=="object"?s:hE(),r=typeof s=="string"?s:vh,l=Ym(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=xb("firestore");u&&gx(l,...u)}return l}function du(s){if(s._terminated)throw new re(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||_x(s),s._firestoreClient}function _x(s){const e=s._freezeSettings(),i=(function(l,u,d,p){return new qR(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,c1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new hx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn($t.fromBase64String(e))}catch(i){throw new re(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Hn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Mt("string",Hn._jsonSchemaVersion),bytes:Mt("string")};class mu{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new re(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ro{constructor(e){this._methodName=e}}class Mi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new re(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new re(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(lu(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Mt("string",Mi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class Vi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,Vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Vi(e.vectorValues);throw new re(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Mt("string",Vi._jsonSchemaVersion),vectorValues:Mt("object")};const vx=/^__.*__$/;class Ex{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new gr(e,this.data,this.fieldMask,i,this.fieldTransforms):new uu(e,this.data,i,this.fieldTransforms)}}class f1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new gr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function d1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:s})}}class Yh{constructor(e,i,r,l,u,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(d1(this.Ac)&&vx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Tx{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Fh(e)}Cc(e,i,r,l=!1){return new Yh({Ac:e,methodName:i,Dc:r,path:Xt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pu(s){const e=s._freezeSettings(),i=Fh(s._databaseId);return new Tx(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Op(s,e,i,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,e,i,l);Up("Data must be an object, but it was:",d,r);const p=y1(r,d);let g,y;if(u.merge)g=new Cn(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const A=[];for(const S of u.mergeFields){const x=Hm(e,S,i);if(!d.contains(x))throw new re(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);v1(A,x)||A.push(x)}g=new Cn(A),y=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=d.fieldTransforms;return new Ex(new yn(p),g,y)}class Xh extends Ro{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function m1(s,e,i){return new Yh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Mp extends Ro{_toFieldTransform(e){return new hp(e.path,new Wl)}isEqual(e){return e instanceof Mp}}class Vp extends Ro{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=m1(this,e,!0),r=this.vc.map((u=>la(u,i))),l=new mo(r);return new hp(e.path,l)}isEqual(e){return e instanceof Vp&&us(this.vc,e.vc)}}class kp extends Ro{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=m1(this,e,!0),r=this.vc.map((u=>la(u,i))),l=new po(r);return new hp(e.path,l)}isEqual(e){return e instanceof kp&&us(this.vc,e.vc)}}function p1(s,e,i,r){const l=s.Cc(1,e,i);Up("Data must be an object, but it was:",l,r);const u=[],d=yn.empty();pr(r,((g,y)=>{const A=Lp(e,g,i);y=Tt(y);const S=l.yc(A);if(y instanceof Xh)u.push(A);else{const x=la(y,S);x!=null&&(u.push(A),d.set(A,x))}}));const p=new Cn(u);return new f1(d,p,l.fieldTransforms)}function g1(s,e,i,r,l,u){const d=s.Cc(1,e,i),p=[Hm(e,r,i)],g=[l];if(u.length%2!=0)throw new re(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)p.push(Hm(e,u[x])),g.push(u[x+1]);const y=[],A=yn.empty();for(let x=p.length-1;x>=0;--x)if(!v1(y,p[x])){const B=p[x];let q=g[x];q=Tt(q);const G=d.yc(B);if(q instanceof Xh)y.push(B);else{const Z=la(q,G);Z!=null&&(y.push(B),A.set(B,Z))}}const S=new Cn(y);return new f1(A,S,d.fieldTransforms)}function Ax(s,e,i,r=!1){return la(i,s.Cc(r?4:3,e))}function la(s,e){if(_1(s=Tt(s)))return Up("Unsupported field value:",e,s),y1(s,e);if(s instanceof Ro)return(function(r,l){if(!d1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const p of r){let g=la(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=st.fromDate(r);return{timestampValue:bh(l.serializer,u)}}if(r instanceof st){const u=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bh(l.serializer,u)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:UT(l.serializer,r._byteString)};if(r instanceof pt){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Vi)return(function(d,p){return{mapValue:{fields:{[hT]:{stringValue:fT},[Eh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return cp(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Mh(r)}`)})(s,e)}function y1(s,e){const i={};return rT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pr(s,((r,l)=>{const u=la(l,e.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function _1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof st||s instanceof Mi||s instanceof Hn||s instanceof pt||s instanceof Ro||s instanceof Vi)}function Up(s,e,i){if(!_1(i)||!iT(i)){const r=Mh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Hm(s,e,i){if((e=Tt(e))instanceof mu)return e._internalPath;if(typeof e=="string")return Lp(s,e);throw Ih("Field path arguments must be of type string or ",s,!1,void 0,i)}const bx=new RegExp("[~\\*/\\[\\]]");function Lp(s,e,i){if(e.search(bx)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new mu(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ih(s,e,i,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new re(X.INVALID_ARGUMENT,p+s+g)}function v1(s,e){return s.some((i=>i.isEqual(e)))}class E1{constructor(e,i,r,l,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Sx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field($h("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Sx extends E1{data(){return super.data()}}function $h(s,e){return typeof e=="string"?Lp(s,e):e instanceof mu?e._internalPath:e._delegate._internalPath}function T1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new re(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jp{}class A1 extends jp{}function In(s,e,...i){let r=[];e instanceof jp&&r.push(e),r=r.concat(i),(function(u){const d=u.filter((g=>g instanceof Pp)).length,p=u.filter((g=>g instanceof Zh)).length;if(d>1||d>0&&p>0)throw new re(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Zh extends A1{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Zh(e,i,r)}_apply(e){const i=this._parse(e);return S1(e._query,i),new yr(e.firestore,e.converter,Om(e._query,i))}_parse(e){const i=pu(e.firestore);return(function(u,d,p,g,y,A,S){let x;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new re(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){$0(S,A);const q=[];for(const G of S)q.push(X0(g,u,G));x={arrayValue:{values:q}}}else x=X0(g,u,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||$0(S,A),x=Ax(p,d,S,A==="in"||A==="not-in");return Ot.create(y,A,x)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function en(s,e,i){const r=e,l=$h("where",s);return Zh._create(l,r,i)}class Pp extends jp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Pp(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ri.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const g of p)S1(d,g),d=Om(d,g)})(e._query,i),new yr(e.firestore,e.converter,Om(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zp extends A1{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new zp(e,i)}_apply(e){const i=(function(l,u,d){if(l.startAt!==null)throw new re(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new re(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jl(u,d)})(e._query,this._field,this._direction);return new yr(e.firestore,e.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new So(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function b1(s,e="asc"){const i=e,r=$h("orderBy",s);return zp._create(r,i)}function X0(s,e,i){if(typeof(i=Tt(i))=="string"){if(i==="")throw new re(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ET(e)&&i.indexOf("/")!==-1)throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(tt.fromString(i));if(!de.isDocumentKey(r))throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return h0(s,new de(r))}if(i instanceof pt)return h0(s,i._key);throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(i)}.`)}function $0(s,e){if(!Array.isArray(s)||s.length===0)throw new re(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function S1(s,e){const i=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new re(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class wx{convertValue(e,i="none"){switch(cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return pr(e,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertVectorValue(e){const i=e.fields?.[Eh].arrayValue?.values?.map((r=>Et(r.doubleValue)));return new Vi(i)}convertGeoPoint(e){return new Mi(Et(e.latitude),Et(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Uh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const i=lr(e);return new st(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=tt.fromString(e);Ge(qT(r),9688,{name:e});const l=new $l(r.get(1),r.get(3)),u=new de(r.popFirst(5));return l.isEqual(i)||fs(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function Bp(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class jl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zr extends E1{constructor(e,i,r,l,u,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field($h("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Zr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zr._jsonSchema={type:Mt("string",Zr._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class uh extends Zr{data(e={}){return super.data(e)}}class Jr{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new jl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new uh(this._firestore,this._userDataWriter,r.key,r,new jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new re(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new uh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new jl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new uh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new jl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:Rx(p.type),doc:g,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Rx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}function qp(s){s=on(s,pt);const e=on(s.firestore,ji);return mx(du(e),s._key).then((i=>w1(e,s,i)))}Jr._jsonSchemaVersion="firestore/querySnapshot/1.0",Jr._jsonSchema={type:Mt("string",Jr._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Hp extends wx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,i)}}function eu(s){s=on(s,yr);const e=on(s.firestore,ji),i=du(e),r=new Hp(e);return T1(s._query),px(i,s._query).then((l=>new Jr(e,r,s,l)))}function Z0(s,e,i){s=on(s,pt);const r=on(s.firestore,ji),l=Bp(s.converter,e,i);return gu(r,[Op(pu(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,ln.none())])}function Fn(s,e,i,...r){s=on(s,pt);const l=on(s.firestore,ji),u=pu(l);let d;return d=typeof(e=Tt(e))=="string"||e instanceof mu?g1(u,"updateDoc",s._key,e,i,r):p1(u,"updateDoc",s._key,e),gu(l,[d.toMutation(s._key,ln.exists(!0))])}function Fm(s){return gu(on(s.firestore,ji),[new qh(s._key,ln.none())])}function ki(s,e){const i=on(s.firestore,ji),r=ct(s),l=Bp(s.converter,e);return gu(i,[Op(pu(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,ln.exists(!1))]).then((()=>r))}function ls(s,...e){s=Tt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Y0(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Y0(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let u,d,p;if(s instanceof pt)d=on(s.firestore,ji),p=Lh(s._key.path),u={next:g=>{e[r]&&e[r](w1(d,s,g))},error:e[r+1],complete:e[r+2]};else{const g=on(s,yr);d=on(g.firestore,ji),p=g._query;const y=new Hp(d);u={next:A=>{e[r]&&e[r](new Jr(d,y,g,A))},error:e[r+1],complete:e[r+2]},T1(s._query)}return(function(y,A,S,x){const B=new Dp(x),q=new Ip(A,B,S);return y.asyncQueue.enqueueAndForget((async()=>wp(await Ch(y),q))),()=>{B.Nu(),y.asyncQueue.enqueueAndForget((async()=>Rp(await Ch(y),q)))}})(du(d),p,l,u)}function gu(s,e){return(function(r,l){const u=new os;return r.asyncQueue.enqueueAndForget((async()=>nx(await dx(r),l,u))),u.promise})(du(s),e)}function w1(s,e,i){const r=i.docs.get(e._key),l=new Hp(s);return new Zr(s,l,e._key,r,new jl(i.hasPendingWrites,i.fromCache),e.converter)}class Cx{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=pu(e)}set(e,i,r){this._verifyNotCommitted();const l=gm(e,this._firestore),u=Bp(l.converter,i,r),d=Op(this._dataReader,"WriteBatch.set",l._key,u,l.converter!==null,r);return this._mutations.push(d.toMutation(l._key,ln.none())),this}update(e,i,r,...l){this._verifyNotCommitted();const u=gm(e,this._firestore);let d;return d=typeof(i=Tt(i))=="string"||i instanceof mu?g1(this._dataReader,"WriteBatch.update",u._key,i,r,l):p1(this._dataReader,"WriteBatch.update",u._key,i),this._mutations.push(d.toMutation(u._key,ln.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=gm(e,this._firestore);return this._mutations=this._mutations.concat(new qh(i._key,ln.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gm(s,e){if((s=Tt(s)).firestore!==e)throw new re(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function Ui(){return new Mp("serverTimestamp")}function R1(...s){return new Vp("arrayUnion",s)}function Ix(...s){return new kp("arrayRemove",s)}function xx(s){return du(s=on(s,ji)),new Cx(s,(e=>gu(s,e)))}(function(e,i=!0){(function(l){To=l})(vo),lo(new Wr("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new ji(new bR(r.getProvider("auth-internal")),new RR(d,r.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new re(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(y.options.projectId,A)})(d,l),d);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),sr(Jv,Wv,e),sr(Jv,Wv,"esm2020")})();const Nx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),J0=s=>{const e=Dx(s);return e.charAt(0).toUpperCase()+e.slice(1)},C1=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),Ox=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Mx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Vx=ce.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...p},g)=>ce.createElement("svg",{ref:g,...Mx,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:C1("lucide",l),...!u&&!Ox(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>ce.createElement(y,A)),...Array.isArray(u)?u:[u]]));const rt=(s,e)=>{const i=ce.forwardRef(({className:r,...l},u)=>ce.createElement(Vx,{ref:u,iconNode:e,className:C1(`lucide-${Nx(J0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=J0(s),i};const kx=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ux=rt("activity",kx);const Lx=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jx=rt("arrow-left",Lx);const Px=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],zx=rt("arrow-right",Px);const Bx=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],qx=rt("award",Bx);const Hx=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Fx=rt("bell",Hx);const Gx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Qx=rt("calendar",Gx);const Kx=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Yx=rt("camera",Kx);const Xx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$x=rt("check",Xx);const Zx=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],tr=rt("heart",Zx);const Jx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Wx=rt("lock",Jx);const eN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tN=rt("log-out",eN);const nN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],iN=rt("mail",nN);const sN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],rN=rt("message-square",sN);const aN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],oN=rt("pen",aN);const lN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],I1=rt("plus",lN);const uN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cN=rt("search",uN);const hN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],x1=rt("send",hN);const fN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],tu=rt("target",fN);const dN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mN=rt("trash-2",dN);const pN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Jh=rt("trophy",pN);const gN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],yN=rt("user-minus",gN);const _N=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],N1=rt("user-plus",_N);const vN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],EN=rt("user",vN);const TN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],D1=rt("users",TN);const AN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fp=rt("x",AN),sa=({children:s,onClick:e,variant:i="primary",className:r="",disabled:l=!1,type:u="button"})=>{const d="w-full px-4 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 shadow-sm active:scale-95",p={primary:"bg-indigo-600 text-white hover:bg-indigo-700 disabled:bg-indigo-300",secondary:"bg-white text-slate-700 border border-slate-200 hover:bg-slate-50",ghost:"bg-transparent text-slate-600 hover:bg-slate-100 shadow-none w-auto inline-flex px-2"};return T.jsx("button",{onClick:e,type:u,className:`${d} ${p[i]} ${r}`,disabled:l,children:s})},ms=({value:s,onChange:e,placeholder:i,type:r="text",icon:l,className:u=""})=>T.jsxs("div",{className:`relative ${u}`,children:[l&&T.jsx(l,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),T.jsx("input",{type:r,value:s,onChange:e,placeholder:i,className:`w-full ${l?"pl-11":"pl-4"} pr-4 py-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-600/20 focus:border-indigo-600 transition-all bg-slate-50 focus:bg-white`})]}),bN=({children:s,className:e=""})=>T.jsx("div",{className:`bg-white rounded-2xl p-4 shadow-sm border border-slate-100 ${e}`,children:s});function SN({onLogin:s,onRegister:e,errorMsg:i,setErrorMsg:r}){const[l,u]=ce.useState(!0),[d,p]=ce.useState(""),[g,y]=ce.useState(""),A=S=>{S.preventDefault(),l?s(d,g):e(d,g)};return T.jsx("div",{className:"min-h-screen bg-indigo-50 flex items-center justify-center p-6",children:T.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl p-8 shadow-xl",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4 text-indigo-600",children:T.jsx(tu,{size:32,fill:"currentColor"})}),T.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"FocusFlow"}),T.jsx("p",{className:"text-slate-500",children:l?"Hola de nuevo!":"Crea tu cuenta para empezar"})]}),T.jsxs("form",{onSubmit:A,className:"space-y-4",children:[T.jsx(ms,{type:"email",placeholder:"Tu correo electrnico",value:d,onChange:S=>p(S.target.value),icon:iN}),T.jsx(ms,{type:"password",placeholder:"Contrasea (min 6 caracteres)",value:g,onChange:S=>y(S.target.value),icon:Wx}),i&&T.jsx("p",{className:"text-red-500 text-sm text-center",children:i}),T.jsx(sa,{type:"submit",variant:"primary",children:l?"Iniciar Sesin":"Crear Cuenta"})]}),T.jsx("div",{className:"mt-6 text-center",children:T.jsx("button",{onClick:()=>{r(""),u(!l)},className:"text-slate-500 hover:text-indigo-600 text-sm font-medium transition-colors",children:l?"No tienes cuenta? Regstrate gratis":"Ya tienes cuenta? Inicia sesin"})})]})})}function wN({habit:s,onToggle:e,onDelete:i,isOwner:r}){const l=new Date().toLocaleDateString("en-CA"),u=s.completions?.includes(l);return T.jsx(bN,{className:`transition-all ${u?"border-l-4 border-l-green-400":"border-l-4 border-l-slate-200"}`,children:T.jsxs("div",{className:"flex items-start justify-between gap-3",children:[T.jsx("button",{onClick:r?e:void 0,disabled:!r,className:`
            w-8 h-8 rounded-full flex items-center justify-center transition-all
            ${u?"bg-green-500 text-white shadow-md scale-110":"bg-slate-100 text-slate-300"}
            ${!r&&"cursor-default opacity-90"}
          `,children:T.jsx($x,{size:18})}),T.jsxs("div",{className:"flex-grow",children:[T.jsx("h3",{className:"font-medium text-slate-700",children:s.title}),T.jsxs("div",{className:"flex gap-4 mt-1 text-xs text-slate-400",children:[T.jsxs("span",{className:"flex items-center gap-1",children:[T.jsx(Jh,{size:12})," ",s.streak," das"]}),s.userName&&T.jsxs("span",{className:"flex items-center gap-1 text-indigo-400",children:[T.jsx(Ux,{size:12})," ",s.userName]})]})]}),r&&T.jsx("button",{onClick:d=>{d.stopPropagation(),i()},className:"text-slate-300 hover:text-red-400 p-1 rounded transition-colors",children:T.jsx(mN,{size:16})})]})})}function RN({db:s,user:e}){const[i,r]=ce.useState([]),[l,u]=ce.useState(!1),[d,p]=ce.useState(0);ce.useEffect(()=>{if(!e)return;const q=In(ht(s,"notifications"),en("userId","==",e.uid)),G=ls(q,Z=>{const ne=Z.docs.map(ee=>({id:ee.id,...ee.data()}));ne.sort((ee,ae)=>(ae.createdAt?.seconds||0)-(ee.createdAt?.seconds||0)),r(ne),p(ne.filter(ee=>!ee.read).length)});return()=>G()},[e,s]);const g=async q=>{try{await Fn(ct(s,"notifications",q),{read:!0})}catch(G){console.error("Error marking as read:",G)}},y=async()=>{const q=xx(s);i.forEach(G=>{if(!G.read){const Z=ct(s,"notifications",G.id);q.update(Z,{read:!0})}}),await q.commit()},A=async q=>{try{await Fn(ct(s,"users",e.uid),{partnerId:q.fromUid}),await Fn(ct(s,"users",q.fromUid),{partnerId:e.uid});const G=In(ht(s,"couple_invites"),en("fromUid","==",q.fromUid),en("toUid","==",e.uid),en("status","==","pending"));(await eu(G)).forEach(async ne=>{await Fn(ct(s,"couple_invites",ne.id),{status:"accepted"})}),await Fm(ct(s,"notifications",q.id)),window.location.reload()}catch(G){console.error("Error accepting invite:",G)}},S=async q=>{try{const G=In(ht(s,"couple_invites"),en("fromUid","==",q.fromUid),en("toUid","==",e.uid),en("status","==","pending"));(await eu(G)).forEach(async ne=>{await Fn(ct(s,"couple_invites",ne.id),{status:"rejected"})}),await Fm(ct(s,"notifications",q.id))}catch(G){console.error("Error rejecting invite:",G)}},x=q=>q?.split("@")[0]||"Usuario",B=q=>{const G=q.fromDisplayName||x(q.fromEmail);switch(q.type){case"new_follower":return T.jsxs(T.Fragment,{children:[T.jsx(N1,{size:16,className:"text-indigo-600 mt-0.5 flex-shrink-0"}),T.jsxs("div",{className:"flex-1",children:[T.jsxs("p",{className:"text-sm text-slate-700",children:[T.jsx("span",{className:"font-semibold",children:G})," ha comenzado a seguirte."]}),T.jsx("p",{className:"text-xs text-slate-400 mt-1",children:q.createdAt?.toDate?.()?.toLocaleDateString()||"Reciente"})]})]});case"couple_invite":return T.jsxs(T.Fragment,{children:[T.jsx(tr,{size:16,className:"text-pink-600 mt-0.5 flex-shrink-0",fill:"currentColor"}),T.jsxs("div",{className:"flex-1",children:[T.jsxs("p",{className:"text-sm text-slate-700",children:[T.jsx("span",{className:"font-semibold",children:G})," quiere ser tu pareja "]}),T.jsxs("div",{className:"flex gap-2 mt-2",children:[T.jsx("button",{onClick:()=>A(q),className:"text-xs bg-pink-600 text-white px-3 py-1 rounded-lg hover:bg-pink-700 font-bold",children:"Aceptar"}),T.jsx("button",{onClick:()=>S(q),className:"text-xs bg-slate-200 text-slate-600 px-3 py-1 rounded-lg hover:bg-slate-300",children:"Rechazar"})]})]})]});case"couple_kiss":return T.jsxs(T.Fragment,{children:[T.jsx(tr,{size:16,className:"text-pink-400 mt-0.5 flex-shrink-0"}),T.jsxs("div",{className:"flex-1",children:[T.jsxs("p",{className:"text-sm text-slate-700",children:[T.jsx("span",{className:"font-semibold",children:G})," te envi un beso de nimo "]}),q.message&&T.jsxs("p",{className:"text-xs text-slate-500 mt-1 italic",children:['"',q.message,'"']}),T.jsx("p",{className:"text-xs text-slate-400 mt-1",children:q.createdAt?.toDate?.()?.toLocaleDateString()||"Reciente"})]})]});default:return null}};return T.jsxs("div",{className:"relative",children:[T.jsxs("button",{onClick:()=>u(!l),className:"relative p-2 text-slate-400 hover:bg-slate-100 rounded-full transition-colors",children:[T.jsx(Fx,{size:20}),d>0&&T.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-indigo-600 rounded-full border-2 border-white"})]}),l&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>u(!1)}),T.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-xl border border-slate-100 z-20 overflow-hidden",children:[T.jsxs("div",{className:"p-3 border-b border-slate-50 flex justify-between items-center bg-slate-50",children:[T.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase",children:"Notificaciones"}),d>0&&T.jsx("button",{onClick:y,className:"text-xs text-indigo-600 hover:underline font-bold",children:"Marcar ledas"})]}),T.jsx("div",{className:"max-h-96 overflow-y-auto",children:i.length===0?T.jsx("p",{className:"p-4 text-center text-slate-400 text-sm",children:"No tienes notificaciones."}):i.map(q=>T.jsx("div",{onClick:()=>!q.read&&q.type!=="couple_invite"&&g(q.id),className:`p-3 border-b border-slate-50 hover:bg-slate-50 transition-colors ${q.type!=="couple_invite"?"cursor-pointer":""} ${q.read?"":"bg-indigo-50/50"}`,children:T.jsx("div",{className:"flex gap-3",children:B(q)})},q.id))})]})]})]})}function CN({user:s,userProfile:e,db:i,onClose:r,habits:l=[]}){const[u,d]=ce.useState(!1),[p,g]=ce.useState(e?.displayName||""),[y,A]=ce.useState(e?.bio||""),[S,x]=ce.useState(e?.photoURL||""),[B,q]=ce.useState(!1);ce.useEffect(()=>{e&&(g(e.displayName||""),A(e.bio||""),x(e.photoURL||""))},[e]);const G=l.reduce((ee,ae)=>ee+(ae.completions?.length||0),0),Z=l.reduce((ee,ae)=>Math.max(ee,ae.streak||0),0),ne=async()=>{if(s){q(!0);try{const ee=ct(i,"users",s.uid);await Fn(ee,{displayName:p.trim()||s.email.split("@")[0],bio:y,photoURL:S}),d(!1)}catch(ee){console.error("Error updating profile:",ee)}finally{q(!1)}}};return T.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:T.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:[T.jsx("div",{className:"h-24 bg-gradient-to-r from-indigo-500 to-purple-500 relative",children:T.jsx("button",{onClick:r,className:"absolute right-4 top-4 p-2 bg-white/20 hover:bg-white/40 text-white rounded-full backdrop-blur-md transition-colors",children:T.jsx(Fp,{size:20})})}),T.jsxs("div",{className:"px-6 pb-6",children:[T.jsxs("div",{className:"relative -mt-12 mb-4 flex flex-col items-center",children:[T.jsxs("div",{className:"w-24 h-24 bg-white rounded-full p-1 shadow-lg relative group",children:[T.jsx("div",{className:"w-full h-full bg-slate-100 rounded-full flex items-center justify-center text-slate-400 overflow-hidden",children:S?T.jsx("img",{src:S,alt:"Profile",className:"w-full h-full object-cover"}):T.jsx(EN,{size:40})}),u&&T.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center text-white opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:T.jsx(Yx,{size:24})})]}),T.jsx("h2",{className:"mt-3 text-xl font-bold text-slate-800",children:e?.displayName||s.email.split("@")[0]}),T.jsx("p",{className:"text-sm text-slate-500",children:s.email})]}),T.jsxs("div",{className:"mb-6",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase",children:"Perfil"}),!u&&T.jsxs("button",{onClick:()=>d(!0),className:"text-indigo-600 hover:text-indigo-700 p-1 flex items-center gap-1 text-xs font-bold",children:[T.jsx(oN,{size:14})," EDITAR"]})]}),u?T.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2",children:[T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Nombre de Usuario"}),T.jsx(ms,{value:p,onChange:ee=>g(ee.target.value),placeholder:"Tu nombre",className:"text-sm py-2"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Foto de Perfil (URL)"}),T.jsx(ms,{value:S,onChange:ee=>x(ee.target.value),placeholder:"https://ejemplo.com/foto.jpg",className:"text-sm py-2"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Sobre m"}),T.jsx("textarea",{value:y,onChange:ee=>A(ee.target.value),className:"w-full p-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-600/20 focus:border-indigo-600 text-sm min-h-[80px]",placeholder:"Escribe algo sobre ti..."})]}),T.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[T.jsx(sa,{variant:"ghost",onClick:()=>d(!1),className:"text-xs",children:"Cancelar"}),T.jsx(sa,{variant:"primary",onClick:ne,disabled:B,className:"py-1 px-4 text-xs h-9",children:B?"Guardando...":"Guardar Cambios"})]})]}):T.jsx("p",{className:"text-slate-600 text-sm leading-relaxed italic text-center px-4",children:e?.bio||"Sin descripcin an. Edita tu perfil para aadir una!"})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("div",{className:"bg-indigo-50 p-3 rounded-xl border border-indigo-100 flex flex-col items-center justify-center text-center",children:[T.jsx(qx,{className:"text-indigo-600 mb-1",size:20}),T.jsx("span",{className:"text-2xl font-bold text-indigo-700",children:G}),T.jsx("span",{className:"text-xs text-indigo-600/80 font-medium",children:"Completados"})]}),T.jsxs("div",{className:"bg-purple-50 p-3 rounded-xl border border-purple-100 flex flex-col items-center justify-center text-center",children:[T.jsx(Qx,{className:"text-purple-600 mb-1",size:20}),T.jsx("span",{className:"text-2xl font-bold text-purple-700",children:Z}),T.jsx("span",{className:"text-xs text-purple-600/80 font-medium",children:"Mejor Racha"})]})]})]})]})})}function IN({isOpen:s,onClose:e,initialTab:i="following",db:r,currentUser:l,userProfile:u}){if(!s)return null;const[d,p]=ce.useState(i),[g,y]=ce.useState([]),[A,S]=ce.useState(!0),[x,B]=ce.useState(""),[q,G]=ce.useState([]),[Z,ne]=ce.useState(!1);ce.useEffect(()=>{if(d==="search"){S(!1);return}(async()=>{S(!0),y([]);try{let w=[];if(d==="following")w=u?.following||[];else{const C=In(ht(r,"users"),en("following","array-contains",l.uid)),D=(await eu(C)).docs.map(U=>U.data());y(D),S(!1);return}if(w.length>0){const C=[];for(const V of w){const D=await qp(ct(r,"users",V));D.exists()&&C.push(D.data())}y(C)}}catch(w){console.error("Error fetching users:",w)}finally{S(!1)}})()},[d,u,r,l]);const ee=async R=>{if(R.preventDefault(),!!x.trim()){ne(!0);try{const w=In(ht(r,"users"),en("email","==",x.toLowerCase().trim())),V=(await eu(w)).docs.map(D=>D.data()).filter(D=>D.uid!==l.uid);G(V)}catch(w){console.error("Error searching users:",w)}finally{ne(!1)}}},ae=async R=>{try{await Fn(ct(r,"users",l.uid),{following:R1(R)});const w=u?.displayName||l.email.split("@")[0];await ki(ht(r,"notifications"),{userId:R,type:"new_follower",fromUid:l.uid,fromEmail:l.email,fromDisplayName:w,read:!1,createdAt:Ui()}),G(q.map(C=>C.uid===R?{...C,_justFollowed:!0}:C))}catch(w){console.error(w),alert("Error al seguir usuario")}},ge=async R=>{try{await Fn(ct(r,"users",l.uid),{following:Ix(R)}),y(g.filter(w=>w.uid!==R))}catch(w){console.error(w)}},Re=async R=>{try{if(u?.partnerId){alert("Ya tienes pareja. Solo puedes tener una pareja a la vez.");return}const w=u?.displayName||l.email.split("@")[0];confirm(`Quieres invitar a ${R.displayName||R.email.split("@")[0]} a ser tu pareja en la app?`)&&(await ki(ht(r,"couple_invites"),{fromUid:l.uid,fromEmail:l.email,fromDisplayName:w,toUid:R.uid,toEmail:R.email,status:"pending",createdAt:Ui()}),await ki(ht(r,"notifications"),{userId:R.uid,type:"couple_invite",fromUid:l.uid,fromEmail:l.email,fromDisplayName:w,read:!1,createdAt:Ui()}),alert("Invitacin enviada! "))}catch(w){console.error("Error sending couple invite:",w),alert("Error al enviar invitacin. Intntalo de nuevo.")}},be=R=>u?.following?.includes(R);return T.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:T.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md h-[80vh] flex flex-col shadow-2xl animate-in fade-in zoom-in duration-200",children:[T.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between",children:[T.jsx("h2",{className:"font-bold text-lg text-slate-800",children:"Social"}),T.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:T.jsx(Fp,{size:20})})]}),T.jsxs("div",{className:"flex p-2 gap-2 border-b border-slate-100",children:[T.jsx("button",{onClick:()=>p("search"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-colors ${d==="search"?"bg-indigo-50 text-indigo-600":"text-slate-500 hover:bg-slate-50"}`,children:"Buscar"}),T.jsx("button",{onClick:()=>p("following"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-colors ${d==="following"?"bg-indigo-50 text-indigo-600":"text-slate-500 hover:bg-slate-50"}`,children:"Siguiendo"}),T.jsx("button",{onClick:()=>p("followers"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-colors ${d==="followers"?"bg-indigo-50 text-indigo-600":"text-slate-500 hover:bg-slate-50"}`,children:"Seguidores"})]}),d==="search"&&T.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[T.jsxs("form",{onSubmit:ee,className:"relative",children:[T.jsx(ms,{type:"email",value:x,onChange:R=>B(R.target.value),placeholder:"Buscar por email...",className:"pr-12"}),T.jsx("button",{type:"submit",disabled:!x.trim()||Z,className:"absolute right-2 top-2 p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-all",children:T.jsx(cN,{size:20})})]}),T.jsx("div",{className:"space-y-3",children:Z?T.jsx("p",{className:"text-center text-slate-400 py-8",children:"Buscando..."}):q.length===0&&x?T.jsx("p",{className:"text-center text-slate-400 py-8",children:"No se encontraron usuarios"}):q.map(R=>{const w=be(R.uid)||R._justFollowed;return T.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-xl border border-slate-100",children:[T.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[T.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 font-bold shrink-0",children:(R.displayName||R.email)[0].toUpperCase()}),T.jsxs("div",{className:"min-w-0",children:[T.jsx("p",{className:"font-medium text-slate-800 truncate",children:R.displayName||R.email.split("@")[0]}),T.jsx("p",{className:"text-xs text-slate-500 truncate",children:R.email})]})]}),w?T.jsx("span",{className:"px-3 py-1.5 text-xs font-medium text-indigo-600 bg-indigo-50 rounded-lg",children:"Siguiendo"}):T.jsxs("button",{onClick:()=>ae(R.uid),className:"px-3 py-1.5 text-xs font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg transition-colors flex items-center gap-1",children:[T.jsx(N1,{size:14}),"Seguir"]})]},R.uid)})})]}),d!=="search"&&T.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:A?T.jsx("p",{className:"text-center text-slate-400 py-8",children:"Cargando..."}):g.length===0?T.jsx("p",{className:"text-center text-slate-400 py-8",children:d==="following"?"No sigues a nadie an.":"An no tienes seguidores."}):g.map(R=>T.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-xl border border-slate-100",children:[T.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[T.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 font-bold shrink-0",children:(R.displayName||R.email)[0].toUpperCase()}),T.jsxs("div",{className:"min-w-0",children:[T.jsx("p",{className:"font-medium text-slate-800 truncate",children:R.displayName||R.email.split("@")[0]}),T.jsx("p",{className:"text-xs text-slate-500 truncate",children:R.email})]})]}),T.jsx("div",{className:"flex items-center gap-1",children:d==="following"&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>Re(R),disabled:u?.partnerId,className:`p-2 rounded-full transition-colors ${u?.partnerId?"text-slate-300 cursor-not-allowed":"text-pink-400 hover:bg-pink-50 hover:text-pink-600"}`,title:u?.partnerId?"Ya tienes pareja":"Invitar como Pareja",children:T.jsx(tr,{size:18})}),T.jsx("button",{onClick:()=>ge(R.uid),className:"p-2 text-slate-400 hover:bg-red-50 hover:text-red-600 rounded-full transition-colors",title:"Dejar de seguir",children:T.jsx(yN,{size:18})})]})})]},R.uid))})]})})}function xN({isOpen:s,onClose:e,db:i,user:r}){if(!s)return null;const[l,u]=ce.useState(""),[d,p]=ce.useState(""),[g,y]=ce.useState(!1),A=async S=>{if(S.preventDefault(),!(!l.trim()||!r)){y(!0);try{const x=await ki(ht(i,"challenges"),{title:l.trim(),description:d.trim(),createdBy:r.uid,creatorName:r.email.split("@")[0],participants:[r.uid],createdAt:Ui()});await ki(ht(i,"habitos"),{title:l.trim(),userId:r.uid,userName:r.email.split("@")[0],createdAt:Ui(),completions:[],streak:0,challengeId:x.id}),e(),u(""),p("")}catch(x){console.error("Error creating challenge:",x)}finally{y(!1)}}};return T.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:T.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:[T.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-indigo-50",children:[T.jsxs("h2",{className:"font-bold text-lg text-indigo-900 flex items-center gap-2",children:[T.jsx(Jh,{size:20,className:"text-indigo-600"}),"Nuevo Reto"]}),T.jsx("button",{onClick:e,className:"p-2 hover:bg-indigo-100 rounded-full text-indigo-400",children:T.jsx(Fp,{size:20})})]}),T.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Ttulo del Reto"}),T.jsx(ms,{value:l,onChange:S=>u(S.target.value),placeholder:"Ej: Meditar 10 min diarios",className:"font-medium"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Descripcin (Opcional)"}),T.jsx("textarea",{value:d,onChange:S=>p(S.target.value),placeholder:"Explica de qu trata...",className:"w-full p-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-600/20 focus:border-indigo-600 min-h-[100px] text-sm"})]}),T.jsxs("div",{className:"pt-2",children:[T.jsx(sa,{type:"submit",disabled:!l.trim()||g,className:"w-full",children:g?"Creando...":"Lanzar Reto"}),T.jsx("p",{className:"text-xs text-center text-slate-400 mt-3",children:"Al crear el reto, te unirs automticamente."})]})]})]})})}function NN({db:s,user:e,onSelectChallenge:i}){const[r,l]=ce.useState([]),[u,d]=ce.useState(!1);ce.useEffect(()=>{const g=In(ht(s,"challenges"),b1("createdAt","desc")),y=ls(g,A=>{l(A.docs.map(S=>({id:S.id,...S.data()})))});return()=>y()},[s]);const p=async g=>{if(e)try{await Fn(ct(s,"challenges",g.id),{participants:R1(e.uid)}),await ki(ht(s,"habitos"),{title:g.title,userId:e.uid,userName:e.email.split("@")[0],createdAt:Ui(),completions:[],streak:0,challengeId:g.id}),i(g.id)}catch(y){console.error("Error joining challenge:",y)}};return T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Retos Disponibles"}),T.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 text-sm font-bold text-indigo-600 hover:bg-indigo-50 px-3 py-2 rounded-lg transition-colors",children:[T.jsx(I1,{size:18}),"Crear Reto"]})]}),T.jsx("div",{className:"grid gap-4",children:r.length===0?T.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-dashed border-slate-200",children:[T.jsx(Jh,{size:32,className:"mx-auto text-slate-300 mb-2"}),T.jsx("p",{className:"text-slate-500",children:"No hay retos activos."}),T.jsx("p",{className:"text-sm text-slate-400",children:"S el primero en crear uno!"})]}):r.map(g=>{const y=g.participants?.includes(e?.uid);return T.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-all group",children:[T.jsxs("div",{className:"flex justify-between items-start mb-3",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-lg text-slate-800 group-hover:text-indigo-600 transition-colors",children:g.title}),T.jsx("p",{className:"text-sm text-slate-500 line-clamp-2",children:g.description})]}),T.jsxs("div",{className:"bg-indigo-50 text-indigo-600 px-2 py-1 rounded-lg text-xs font-bold flex items-center gap-1",children:[T.jsx(D1,{size:14}),g.participants?.length||0]})]}),T.jsxs("div",{className:"flex items-center justify-between mt-4",children:[T.jsxs("div",{className:"text-xs text-slate-400",children:["Creado por ",T.jsx("span",{className:"font-medium text-slate-600",children:g.creatorName})]}),y?T.jsxs(sa,{variant:"secondary",onClick:()=>i(g.id),className:"py-2 px-4 text-xs h-auto",children:["Ver Ranking ",T.jsx(zx,{size:14,className:"ml-1"})]}):T.jsx(sa,{variant:"primary",onClick:()=>p(g),className:"py-2 px-4 text-xs h-auto",children:"Unirse al Reto"})]})]},g.id)})}),T.jsx(xN,{isOpen:u,onClose:()=>d(!1),db:s,user:e})]})}function DN({db:s,user:e,challengeId:i,onBack:r}){const[l,u]=ce.useState(null),[d,p]=ce.useState([]),[g,y]=ce.useState([]),[A,S]=ce.useState(""),[x,B]=ce.useState("ranking");ce.useEffect(()=>{(async()=>{const Z=ct(s,"challenges",i),ne=await qp(Z);ne.exists()&&u({id:ne.id,...ne.data()})})()},[i,s]),ce.useEffect(()=>{const G=In(ht(s,"habitos"),en("challengeId","==",i)),Z=ls(G,ne=>{const ae=ne.docs.map(ge=>ge.data()).map(ge=>({uid:ge.userId,name:ge.userName,score:ge.completions?.length||0,streak:ge.streak||0}));ae.sort((ge,Re)=>Re.score-ge.score||Re.streak-ge.streak),p(ae)});return()=>Z()},[i,s]),ce.useEffect(()=>{const G=In(ht(s,"challenge_posts"),en("challengeId","==",i),b1("createdAt","desc")),Z=ls(G,ne=>{y(ne.docs.map(ee=>({id:ee.id,...ee.data()})))},ne=>{console.warn("Index might be missing for posts. Check console.",ne)});return()=>Z()},[i,s]);const q=async G=>{if(G.preventDefault(),!!A.trim())try{await ki(ht(s,"challenge_posts"),{challengeId:i,userId:e.uid,userName:e.email.split("@")[0],content:A.trim(),createdAt:Ui()}),S("")}catch(Z){console.error(Z)}};return l?T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[T.jsxs("button",{onClick:r,className:"text-slate-400 hover:text-slate-600 mb-4 flex items-center gap-1 text-sm font-bold",children:[T.jsx(jx,{size:16})," Volver"]}),T.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:l.title}),T.jsx("p",{className:"text-slate-500",children:l.description})]}),T.jsxs("div",{className:"flex p-1 bg-white rounded-xl shadow-sm border border-slate-100",children:[T.jsxs("button",{onClick:()=>B("ranking"),className:`flex-1 py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-all ${x==="ranking"?"bg-indigo-50 text-indigo-600":"text-slate-500"}`,children:[T.jsx(Jh,{size:16})," Ranking"]}),T.jsxs("button",{onClick:()=>B("wall"),className:`flex-1 py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-all ${x==="wall"?"bg-indigo-50 text-indigo-600":"text-slate-500"}`,children:[T.jsx(rN,{size:16})," Muro"]})]}),T.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2",children:x==="ranking"?T.jsx("div",{className:"space-y-3",children:d.map((G,Z)=>T.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border ${Z===0?"bg-yellow-50 border-yellow-200":"bg-white border-slate-100"}`,children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${Z===0?"bg-yellow-100 text-yellow-600":"bg-slate-100 text-slate-500"}`,children:Z+1}),T.jsxs("div",{children:[T.jsx("p",{className:`font-bold ${Z===0?"text-yellow-800":"text-slate-700"}`,children:G.uid===e.uid?"T":G.name}),T.jsxs("p",{className:"text-xs text-slate-400",children:["Racha actual: ",G.streak," das"]})]})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("span",{className:`text-xl font-bold ${Z===0?"text-yellow-600":"text-indigo-600"}`,children:G.score}),T.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400",children:"Completados"})]})]},Z))}):T.jsxs("div",{className:"space-y-4",children:[T.jsxs("form",{onSubmit:q,className:"flex gap-2",children:[T.jsx(ms,{value:A,onChange:G=>S(G.target.value),placeholder:"Comparte tu progreso...",className:"flex-1"}),T.jsx("button",{type:"submit",disabled:!A.trim(),className:"bg-indigo-600 text-white p-3 rounded-xl hover:bg-indigo-700 disabled:opacity-50",children:T.jsx(x1,{size:20})})]}),T.jsxs("div",{className:"space-y-3",children:[g.map(G=>T.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-100",children:[T.jsxs("div",{className:"flex justify-between items-start mb-1",children:[T.jsx("span",{className:"font-bold text-sm text-slate-700",children:G.userName}),T.jsx("span",{className:"text-[10px] text-slate-400",children:G.createdAt?.seconds?new Date(G.createdAt.seconds*1e3).toLocaleDateString():"Ahora"})]}),T.jsx("p",{className:"text-slate-600 text-sm",children:G.content})]},G.id)),g.length===0&&T.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"S el primero en escribir algo."})]})]})})]}):T.jsx("div",{className:"p-8 text-center text-slate-400",children:"Cargando reto..."})}function ON({db:s,user:e,userProfile:i}){const[r,l]=ce.useState(null),[u,d]=ce.useState([]),[p,g]=ce.useState([]),[y,A]=ce.useState([]),[S,x]=ce.useState(""),[B,q]=ce.useState(!1),G=i?.partnerId;ce.useEffect(()=>{if(!G)return;(async()=>{const ae=await qp(ct(s,"users",G));ae.exists()&&l(ae.data())})()},[G,s]),ce.useEffect(()=>{if(!e)return;const ee=In(ht(s,"habitos"),en("userId","==",e.uid)),ae=ls(ee,ge=>{d(ge.docs.map(Re=>({id:Re.id,...Re.data()})))});return()=>ae()},[e,s]),ce.useEffect(()=>{if(!G)return;const ee=In(ht(s,"habitos"),en("userId","==",G)),ae=ls(ee,ge=>{g(ge.docs.map(Re=>({id:Re.id,...Re.data()})))});return()=>ae()},[G,s]),ce.useEffect(()=>{if(!e)return;const ee=In(ht(s,"couple_kisses"),en("toUid","==",e.uid)),ae=ls(ee,ge=>{const Re=ge.docs.map(be=>({id:be.id,...be.data()}));Re.sort((be,R)=>(R.createdAt?.seconds||0)-(be.createdAt?.seconds||0)),A(Re.slice(0,5))});return()=>ae()},[e,s]);const Z=async ee=>{if(ee.preventDefault(),!!G){q(!0);try{await ki(ht(s,"couple_kisses"),{fromUid:e.uid,toUid:G,message:S.trim(),createdAt:Ui()}),await ki(ht(s,"notifications"),{userId:G,type:"couple_kiss",fromUid:e.uid,fromEmail:e.email,fromDisplayName:i?.displayName||e.email.split("@")[0],message:S.trim(),read:!1,createdAt:Ui()}),x(""),alert("Beso enviado! ")}catch(ae){console.error("Error sending kiss:",ae)}finally{q(!1)}}},ne=async()=>{if(confirm("Ests seguro de que quieres desvincular tu pareja? Esta accin no se puede deshacer."))try{await Fn(ct(s,"users",e.uid),{partnerId:null}),await Fn(ct(s,"users",G),{partnerId:null}),alert("Pareja desvinculada.")}catch(ee){console.error("Error unlinking couple:",ee),alert("Error al desvincular. Intntalo de nuevo.")}};return G?r?T.jsxs("div",{className:"space-y-6",children:[T.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-500 rounded-2xl p-6 text-white shadow-lg",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[T.jsx(tr,{size:24,fill:"currentColor"}),"Espacio de Pareja"]}),T.jsxs("p",{className:"text-pink-100 mt-1",children:["Con ",r.displayName||r.email.split("@")[0]]})]}),T.jsx("button",{onClick:ne,className:"text-pink-100 hover:text-white text-xs font-bold px-3 py-1.5 border border-pink-200/50 rounded-lg hover:bg-white/10 transition-colors",children:"Desvincular"})]})}),T.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-pink-100 shadow-sm",children:[T.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[T.jsx(tr,{size:20,className:"text-pink-600",fill:"currentColor"}),"Beso de nimo"]}),T.jsxs("form",{onSubmit:Z,className:"space-y-3",children:[T.jsx(ms,{value:S,onChange:ee=>x(ee.target.value),placeholder:"Mensaje opcional (ej: Vas genial!)",className:"text-sm"}),T.jsxs(sa,{type:"submit",disabled:B,className:"w-full flex items-center justify-center gap-2",children:[T.jsx(x1,{size:18}),B?"Enviando...":"Enviar Beso "]})]}),y.length>0&&T.jsxs("div",{className:"mt-6",children:[T.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase mb-3",children:"Besos Recibidos"}),T.jsx("div",{className:"space-y-2",children:y.map(ee=>T.jsx("div",{className:"bg-pink-50 p-3 rounded-lg border border-pink-100",children:T.jsxs("div",{className:"flex items-start gap-2",children:[T.jsx(tr,{size:14,className:"text-pink-600 mt-0.5 flex-shrink-0",fill:"currentColor"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-xs text-slate-500",children:ee.createdAt?.toDate?.()?.toLocaleDateString()||"Reciente"}),ee.message&&T.jsxs("p",{className:"text-sm text-slate-700 italic mt-1",children:['"',ee.message,'"']})]})]})},ee.id))})]})]}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[T.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm",children:[T.jsxs("h3",{className:"text-md font-bold text-slate-800 mb-4 flex items-center gap-2",children:[T.jsx(tu,{size:18,className:"text-indigo-600"}),"Tus Objetivos"]}),T.jsx("div",{className:"space-y-2",children:u.length===0?T.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"Sin objetivos"}):u.map(ee=>T.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg",children:[T.jsx("p",{className:"text-sm font-medium text-slate-700",children:ee.title}),T.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[T.jsxs("span",{className:"text-xs text-slate-500",children:["Racha: ",ee.streak," das"]}),T.jsxs("span",{className:"text-xs text-indigo-600",children:[" ",ee.completions?.length||0," completados"]})]})]},ee.id))})]}),T.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm",children:[T.jsxs("h3",{className:"text-md font-bold text-slate-800 mb-4 flex items-center gap-2",children:[T.jsx(tu,{size:18,className:"text-pink-600"}),"Objetivos de ",r.displayName||r.email.split("@")[0]]}),T.jsx("div",{className:"space-y-2",children:p.length===0?T.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"Sin objetivos"}):p.map(ee=>T.jsxs("div",{className:"p-3 bg-pink-50 rounded-lg border border-pink-100",children:[T.jsx("p",{className:"text-sm font-medium text-slate-700",children:ee.title}),T.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[T.jsxs("span",{className:"text-xs text-slate-500",children:["Racha: ",ee.streak," das"]}),T.jsxs("span",{className:"text-xs text-pink-600",children:[" ",ee.completions?.length||0," completados"]})]})]},ee.id))})]})]})]}):T.jsx("div",{className:"p-8 text-center text-slate-400",children:"Cargando..."}):T.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center border border-slate-100 shadow-sm",children:[T.jsx(tr,{size:40,className:"text-slate-300 mx-auto mb-4"}),T.jsx("p",{className:"text-slate-500",children:"An no tienes pareja. Invita a alguien desde tu lista de seguidos."})]})}function MN({db:s,user:e,userProfile:i,onLogout:r}){const[l,u]=ce.useState([]),[d,p]=ce.useState(""),[g,y]=ce.useState("me"),[A,S]=ce.useState(null),[x,B]=ce.useState(!1),[q,G]=ce.useState(!1),[Z,ne]=ce.useState("following"),[ee,ae]=ce.useState(0),ge=!!i?.partnerId;ce.useEffect(()=>{if(!e)return;const C=ht(s,"habitos"),V=In(C,en("userId","==",e.uid)),D=ls(V,I=>{const qe=I.docs.map(at=>({id:at.id,...at.data()}));qe.sort((at,Q)=>(Q.createdAt?.seconds||0)-(at.createdAt?.seconds||0)),u(qe)});return(async()=>{const I=In(ht(s,"users"),en("following","array-contains",e.uid)),qe=await eu(I);ae(qe.size)})(),()=>D()},[e,s]);const Re=async C=>{if(C.preventDefault(),!(!d.trim()||!e))try{await ki(ht(s,"habitos"),{title:d,userId:e.uid,userName:e.email.split("@")[0],createdAt:Ui(),completions:[],streak:0}),p("")}catch(V){console.error(V)}},be=async C=>{const V=new Date().toLocaleDateString("en-CA"),D=C.completions.includes(V);let U=D?C.completions.filter(qe=>qe!==V):[...C.completions,V],I=D?Math.max(0,C.streak-1):C.streak+1;await Fn(ct(s,"habitos",C.id),{completions:U,streak:I})},R=async C=>{confirm("Eliminar?")&&await Fm(ct(s,"habitos",C))},w=C=>{ne(C),G(!0)};return T.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-800 pb-20",children:[T.jsx("header",{className:"bg-white px-4 py-3 shadow-sm sticky top-0 z-10",children:T.jsxs("div",{className:"max-w-3xl mx-auto flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>B(!0),children:[T.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center text-white shadow-md overflow-hidden",children:i?.photoURL?T.jsx("img",{src:i.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):T.jsx("span",{className:"font-bold text-lg",children:(i?.displayName||e.email)[0].toUpperCase()})}),T.jsxs("div",{className:"hidden sm:block",children:[T.jsxs("h2",{className:"font-bold text-sm leading-tight",children:["Hola, ",i?.displayName||e.email.split("@")[0]]}),T.jsx("p",{className:"text-xs text-slate-400",children:"Ver Perfil"})]})]}),T.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[T.jsxs("div",{className:"flex gap-2 text-xs font-medium text-slate-600",children:[T.jsxs("button",{onClick:()=>w("followers"),className:"hover:text-indigo-600 transition-colors",children:[T.jsx("span",{className:"font-bold text-slate-800",children:ee})," Seguidores"]}),T.jsx("span",{className:"text-slate-300",children:"|"}),T.jsxs("button",{onClick:()=>w("following"),className:"hover:text-indigo-600 transition-colors",children:[T.jsx("span",{className:"font-bold text-slate-800",children:i?.following?.length||0})," Seguidos"]})]}),T.jsx("div",{className:"h-6 w-px bg-slate-200 mx-1"}),T.jsx(RN,{db:s,user:e}),T.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:bg-slate-100 rounded-full transition-colors",title:"Cerrar Sesin",children:T.jsx(tN,{size:18})})]})]})}),T.jsxs("main",{className:"max-w-3xl mx-auto p-4 space-y-6",children:[T.jsxs("div",{className:"flex p-1 bg-white rounded-xl shadow-sm border border-slate-100 sticky top-20 z-0",children:[T.jsxs("button",{onClick:()=>y("me"),className:`flex-1 py-2.5 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-all ${g==="me"?"bg-indigo-50 text-indigo-600 shadow-sm":"text-slate-500 hover:bg-slate-50"}`,children:[T.jsx(tu,{size:18}),T.jsx("span",{className:"hidden sm:inline",children:"Mis Objetivos"})]}),T.jsxs("button",{onClick:()=>y("community"),className:`flex-1 py-2.5 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-all ${g==="community"?"bg-indigo-50 text-indigo-600 shadow-sm":"text-slate-500 hover:bg-slate-50"}`,children:[T.jsx(D1,{size:18}),T.jsx("span",{className:"hidden sm:inline",children:"Comunidad"})]}),ge&&T.jsxs("button",{onClick:()=>y("couple"),className:`flex-1 py-2.5 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-all ${g==="couple"?"bg-pink-50 text-pink-600 shadow-sm":"text-slate-500 hover:bg-slate-50"}`,children:[T.jsx(tr,{size:18}),T.jsx("span",{className:"hidden sm:inline",children:"Pareja"})]})]}),T.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",children:[g==="me"&&T.jsxs("div",{className:"space-y-6",children:[T.jsxs("form",{onSubmit:Re,className:"relative group",children:[T.jsx(ms,{value:d,onChange:C=>p(C.target.value),placeholder:"Qu quieres lograr hoy?",className:"pr-14 shadow-sm border-slate-200 focus:border-indigo-500"}),T.jsx("button",{type:"submit",disabled:!d.trim(),className:"absolute right-2 top-2 p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-all active:scale-95 shadow-md shadow-indigo-200",children:T.jsx(I1,{size:20})})]}),T.jsxs("div",{className:"space-y-3",children:[l.map(C=>T.jsx(wN,{habit:C,onToggle:()=>be(C),onDelete:()=>R(C.id),isOwner:!0},C.id)),l.length===0&&T.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-dashed border-slate-200",children:[T.jsx("div",{className:"w-16 h-16 bg-indigo-50 text-indigo-300 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx(tu,{size:32})}),T.jsx("p",{className:"text-slate-500 font-medium",children:"No tienes objetivos activos."}),T.jsx("p",{className:"text-sm text-slate-400",children:"Comienza agregando uno arriba!"})]})]})]}),g==="community"&&(A?T.jsx(DN,{db:s,user:e,challengeId:A,onBack:()=>S(null)}):T.jsx(NN,{db:s,user:e,onSelectChallenge:S})),g==="couple"&&ge&&T.jsx(ON,{db:s,user:e,userProfile:i})]})]}),x&&T.jsx(CN,{user:e,userProfile:i,db:s,onClose:()=>B(!1),habits:l}),T.jsx(IN,{isOpen:q,onClose:()=>G(!1),initialTab:Z,db:s,currentUser:e,userProfile:i})]})}const VN={apiKey:"AIzaSyBRx7N3mNQEmGG7B7fW2sG5ntwWHk0TE3U",authDomain:"habitos-pareja.firebaseapp.com",projectId:"habitos-pareja",storageBucket:"habitos-pareja.firebasestorage.app",messagingSenderId:"456771119690",appId:"1:456771119690:web:9c208c7f3e00391bb014b3",measurementId:"G-ZHYZWPE4D4"},O1=cE(VN),Jc=vR(O1),Wc=yx(O1);function kN(){const[s,e]=ce.useState(null),[i,r]=ce.useState(null),[l,u]=ce.useState("loading"),[d,p]=ce.useState("");ce.useEffect(()=>{const S=o2(Jc,async x=>{if(x){e(x);const B=ls(ct(Wc,"users",x.uid),q=>{if(q.exists())r(q.data());else{const G={uid:x.uid,email:x.email,following:[]};Z0(ct(Wc,"users",x.uid),G),r(G)}},q=>{console.error("Error listening to user profile:",q)});return u("dashboard"),()=>B()}else e(null),r(null),u("login")});return()=>S()},[]);const g=async(S,x)=>{p("");try{await s2(Jc,S,x)}catch(B){console.error(B),p("Error al entrar. Revisa tu correo y contrasea.")}},y=async(S,x)=>{p("");try{const q=(await i2(Jc,S,x)).user,G={uid:q.uid,email:q.email,following:[]};await Z0(ct(Wc,"users",q.uid),G)}catch(B){console.error(B),B.code==="auth/email-already-in-use"?p("Este correo ya est registrado."):B.code==="auth/weak-password"?p("La contrasea debe tener al menos 6 caracteres."):p("Error al registrarse: "+B.message)}},A=async()=>{await l2(Jc),u("login")};return l==="loading"?T.jsx("div",{className:"min-h-screen flex items-center justify-center text-rose-500",children:"Cargando..."}):l==="login"||l==="register"?T.jsx(SN,{onLogin:g,onRegister:y,errorMsg:d,setErrorMsg:p}):T.jsx(MN,{db:Wc,user:s,userProfile:i,onLogout:A})}Eb.createRoot(document.getElementById("root")).render(T.jsx(fb.StrictMode,{children:T.jsx(kN,{})}));
